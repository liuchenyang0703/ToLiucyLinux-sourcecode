<template><div><figure><img src="https://lcy-blog.oss-cn-beijing.aliyuncs.com/blog/202412161043752.jpeg" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure>
<h2 id="â€å†™åœ¨æœ€å‰-ç›¸å…³æ–‡ç« " tabindex="-1"><a class="header-anchor" href="#â€å†™åœ¨æœ€å‰-ç›¸å…³æ–‡ç« " aria-hidden="true">#</a> â€å†™åœ¨æœ€å‰ï¼ˆç›¸å…³æ–‡ç« ï¼‰</h2>
<blockquote>
<font color=red size=4.5>**ç›¸å…³æ–‡ç« ï¼š**</font> <br><hr>
<p>ğŸ’» <a href="https://liucy.blog.csdn.net/article/details/124248236" target="_blank" rel="noopener noreferrer">zabbix5.0éƒ¨ç½²ï¼ˆè¶…çº§è¯¦ç»†ï¼‰<ExternalLinkIcon/></a><br></p>
<hr>
<p>ğŸ’» <a href="https://liucy.blog.csdn.net/article/details/124101253" target="_blank" rel="noopener noreferrer">zabbixæ·»åŠ è‡ªå®šä¹‰ç›‘æ§é¡¹&amp;å‘Šè­¦ï¼ˆé‚®ä»¶ï¼‰<ExternalLinkIcon/></a><br></p>
<hr>
<p>ğŸ’» <a href="https://liucy.blog.csdn.net/article/details/125543212" target="_blank" rel="noopener noreferrer">Zabbix5.0é…ç½®ä¼ä¸šå¾®ä¿¡å‘Šè­¦<ExternalLinkIcon/></a><br></p>
<hr>
<p>ğŸ’» <a href="https://liucy.blog.csdn.net/article/details/125778643" target="_blank" rel="noopener noreferrer">CentOS7 ç¦»çº¿å®‰è£… Zabbix5.0<ExternalLinkIcon/></a></p>
<hr>
<p>ğŸ’» <a href="https://download.csdn.net/download/liu_chen_yang/86168600" target="_blank" rel="noopener noreferrer">zabbix5.0ç¦»çº¿è„šæœ¬ä¸€é”®å®‰è£…(åŒ…å«æœåŠ¡ç«¯ã€å®¢æˆ·ç«¯ã€è„šæœ¬å’Œä½¿ç”¨è¯´æ˜)<ExternalLinkIcon/></a></p>
</blockquote>
<hr>
<p>@[toc]</p>
<blockquote>
<p>â€ƒâ€ƒå„ä½è¿ç»´çš„æœ‹å‹ä»¬éƒ½æœ‰å¯èƒ½é‡åˆ°è¿‡åœ¨å…¬å¸å†…ç½‘ç¯å¢ƒä¸‹æ— æ³•è®¿é—®å¤–ç½‘æƒ…å†µï¼Œæ— æ³•è®¿é—®å¤–ç½‘yumæºéƒ¨ç½²ZABBIX å¯¹äºrpmåŒ…ä¾èµ–é—®é¢˜æ¯”è¾ƒå¤´ç–¼ã€‚æœ¬æ–‡å°†ä¼šè¿›è¡Œç¦»çº¿éƒ¨ç½²å®æˆ˜ã€‚åŒæ—¶å¤§å®¶ä¹Ÿå¯ä»¥å†™æˆä¸€ä»½shellè„šæœ¬ç›´æ¥ç¦»çº¿å®‰è£…ä¸€é”®éƒ¨ç½²å°±å¯ä»¥äº†ã€‚</p>
</blockquote>
<blockquote>
<p>â€ƒâ€ƒç¦»çº¿å®‰è£…çš„è¯å°±éœ€è¦rpmåŒ…å’Œä¾èµ–åŒ…ï¼Œé‚£ä¹ˆè¿™æ—¶å€™æˆ‘ä»¬é¦–å…ˆå°±è¦å…ˆåœ¨<font color=red>æœ‰å¤–ç½‘çš„ç¯å¢ƒä¸‹è½½ä¸‹æ¥</font>ï¼Œå®Œäº†ä¹‹åï¼Œå¯ä»¥å°†rpmæ‰“åŒ…èµ·æ¥ï¼Œå†å†™ä¸ªæ‰§è¡Œè„šæœ¬ï¼Œå°±å¯ä»¥ä¸€é”®éƒ¨ç½²äº†ï¼›<font color=green>æµ‹è¯•çš„è¯å°±å¯ä»¥æ‰¾ä¸€ä¸ªå†…ç½‘ç¯å¢ƒæ¥æµ‹è¯•äº†ã€‚</font></p>
</blockquote>
<h2 id="åœ¨æœ‰å¤–ç½‘çš„ç¯å¢ƒä¸­æ“ä½œå¹¶ä¸‹è½½ç¦»çº¿å®‰è£…åŒ…" tabindex="-1"><a class="header-anchor" href="#åœ¨æœ‰å¤–ç½‘çš„ç¯å¢ƒä¸­æ“ä½œå¹¶ä¸‹è½½ç¦»çº¿å®‰è£…åŒ…" aria-hidden="true">#</a> åœ¨æœ‰å¤–ç½‘çš„ç¯å¢ƒä¸­æ“ä½œå¹¶ä¸‹è½½ç¦»çº¿å®‰è£…åŒ…</h2>
<h3 id="_1ã€è·å–zabbixæº" tabindex="-1"><a class="header-anchor" href="#_1ã€è·å–zabbixæº" aria-hidden="true">#</a> 1ã€è·å–zabbixæº</h3>
<div class="language-bash line-numbers-mode" data-ext="sh"><pre v-pre class="language-bash"><code><span class="token comment">#æ²¡æœ‰wgetå‘½ä»¤çš„å¯ä»¥å…ˆä¸‹è½½ä¸€ä¸ªwgetå‘½ä»¤</span>
yum <span class="token parameter variable">-y</span> <span class="token function">install</span> <span class="token function">wget</span>

<span class="token comment">#æ¥ç€ä¸‹è½½zabbix-release-5.0-1.el7.noarch.rpmåŒ…</span>
<span class="token function">wget</span> https://mirrors.aliyun.com/zabbix/zabbix/5.0/rhel/7/x86_64/zabbix-release-5.0-1.el7.noarch.rpm
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><img src="https://lcy-blog.oss-cn-beijing.aliyuncs.com/blog/202412161043171.png" alt="" loading="lazy"><br>
æ˜¾ç¤º200okå³ä¸‹è½½æˆåŠŸï¼Œç„¶åæˆ‘ä»¬å®‰è£…ï¼›</p>
<div class="language-bash line-numbers-mode" data-ext="sh"><pre v-pre class="language-bash"><code><span class="token function">rpm</span> <span class="token parameter variable">-ivh</span> zabbix-release-5.0-1.el7.noarch.rpm
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><figure><img src="https://lcy-blog.oss-cn-beijing.aliyuncs.com/blog/202412161043020.png" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure>
<div class="language-bash line-numbers-mode" data-ext="sh"><pre v-pre class="language-bash"><code><span class="token comment">#çœ‹ä¸€ä¸‹/etc/yum.repos.dç›®å½•ä¸‹å¤šäº†ä¸€ä¸ªzabbix.repo</span>
<span class="token function">ls</span> /etc/yum.repos.d
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><figure><img src="https://lcy-blog.oss-cn-beijing.aliyuncs.com/blog/202412161043819.png" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure>
<p>è¿™å°±ç›¸å½“äºä¸‹è½½äº†ä¸€ä¸ªzabbixçš„æºï¼›</p>
<h3 id="_2ã€ä¿®æ”¹zabbix-repoæ–‡ä»¶" tabindex="-1"><a class="header-anchor" href="#_2ã€ä¿®æ”¹zabbix-repoæ–‡ä»¶" aria-hidden="true">#</a> 2ã€ä¿®æ”¹zabbix.repoæ–‡ä»¶</h3>
<div class="language-bash line-numbers-mode" data-ext="sh"><pre v-pre class="language-bash"><code><span class="token comment">#è¿›å…¥zabbix.repoæ–‡ä»¶ä¸­</span>
<span class="token function">vim</span> /etc/yum.repos.d/zabbix.repo
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><p>å°†<font color=red>zabbix-frontend </font>ä¸‹é¢çš„ enabled = 0æ›´æ”¹ä¸º<font color=red> enabled = 1</font></p>
<figure><img src="https://lcy-blog.oss-cn-beijing.aliyuncs.com/blog/202412161043132.png" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure>
<h3 id="_3ã€ä¿®æ”¹yumæºä¸ºé˜¿é‡Œæº" tabindex="-1"><a class="header-anchor" href="#_3ã€ä¿®æ”¹yumæºä¸ºé˜¿é‡Œæº" aria-hidden="true">#</a> 3ã€ä¿®æ”¹yumæºä¸ºé˜¿é‡Œæº</h3>
<div class="language-bash line-numbers-mode" data-ext="sh"><pre v-pre class="language-bash"><code><span class="token punctuation">[</span>root@zabbix-5 ~<span class="token punctuation">]</span><span class="token comment"># wget -O /etc/yum.repos.d/CentOS-Base.repo http://mirrors.aliyun.com/repo/Centos-7.repo</span>

<span class="token punctuation">[</span>root@zabbix-5 ~<span class="token punctuation">]</span><span class="token comment"># yum makecache fast</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><figure><img src="https://lcy-blog.oss-cn-beijing.aliyuncs.com/blog/202412161043052.png" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure>
<h3 id="_4ã€ä¸‹è½½å®‰è£…zabbix5-0æ‰€éœ€çš„rpmåŒ…" tabindex="-1"><a class="header-anchor" href="#_4ã€ä¸‹è½½å®‰è£…zabbix5-0æ‰€éœ€çš„rpmåŒ…" aria-hidden="true">#</a> 4ã€ä¸‹è½½å®‰è£…zabbix5.0æ‰€éœ€çš„rpmåŒ…</h3>
<p>ä½¿ç”¨<font color=red>yum --downloadonly </font>è¿›è¡Œä¸‹è½½rpmåŒ…å’Œç›¸å…³ä¾èµ–åŒ…</p>
<font color=red>--downloaddir</font>å‚æ•°å¯è¿›è¡Œè®¾ç½®ä¸‹è½½ä¿å­˜è·¯å¾„<h4 id="ä¸‹è½½mariadb-mysql-æ•°æ®åº“" tabindex="-1"><a class="header-anchor" href="#ä¸‹è½½mariadb-mysql-æ•°æ®åº“" aria-hidden="true">#</a> ä¸‹è½½mariadbï¼ˆmysqlï¼‰æ•°æ®åº“</h4>
<div class="language-bash line-numbers-mode" data-ext="sh"><pre v-pre class="language-bash"><code>yum <span class="token function">install</span> mariadb-server.x86_64 <span class="token parameter variable">--downloadonly</span> <span class="token parameter variable">--downloaddir</span><span class="token operator">=</span>/tmp/offline_rpm
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h4 id="ä¸‹è½½-zabbixä¸»æœåŠ¡" tabindex="-1"><a class="header-anchor" href="#ä¸‹è½½-zabbixä¸»æœåŠ¡" aria-hidden="true">#</a> ä¸‹è½½ zabbixä¸»æœåŠ¡</h4>
<div class="language-bash line-numbers-mode" data-ext="sh"><pre v-pre class="language-bash"><code>yum <span class="token function">install</span> zabbix-server-mysql zabbix-agent <span class="token parameter variable">--downloadonly</span> <span class="token parameter variable">--downloaddir</span><span class="token operator">=</span>/tmp/offline_rpm
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h4 id="ä¸‹è½½-red-hat-software-collections" tabindex="-1"><a class="header-anchor" href="#ä¸‹è½½-red-hat-software-collections" aria-hidden="true">#</a> ä¸‹è½½ Red Hat Software Collections</h4>
<div class="language-bash line-numbers-mode" data-ext="sh"><pre v-pre class="language-bash"><code>yum <span class="token function">install</span> centos-release-scl <span class="token parameter variable">--downloadonly</span> <span class="token parameter variable">--downloaddir</span><span class="token operator">=</span>/tmp/offline_rpm
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h4 id="å®‰è£…-red-hat-software-collections" tabindex="-1"><a class="header-anchor" href="#å®‰è£…-red-hat-software-collections" aria-hidden="true">#</a> å®‰è£… Red Hat Software Collections</h4>
<div class="language-bash line-numbers-mode" data-ext="sh"><pre v-pre class="language-bash"><code>yum <span class="token parameter variable">-y</span> <span class="token function">install</span> centos-release-scl
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h4 id="ä¸‹è½½-zabbix-webæœåŠ¡" tabindex="-1"><a class="header-anchor" href="#ä¸‹è½½-zabbix-webæœåŠ¡" aria-hidden="true">#</a> ä¸‹è½½ Zabbix webæœåŠ¡</h4>
<div class="language-bash line-numbers-mode" data-ext="sh"><pre v-pre class="language-bash"><code>yum <span class="token function">install</span> zabbix-web-mysql-scl zabbix-apache-conf-scl <span class="token parameter variable">--downloadonly</span> <span class="token parameter variable">--downloaddir</span><span class="token operator">=</span>/tmp/offline_rpm
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h4 id="ä¸‹è½½zabbix-getæœåŠ¡" tabindex="-1"><a class="header-anchor" href="#ä¸‹è½½zabbix-getæœåŠ¡" aria-hidden="true">#</a> ä¸‹è½½zabbix_getæœåŠ¡</h4>
<div class="language-bash line-numbers-mode" data-ext="sh"><pre v-pre class="language-bash"><code>yum <span class="token function">install</span> zabbix-get <span class="token parameter variable">--downloadonly</span> <span class="token parameter variable">--downloaddir</span><span class="token operator">=</span>/tmp/offline_rpm
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h3 id="_5ã€åˆ›å»ºæœ¬åœ°yumä»“åº“" tabindex="-1"><a class="header-anchor" href="#_5ã€åˆ›å»ºæœ¬åœ°yumä»“åº“" aria-hidden="true">#</a> 5ã€åˆ›å»ºæœ¬åœ°yumä»“åº“</h3>
<blockquote>
<p>ä½¿ç”¨createrepoæ¥åˆ›å»ºrepositoryä»“åº“ï¼Œå¦‚æœç³»ç»Ÿé‡Œæ²¡æœ‰è¯¥å‘½ä»¤çš„è¯éœ€è¦å…ˆè¿›è¡Œcreaterepoçš„å®‰è£… yum -y install createrepo</p>
</blockquote>
<div class="language-bash line-numbers-mode" data-ext="sh"><pre v-pre class="language-bash"><code><span class="token comment">#å®‰è£…createrepo</span>
yum <span class="token parameter variable">-y</span> <span class="token function">install</span> createrepo

<span class="token comment">#ä½¿ç”¨createrepoæ¥åˆ›å»ºrepositoryä»“åº“</span>
createrepo /tmp/offline_rpm
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><figure><img src="https://lcy-blog.oss-cn-beijing.aliyuncs.com/blog/202412161043409.png" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure>
<p>å®Œäº†ä¼šç”Ÿæˆä¸€ä¸ªrepodataå­ç›®å½•</p>
<figure><img src="https://lcy-blog.oss-cn-beijing.aliyuncs.com/blog/202412161043093.png" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure>
<p>å°† /tmp/offline_rpm/ä¸‹é¢å…¨éƒ¨å¯ä»¥æ‰“ä¸ªtaråŒ…ï¼Œåç»­ç›´æ¥ç”¨è„šæœ¬å®‰è£…å³å¯ï¼›</p>
<h2 id="åœ¨å†…ç½‘ä¸­ç¦»çº¿å®‰è£…-ä½¿ç”¨è„šæœ¬ä¸€é”®å®‰è£…" tabindex="-1"><a class="header-anchor" href="#åœ¨å†…ç½‘ä¸­ç¦»çº¿å®‰è£…-ä½¿ç”¨è„šæœ¬ä¸€é”®å®‰è£…" aria-hidden="true">#</a> åœ¨å†…ç½‘ä¸­ç¦»çº¿å®‰è£…ï¼ˆä½¿ç”¨è„šæœ¬ä¸€é”®å®‰è£…ï¼‰</h2>
<p><strong><font color=red>å¤§å®¶å¯ä»¥è¾¹åšè¾¹å†™æˆè„šæœ¬</font></strong></p>
<h3 id="_1ã€å‡†å¤‡yumä»“åº“" tabindex="-1"><a class="header-anchor" href="#_1ã€å‡†å¤‡yumä»“åº“" aria-hidden="true">#</a> 1ã€å‡†å¤‡yumä»“åº“</h3>
<p>â€ƒâ€ƒå°† offline_rpm.tarå®‰è£…åŒ…ä¸‹è½½ä¸‹æ¥ï¼Œç„¶åä¼ åˆ°å†…ç½‘æœåŠ¡å™¨ä¸­ï¼Œè§£å‹ï¼Œå¹¶ä¸”æ”¾åˆ°/tmpç›®å½•ä¸‹ã€‚</p>
<p>â€ƒâ€ƒ/å°†etc/yum.repos.d ä¸‹é¢æ‰€æœ‰repoæ–‡ä»¶è¿›è¡Œè½¬ç§»è‡³bakæ–‡ä»¶å¤¹ä¸‹</p>
<div class="language-bash line-numbers-mode" data-ext="sh"><pre v-pre class="language-bash"><code><span class="token comment">#ç§»åŠ¨offline_rpm.taråˆ°/tmpç›®å½•ä¸‹</span>
<span class="token function">mv</span> offline_rpm.tar /tmp/

<span class="token comment">#åˆ‡æ¢åˆ°/tmpç›®å½•ä¸‹</span>
<span class="token builtin class-name">cd</span> /tmp

<span class="token comment">#è§£å‹offline_rpm.tar</span>
<span class="token function">tar</span> xf offline_rpm.tar
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>å°±å¯ä»¥çœ‹åˆ°è¿™ä¸ªç›®å½•</p>
<figure><img src="https://lcy-blog.oss-cn-beijing.aliyuncs.com/blog/202412161043145.png" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure>
<div class="language-bash line-numbers-mode" data-ext="sh"><pre v-pre class="language-bash"><code><span class="token comment">#å°†/etc/yum.repos.d ä¸‹é¢æ‰€æœ‰repoæ–‡ä»¶è¿›è¡Œè½¬ç§»è‡³bakæ–‡ä»¶å¤¹ä¸‹</span>
<span class="token function">mv</span> /etc/yum.repos.d/*.repo bak/
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="_1-1ã€æ–°å»ºä¸€ä¸ªrepoæºæ–‡ä»¶" tabindex="-1"><a class="header-anchor" href="#_1-1ã€æ–°å»ºä¸€ä¸ªrepoæºæ–‡ä»¶" aria-hidden="true">#</a> 1.1ã€æ–°å»ºä¸€ä¸ªrepoæºæ–‡ä»¶</h4>
<div class="language-bash line-numbers-mode" data-ext="sh"><pre v-pre class="language-bash"><code><span class="token comment">#åœ¨/etc/yum.repos.d/æ–°å»ºä¸€ä¸ªrepoæºæ–‡ä»¶</span>
<span class="token punctuation">[</span>root@localhost tmp<span class="token punctuation">]</span><span class="token comment"># vim /etc/yum.repos.d/new.repo</span>

<span class="token punctuation">[</span>New<span class="token punctuation">]</span>
<span class="token assign-left variable">name</span><span class="token operator">=</span>New
<span class="token assign-left variable">baseurl</span><span class="token operator">=</span>file:///tmp/offline_rpm
<span class="token assign-left variable">gpgcheck</span><span class="token operator">=</span><span class="token number">0</span>
<span class="token assign-left variable">enabled</span><span class="token operator">=</span><span class="token number">1</span>

:wqä¿å­˜é€€å‡º


<span class="token comment">#æ¸…é™¤å…ƒæ•°æ®ç¼“å­˜</span>
yum clean all
<span class="token comment">#åŠ è½½å…ƒæ•°æ®ç¼“å­˜</span>
yum makecache
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_2ã€å®‰è£…-zabbix-server-å’Œ-agent" tabindex="-1"><a class="header-anchor" href="#_2ã€å®‰è£…-zabbix-server-å’Œ-agent" aria-hidden="true">#</a> 2ã€å®‰è£… Zabbix server å’Œ agent</h3>
<div class="language-bash line-numbers-mode" data-ext="sh"><pre v-pre class="language-bash"><code>yum <span class="token parameter variable">-y</span> <span class="token function">install</span> zabbix-server-mysql zabbix-agent
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h3 id="_3ã€å®‰è£…mysqlæ•°æ®åº“" tabindex="-1"><a class="header-anchor" href="#_3ã€å®‰è£…mysqlæ•°æ®åº“" aria-hidden="true">#</a> 3ã€å®‰è£…mysqlæ•°æ®åº“</h3>
<div class="language-bash line-numbers-mode" data-ext="sh"><pre v-pre class="language-bash"><code>yum <span class="token parameter variable">-y</span> <span class="token function">install</span> mariadb-server.x86_64 
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h3 id="_4ã€å®‰è£…rhel-software-collections-scls" tabindex="-1"><a class="header-anchor" href="#_4ã€å®‰è£…rhel-software-collections-scls" aria-hidden="true">#</a> 4ã€å®‰è£…RHEL Software collectionsï¼ˆSCLsï¼‰</h3>
<p>Software collectionsæ˜¯ä¸€ä¸ªLinuxè½¯ä»¶å¤šç‰ˆæœ¬å…±å­˜çš„è§£å†³æ–¹æ¡ˆã€‚</p>
<div class="language-bash line-numbers-mode" data-ext="sh"><pre v-pre class="language-bash"><code>yum <span class="token parameter variable">-y</span> <span class="token function">install</span> centos-release-scl
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h3 id="_5ã€å®‰è£…å‰ç«¯ç»„ä»¶" tabindex="-1"><a class="header-anchor" href="#_5ã€å®‰è£…å‰ç«¯ç»„ä»¶" aria-hidden="true">#</a> 5ã€å®‰è£…å‰ç«¯ç»„ä»¶</h3>
<div class="language-bash line-numbers-mode" data-ext="sh"><pre v-pre class="language-bash"><code>yum <span class="token parameter variable">-y</span> <span class="token function">install</span> zabbix-web-mysql-scl zabbix-apache-conf-scl
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h3 id="_6ã€å®‰è£…zabbix-get-è°ƒè¯•ç»„ä»¶" tabindex="-1"><a class="header-anchor" href="#_6ã€å®‰è£…zabbix-get-è°ƒè¯•ç»„ä»¶" aria-hidden="true">#</a> 6ã€å®‰è£…zabbix-getï¼Œè°ƒè¯•ç»„ä»¶</h3>
<div class="language-bash line-numbers-mode" data-ext="sh"><pre v-pre class="language-bash"><code>yum <span class="token parameter variable">-y</span> <span class="token function">install</span> zabbix-get
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h3 id="_7ã€é…ç½®æ•°æ®åº“" tabindex="-1"><a class="header-anchor" href="#_7ã€é…ç½®æ•°æ®åº“" aria-hidden="true">#</a> 7ã€é…ç½®æ•°æ®åº“</h3>
<h4 id="_7-1ã€å¯åŠ¨mariadbå¹¶è®¾ç½®å¼€æœºè‡ªå¯" tabindex="-1"><a class="header-anchor" href="#_7-1ã€å¯åŠ¨mariadbå¹¶è®¾ç½®å¼€æœºè‡ªå¯" aria-hidden="true">#</a> 7.1ã€å¯åŠ¨mariadbå¹¶è®¾ç½®å¼€æœºè‡ªå¯</h4>
<div class="language-bash line-numbers-mode" data-ext="sh"><pre v-pre class="language-bash"><code><span class="token comment">#å¯åŠ¨mariadb</span>
systemctl start mariadb.service

<span class="token comment">#è®¾ç½®å¼€æœºè‡ªå¯</span>
systemctl <span class="token builtin class-name">enable</span> mariadb.service
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="_7-2ã€mysqlå®‰å…¨é…ç½®å‘å¯¼-å¯å¿½ç•¥" tabindex="-1"><a class="header-anchor" href="#_7-2ã€mysqlå®‰å…¨é…ç½®å‘å¯¼-å¯å¿½ç•¥" aria-hidden="true">#</a> 7.2ã€mysqlå®‰å…¨é…ç½®å‘å¯¼ï¼ˆå¯å¿½ç•¥ï¼‰</h4>
<div class="language-bash line-numbers-mode" data-ext="sh"><pre v-pre class="language-bash"><code>--ä¸ºrootç”¨æˆ·è®¾ç½®å¯†ç 
--åˆ é™¤åŒ¿åè´¦å·
--å–æ¶ˆrootç”¨æˆ·è¿œç¨‹ç™»å½•
--åˆ é™¤teståº“å’Œå¯¹teståº“çš„è®¿é—®æƒé™
--åˆ·æ–°æˆæƒè¡¨ä½¿ä¿®æ”¹ç”Ÿæ•ˆ

 mysql_secure_installation
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="_7-3ã€è®¾ç½®mysqlçš„ç™»å½•å¯†ç " tabindex="-1"><a class="header-anchor" href="#_7-3ã€è®¾ç½®mysqlçš„ç™»å½•å¯†ç " aria-hidden="true">#</a> 7.3ã€è®¾ç½®mysqlçš„ç™»å½•å¯†ç </h4>
<div class="language-bash line-numbers-mode" data-ext="sh"><pre v-pre class="language-bash"><code>mysqladmin <span class="token parameter variable">-u</span> root password <span class="token string">"123456"</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h4 id="_7-4ã€è®¾ç½®mysqlç”¨æˆ·ç›¸å…³çš„æ“ä½œ" tabindex="-1"><a class="header-anchor" href="#_7-4ã€è®¾ç½®mysqlç”¨æˆ·ç›¸å…³çš„æ“ä½œ" aria-hidden="true">#</a> 7.4ã€è®¾ç½®mysqlç”¨æˆ·ç›¸å…³çš„æ“ä½œ</h4>
<div class="language-bash line-numbers-mode" data-ext="sh"><pre v-pre class="language-bash"><code><span class="token comment">#ç™»å½•mysql</span>
mysql <span class="token parameter variable">-uroot</span> <span class="token parameter variable">-p123456</span>

<span class="token comment">#ä¿®æ”¹æ•°æ®åº“å­—ç¬¦é›† </span>
MariaDB <span class="token punctuation">[</span><span class="token punctuation">(</span>none<span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token operator">></span> create database zabbix character <span class="token builtin class-name">set</span> utf8 collate utf8_bin<span class="token punctuation">;</span>

<span class="token comment">#åˆ›å»ºæ•°æ®åº“</span>
MariaDB <span class="token punctuation">[</span><span class="token punctuation">(</span>none<span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token operator">></span> create user zabbix@localhost identified by <span class="token string">'123456'</span><span class="token punctuation">;</span>

<span class="token comment">#ç”¨æˆ·æˆæƒ</span>
MariaDB <span class="token punctuation">[</span><span class="token punctuation">(</span>none<span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token operator">></span> grant all privileges on zabbix.* to zabbix@localhost<span class="token punctuation">;</span>

<span class="token comment">#é€€å‡ºæ•°æ®åº“</span>
MariaDB <span class="token punctuation">[</span><span class="token punctuation">(</span>none<span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token operator">></span> quit<span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><figure><img src="https://lcy-blog.oss-cn-beijing.aliyuncs.com/blog/202412161043964.png" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure>
<h4 id="_7-5ã€å¯¼å…¥åˆå§‹æ¶æ„å’Œæ•°æ®" tabindex="-1"><a class="header-anchor" href="#_7-5ã€å¯¼å…¥åˆå§‹æ¶æ„å’Œæ•°æ®" aria-hidden="true">#</a> 7.5ã€å¯¼å…¥åˆå§‹æ¶æ„å’Œæ•°æ®</h4>
<div class="language-bash line-numbers-mode" data-ext="sh"><pre v-pre class="language-bash"><code><span class="token comment">#æŸ¥çœ‹sqlæ–‡ä»¶è·¯å¾„</span>
<span class="token function">rpm</span> <span class="token parameter variable">-ql</span> zabbix-server-mysql

<span class="token comment">#åˆ‡æ¢åˆ°/usr/share/doc/zabbix-server-mysql-5.0.25/ç›®å½•</span>
<span class="token builtin class-name">cd</span> /usr/share/doc/zabbix-server-mysql-5.0.25/

<span class="token comment">#è§£å‹create.sql.gz</span>
<span class="token function">gzip</span> <span class="token parameter variable">-d</span> create.sql.gz

<span class="token comment">#å¯¼å…¥æ•°æ®</span>
mysql <span class="token parameter variable">-uzabbix</span> <span class="token parameter variable">-p123456</span> zabbix <span class="token operator">&lt;</span>create.sql
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>å®Œäº†ä¹‹åå¯ä»¥è‡ªå·±è¿›å…¥æ•°æ®åº“æŸ¥éªŒä¸€ä¸‹ï¼š</p>
<div class="language-bash line-numbers-mode" data-ext="sh"><pre v-pre class="language-bash"><code><span class="token comment">#ç™»å½•ã€è¿›å…¥mysql</span>
mysql <span class="token parameter variable">-uroot</span> <span class="token parameter variable">-p123456</span>

<span class="token comment">#æŸ¥çœ‹æ‰€æœ‰æ•°æ®åº“</span>
MariaDB <span class="token punctuation">[</span><span class="token punctuation">(</span>none<span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token operator">></span> show databases<span class="token punctuation">;</span>

<span class="token comment">#æŸ¥çœ‹æ•°æ®åº“è¡¨</span>
MariaDB <span class="token punctuation">[</span><span class="token punctuation">(</span>none<span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token operator">></span> use zabbix<span class="token punctuation">;</span>
MariaDB <span class="token punctuation">[</span>zabbix<span class="token punctuation">]</span><span class="token operator">></span> show tables<span class="token punctuation">;</span>
<span class="token comment">#å°±ä¼šçœ‹åˆ°å¾ˆå¤šè¡¨ï¼Œè¿™å°±è¯´æ˜å¯¼å…¥æˆåŠŸäº†ï¼›</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>å°±ä¼šçœ‹åˆ°ä¸€ä¸ªzabbixç›®å½•</p>
<figure><img src="https://lcy-blog.oss-cn-beijing.aliyuncs.com/blog/202412161042901.png" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure>
<h3 id="_8ã€ä¿®æ”¹-zabbix-server-å’Œ-phpé…ç½®æ–‡ä»¶" tabindex="-1"><a class="header-anchor" href="#_8ã€ä¿®æ”¹-zabbix-server-å’Œ-phpé…ç½®æ–‡ä»¶" aria-hidden="true">#</a> 8ã€ä¿®æ”¹ zabbix-server å’Œ phpé…ç½®æ–‡ä»¶</h3>
<h4 id="_8-1ã€ç¼–è¾‘-zabbix-server-conf" tabindex="-1"><a class="header-anchor" href="#_8-1ã€ç¼–è¾‘-zabbix-server-conf" aria-hidden="true">#</a> 8.1ã€ç¼–è¾‘ zabbix_server.conf</h4>
<div class="language-bash line-numbers-mode" data-ext="sh"><pre v-pre class="language-bash"><code><span class="token comment">#è¿›å…¥zabbix_server.confé…ç½®æ–‡ä»¶ä¸­</span>
<span class="token function">vim</span> /etc/zabbix/zabbix_server.conf

<span class="token comment">#æ‰¾åˆ°å¯¹åº”é¡¹æœ‰æ³¨é‡Šåˆ™å–æ¶ˆï¼›æ²¡æœ‰çš„åˆ™æ·»åŠ ï¼›</span>
<span class="token assign-left variable">DBHost</span><span class="token operator">=</span> localhost
DBPassword <span class="token operator">=</span> <span class="token number">123456</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="_8-2ã€ç¼–è¾‘phpé…ç½®æ–‡ä»¶" tabindex="-1"><a class="header-anchor" href="#_8-2ã€ç¼–è¾‘phpé…ç½®æ–‡ä»¶" aria-hidden="true">#</a> 8.2ã€ç¼–è¾‘phpé…ç½®æ–‡ä»¶</h4>
<div class="language-bash line-numbers-mode" data-ext="sh"><pre v-pre class="language-bash"><code><span class="token comment">#è¿›å…¥phpçš„é…ç½®æ–‡ä»¶</span>
<span class="token function">vim</span> /etc/opt/rh/rh-php72/php-fpm.d/zabbix.conf

<span class="token comment">#åˆ é™¤ç¬¬25è¡Œï¼Œä¹Ÿå°±æ˜¯æœ€åä¸€è¡Œï¼›</span>
ddå°±å¯ä»¥åˆ é™¤äº†

<span class="token comment">#æ›´æ”¹æ—¶åŒºä¸ºä¸Šæµ·æ—¶åŒº</span>
php_value<span class="token punctuation">[</span>date.timezone<span class="token punctuation">]</span> <span class="token operator">=</span> Asia/Shanghai
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>ä¿å­˜é€€å‡ºï¼Œå¯åŠ¨æœåŠ¡å°±å¯ä»¥ï¼›</p>
<h3 id="_9ã€å¯åŠ¨æ‰€æœ‰æœåŠ¡å¹¶è®¾ç½®å¼€æœºè‡ªå¯" tabindex="-1"><a class="header-anchor" href="#_9ã€å¯åŠ¨æ‰€æœ‰æœåŠ¡å¹¶è®¾ç½®å¼€æœºè‡ªå¯" aria-hidden="true">#</a> 9ã€å¯åŠ¨æ‰€æœ‰æœåŠ¡å¹¶è®¾ç½®å¼€æœºè‡ªå¯</h3>
<div class="language-bash line-numbers-mode" data-ext="sh"><pre v-pre class="language-bash"><code><span class="token comment">#å¯åŠ¨zabbix-server zabbix-agent httpd rh-php72-php-fpm</span>
systemctl restart zabbix-server zabbix-agent httpd rh-php72-php-fpm
<span class="token comment">#è®¾ç½®å¼€æœºè‡ªå¯</span>
systemctl <span class="token builtin class-name">enable</span> zabbix-server zabbix-agent httpd rh-php72-php-fpm
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><figure><img src="https://lcy-blog.oss-cn-beijing.aliyuncs.com/blog/202412161042667.png" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure>
<h3 id="_10ã€å¦‚æœå­˜åœ¨é—®é¢˜è¯·æ£€æŸ¥æ—¥å¿—" tabindex="-1"><a class="header-anchor" href="#_10ã€å¦‚æœå­˜åœ¨é—®é¢˜è¯·æ£€æŸ¥æ—¥å¿—" aria-hidden="true">#</a> 10ã€å¦‚æœå­˜åœ¨é—®é¢˜è¯·æ£€æŸ¥æ—¥å¿—</h3>
<div class="language-bash line-numbers-mode" data-ext="sh"><pre v-pre class="language-bash"><code><span class="token function">vim</span> /var/log/zabbix_server.log
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p><strong><font color=teal>å¸¸è§é—®é¢˜ï¼š</font></strong></p>
<blockquote>
<p><strong><font color=red>é—®é¢˜1ï¼š</font></strong><br>
cannot start preprocessing service: Cannot bind socket to<br>
â€œ/var/run/zabbix/zabbix_server_preprocessing.sockâ€: [13] Permission denied.<br>
<strong><font color=green>è§£å†³ï¼š</font></strong> å…³é—­ç³»ç»Ÿé˜²ç«å¢™ï¼š</p>
<p>systemctl stop firewalld.service #åœæ­¢firewall<br>
systemctl disable firewalld.service #ç¦æ­¢firewallå¼€æœºå¯åŠ¨<br>
é‡å¯ zabbix æœåŠ¡ï¼š systemctl start zabbix-server zabbix-agent httpd<br><br>
<strong><font color=red>é—®é¢˜2ï¼š</font></strong><br>
cannot start alert manager service: Cannot bind socket to<br>
â€œ/var/run/zabbix/zabbix_server_alerter.sockâ€: [13] Permission denied.</p>
</blockquote>
<font color=green>**è§£å†³ï¼š**</font>å…³é—­selinuxï¼š <p>ä¿®æ”¹ etc/selinux/config è®¾ç½®SELINUX=disabled é‡å¯ç³»ç»Ÿ<br>
setenforce 0ï¼ˆå¦‚æœä¸æƒ³é‡å¯æœåŠ¡å™¨å¯ä»¥è¿è¡Œæ­¤å‘½ä»¤ï¼‰ã€‚#ä½¿é…ç½®å‡æ•ˆã€‚ é‡å¯ zabbix æœåŠ¡ï¼š systemctl start<br>
zabbix-server zabbix-agent httpd</p>
<h2 id="é¡µé¢è®¿é—®" tabindex="-1"><a class="header-anchor" href="#é¡µé¢è®¿é—®" aria-hidden="true">#</a> é¡µé¢è®¿é—®</h2>
<blockquote>
<p>ip/zabbix</p>
</blockquote>
<figure><img src="https://lcy-blog.oss-cn-beijing.aliyuncs.com/blog/202412161042754.png" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure>
<p>ä¸€è·¯next stepï¼Œåˆ°è¿™ä¸ªè¦è¾“å…¥å¯†ç ï¼Œå¯†ç æ˜¯123456</p>
<figure><img src="https://lcy-blog.oss-cn-beijing.aliyuncs.com/blog/202412161042169.png" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure>
<p>ä¸‹ä¸€æ­¥ï¼Œéœ€è¦ä½ ç»™è¿™ä¸ªç›‘æ§èµ·ä¸€ä¸ªåå­—ï¼›</p>
<figure><img src="https://lcy-blog.oss-cn-beijing.aliyuncs.com/blog/202412161042545.png" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure>
<p>ä¸€ç›´ä¸‹ä¸€æ­¥,ç›´åˆ°ç™»å½•ï¼ˆé»˜è®¤çš„è´¦å·æ˜¯ï¼šAdmin   å¯†ç æ˜¯ï¼šzabbixï¼‰</p>
<figure><img src="https://lcy-blog.oss-cn-beijing.aliyuncs.com/blog/202412161042952.png" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure>
<p>ç™»å½•è¿›å…¥é¡µé¢å°±å¯ä»¥äº†ï¼›</p>
<figure><img src="https://lcy-blog.oss-cn-beijing.aliyuncs.com/blog/202412161042611.png" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure>
<h2 id="é‡è¦" tabindex="-1"><a class="header-anchor" href="#é‡è¦" aria-hidden="true">#</a> é‡è¦ï¼š</h2>
<p>éœ€è¦è„šæœ¬å®‰è£…ä¸€é”®éƒ¨ç½²çš„ï¼š<a href="https://download.csdn.net/download/liu_chen_yang/86168600" target="_blank" rel="noopener noreferrer">zabbix5.0ç¦»çº¿è„šæœ¬ä¸€é”®å®‰è£…(åŒ…å«æœåŠ¡ç«¯ã€å®¢æˆ·ç«¯ã€è„šæœ¬å’Œä½¿ç”¨è¯´æ˜) <ExternalLinkIcon/></a></p>
</div></template>


