import{_ as t}from"./plugin-vue_export-helper-c27b6911.js";import{r as l,o,c,a as e,b as a,d as s,e as r}from"./app-6706a352.js";const i={},d=e("p",null,[a("👨‍🎓"),e("strong",null,"博主简介")],-1),h={href:"https://blog.csdn.net/liu_chen_yang?type=blog",target:"_blank",rel:"noopener noreferrer"},u=e("br",null,null,-1),p={href:"https://bbs.huaweicloud.com/community/myblog",target:"_blank",rel:"noopener noreferrer"},b=e("br",null,null,-1),_={href:"https://developer.aliyun.com/my?spm=a2c6h.13148508.setting.3.21fc4f0eCmz1v3#/article?_k=zooqoz",target:"_blank",rel:"noopener noreferrer"},m=e("br",null,null,-1),g=e("strong",null,"交流社区：",-1),k={href:"https://bbs.csdn.net/forums/lcy",target:"_blank",rel:"noopener noreferrer"},v=e("br",null,null,-1),f=e("br",null,null,-1),y=r('<hr><h2 id="一、需求" tabindex="-1"><a class="header-anchor" href="#一、需求" aria-hidden="true">#</a> 一、需求：</h2><blockquote><p>需要一个redhat7.8镜像，并带有yum在线源，可以下载命令；<br> 从官网拉的镜像是：<code>registry.access.redhat.com/rhel7:7.8</code>；但是这个里面没有yum源，下载不了需要的命令；<br><br> 这时候就需要我们手动去打一个镜像了；<br> 当然，如果不想自己打的话，我这边已经给大家打好现成的了；<br> 拉取redhat:7.8命令：<code>docker pull liuchenyang/redhat:7.8</code></p></blockquote><h2 id="二、现成镜像拉取地址" tabindex="-1"><a class="header-anchor" href="#二、现成镜像拉取地址" aria-hidden="true">#</a> 二、现成镜像拉取地址</h2><blockquote><p>拉取redhat:7.8命令：<code>docker pull liuchenyang/redhat:7.8</code></p></blockquote><h2 id="三、手动加一个yum源-并将其打成镜像" tabindex="-1"><a class="header-anchor" href="#三、手动加一个yum源-并将其打成镜像" aria-hidden="true">#</a> 三、手动加一个yum源，并将其打成镜像</h2><h3 id="_1、保证docker已安装" tabindex="-1"><a class="header-anchor" href="#_1、保证docker已安装" aria-hidden="true">#</a> 1、保证docker已安装</h3>',7),x={href:"https://liucy.blog.csdn.net/article/details/123842609",target:"_blank",rel:"noopener noreferrer"},q={id:"_2、拉取-registry-access-redhat-com-rhel7-7-8-镜像",tabindex:"-1"},D=e("a",{class:"header-anchor",href:"#_2、拉取-registry-access-redhat-com-rhel7-7-8-镜像","aria-hidden":"true"},"#",-1),L={href:"http://registry.access.redhat.com/rhel7:7.8",target:"_blank",rel:"noopener noreferrer"},z=r(`<div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token function">docker</span> pull registry.access.redhat.com/rhel7:7.8
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div>`,1),N={id:"_3、创建一个容器以-registry-access-redhat-com-rhel7-7-8-为基础镜像",tabindex:"-1"},V=e("a",{class:"header-anchor",href:"#_3、创建一个容器以-registry-access-redhat-com-rhel7-7-8-为基础镜像","aria-hidden":"true"},"#",-1),B={href:"http://registry.access.redhat.com/rhel7:7.8",target:"_blank",rel:"noopener noreferrer"},E=r(`<div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token function">docker</span> run <span class="token parameter variable">-itd</span> <span class="token parameter variable">--name</span> redhat registry.access.redhat.com/rhel7:7.8
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h3 id="_4、进入容器" tabindex="-1"><a class="header-anchor" href="#_4、进入容器" aria-hidden="true">#</a> 4、进入容器</h3><h4 id="_4-1-关闭redhat自带的插件subscription-manager。" tabindex="-1"><a class="header-anchor" href="#_4-1-关闭redhat自带的插件subscription-manager。" aria-hidden="true">#</a> 4.1 关闭redhat自带的插件subscription-manager。</h4><p>找到subscription-manage的配置文件/etc/yum/pluginconf.d/subscription-manager.conf</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token punctuation">[</span>root@locahost <span class="token punctuation">]</span><span class="token comment"># vim /etc/yum/pluginconf.d/subscription-manager.conf</span>

<span class="token punctuation">[</span>main<span class="token punctuation">]</span>
<span class="token assign-left variable">enabled</span><span class="token operator">=</span><span class="token number">0</span>           <span class="token comment">#将它禁用掉</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="_4-2-新增网络yum源" tabindex="-1"><a class="header-anchor" href="#_4-2-新增网络yum源" aria-hidden="true">#</a> 4.2 新增网络yum源</h4><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token punctuation">[</span>root@locahost <span class="token punctuation">]</span><span class="token comment"># vi /etc/yum.repos.d/aliyun.repo</span>

<span class="token punctuation">[</span>base<span class="token punctuation">]</span>
<span class="token assign-left variable">name</span><span class="token operator">=</span>aliyun
<span class="token assign-left variable">baseurl</span><span class="token operator">=</span>http://mirrors.aliyun.com/centos/7/os/<span class="token variable">$basearch</span>/
<span class="token assign-left variable">enabled</span><span class="token operator">=</span><span class="token number">1</span>
<span class="token assign-left variable">gpgcheck</span><span class="token operator">=</span><span class="token number">0</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="_4-3-配置完保存退出-创建yum缓存" tabindex="-1"><a class="header-anchor" href="#_4-3-配置完保存退出-创建yum缓存" aria-hidden="true">#</a> 4.3 配置完保存退出，创建yum缓存</h4><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token comment">#清除缓存</span>
yum clean all 

<span class="token comment">#重新加载所有缓存</span>
yum makecache
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="_4-4-更新yum仓库" tabindex="-1"><a class="header-anchor" href="#_4-4-更新yum仓库" aria-hidden="true">#</a> 4.4 更新yum仓库</h4><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code>yum <span class="token parameter variable">-y</span> update
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h4 id="_4-5-安装常用命令" tabindex="-1"><a class="header-anchor" href="#_4-5-安装常用命令" aria-hidden="true">#</a> 4.5 安装常用命令</h4><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code>yum <span class="token parameter variable">-y</span> <span class="token function">install</span> <span class="token function">vim</span> <span class="token function">wget</span> <span class="token function">make</span> gcc gcc-c++
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>可以安装后，退出容器，将此容器打为镜像；</p><h3 id="_5、将容器打为镜像" tabindex="-1"><a class="header-anchor" href="#_5、将容器打为镜像" aria-hidden="true">#</a> 5、将容器打为镜像</h3>`,15),w={href:"https://liucy.blog.csdn.net/article/details/129496969",target:"_blank",rel:"noopener noreferrer"},C=r(`<div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token function">docker</span> commint redhat redhat:7.8
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h3 id="_6、查看镜像" tabindex="-1"><a class="header-anchor" href="#_6、查看镜像" aria-hidden="true">#</a> 6、查看镜像</h3><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token function">docker</span> images <span class="token operator">|</span> <span class="token function">grep</span> redhat
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><figure><img src="https://lcy-blog.oss-cn-beijing.aliyuncs.com/blog/202412180922246.png" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><h2 id="四、redhat7-8镜像完成" tabindex="-1"><a class="header-anchor" href="#四、redhat7-8镜像完成" aria-hidden="true">#</a> 四、redhat7.8镜像完成！</h2>`,5),I=e("code",null,"harbor",-1),j=e("code",null,"dockerhub",-1),S=e("br",null,null,-1),T=e("br",null,null,-1),$={href:"https://liucy.blog.csdn.net/article/details/124623482",target:"_blank",rel:"noopener noreferrer"},A=e("br",null,null,-1),F={href:"https://liucy.blog.csdn.net/article/details/124670946",target:"_blank",rel:"noopener noreferrer"},G=e("h2",{id:"五、参考文献【相关文档】",tabindex:"-1"},[e("a",{class:"header-anchor",href:"#五、参考文献【相关文档】","aria-hidden":"true"},"#"),a(" 五、参考文献【相关文档】")],-1),H=e("thead",null,[e("tr",null,[e("th",null,"文章标题"),e("th",null,"文章地址")])],-1),J=e("td",null,"dockerhub镜像仓库：redhat:7.8",-1),K={href:"https://hub.docker.com/r/liuchenyang/redhat/tags",target:"_blank",rel:"noopener noreferrer"},M={href:"https://liucy.blog.csdn.net/article/details/123842609",target:"_blank",rel:"noopener noreferrer"},O={href:"https://liucy.blog.csdn.net/article/details/123842609",target:"_blank",rel:"noopener noreferrer"},P={href:"https://liucy.blog.csdn.net/article/details/129496969",target:"_blank",rel:"noopener noreferrer"},Q={href:"https://liucy.blog.csdn.net/article/details/129496969",target:"_blank",rel:"noopener noreferrer"},R={href:"https://liucy.blog.csdn.net/article/details/124623482",target:"_blank",rel:"noopener noreferrer"},U={href:"https://liucy.blog.csdn.net/article/details/124623482",target:"_blank",rel:"noopener noreferrer"},W={href:"https://liucy.blog.csdn.net/article/details/124670946",target:"_blank",rel:"noopener noreferrer"},X={href:"https://liucy.blog.csdn.net/article/details/124670946",target:"_blank",rel:"noopener noreferrer"};function Y(Z,ee){const n=l("ExternalLinkIcon");return o(),c("div",null,[e("blockquote",null,[d,e("p",null,[a("  🏅"),e("a",h,[a("云计算领域优质创作者"),s(n)]),u,a("   🏅"),e("a",p,[a("华为云开发者社区专家博主"),s(n)]),b,a("   🏅"),e("a",_,[a("阿里云开发者社区专家博主"),s(n)]),m,a(" 💊"),g,e("a",k,[a("运维交流社区"),s(n)]),a(" 欢迎大家的加入！"),v,a(" 🐋 希望大家多多支持，我们一起进步！😄"),f,a(" 🎉如果文章对你有帮助的话，欢迎 点赞 👍🏻 评论 💬 收藏 ⭐️ 加关注+💗")])]),y,e("blockquote",null,[e("p",null,[a("如果没有安装docker，可参考："),e("a",x,[a("linux（centos）中部署docker（步骤超全，含带一些发展史和一些概念）"),s(n)])])]),e("h3",q,[D,a(" 2、拉取 "),e("a",L,[a("registry.access.redhat.com/rhel7:7.8"),s(n)]),a(" 镜像")]),z,e("h3",N,[V,a(" 3、创建一个容器以 "),e("a",B,[a("registry.access.redhat.com/rhel7:7.8"),s(n)]),a(" 为基础镜像")]),E,e("blockquote",null,[e("p",null,[a("可参考文档："),e("a",w,[a("【Docker】如何将已有的容器打为镜像？？？"),s(n)])])]),C,e("blockquote",null,[e("p",null,[a("如果想将打成的镜像上传到 "),I,a(" 或者 "),j,a(" 镜像仓库中，可参考此两篇文章："),S,T,a(" 【私有镜像仓库】："),e("a",$,[a("Linux中基于Docker搭建harbor私有镜像仓库（超级详细）"),s(n)]),A,a(" 【公有镜像仓库】："),e("a",F,[a("Docker发布/上传镜像到dockerhub&&下载/拉取镜像&&删除dockerhub镜像"),s(n)])])]),G,e("table",null,[H,e("tbody",null,[e("tr",null,[J,e("td",null,[e("a",K,[a("https://hub.docker.com/r/liuchenyang/redhat/tags"),s(n)])])]),e("tr",null,[e("td",null,[e("a",M,[a("linux（centos）中部署docker（步骤超全，含带一些发展史和一些概念）"),s(n)])]),e("td",null,[e("a",O,[a("https://liucy.blog.csdn.net/article/details/123842609"),s(n)])])]),e("tr",null,[e("td",null,[e("a",P,[a("【Docker】如何将已有的容器打为镜像？？？"),s(n)])]),e("td",null,[e("a",Q,[a("https://liucy.blog.csdn.net/article/details/129496969"),s(n)])])]),e("tr",null,[e("td",null,[e("a",R,[a("Linux中基于Docker搭建harbor私有镜像仓库（超级详细）"),s(n)])]),e("td",null,[e("a",U,[a("https://liucy.blog.csdn.net/article/details/124623482"),s(n)])])]),e("tr",null,[e("td",null,[e("a",W,[a("Docker发布/上传镜像到dockerhub&&下载/拉取镜像&&删除dockerhub镜像"),s(n)])]),e("td",null,[e("a",X,[a("https://liucy.blog.csdn.net/article/details/124670946"),s(n)])])])])])])}const se=t(i,[["render",Y],["__file","【Linux】redhat7.8配置yum在线源【redhat7.8镜像容器内配置yum在线源】通用.html.vue"]]);export{se as default};
