import{_ as r}from"./plugin-vue_export-helper-c27b6911.js";import{r as o,o as c,c as p,a,b as s,d as n,w as i,e}from"./app-6706a352.js";const m={},g=e(`<figure><img src="https://lcy-blog.oss-cn-beijing.aliyuncs.com/blog/202412180922057.png" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><h2 id="ä¸€ã€æ¡ˆä¾‹â€”â€”åŸºäº-ip-å’Œç«¯å£çš„é˜²ç«å¢™æ§åˆ¶" tabindex="-1"><a class="header-anchor" href="#ä¸€ã€æ¡ˆä¾‹â€”â€”åŸºäº-ip-å’Œç«¯å£çš„é˜²ç«å¢™æ§åˆ¶" aria-hidden="true">#</a> ä¸€ã€æ¡ˆä¾‹â€”â€”åŸºäº IP å’Œç«¯å£çš„é˜²ç«å¢™æ§åˆ¶</h2><figure><img src="https://lcy-blog.oss-cn-beijing.aliyuncs.com/blog/202412180933936.png" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><blockquote><p>å®éªŒç¯å¢ƒï¼šä¸ºç½‘å…³ã€Web æœåŠ¡å™¨é…ç½®é˜²ç«å¢™è§„åˆ™<br> éœ€æ±‚æè¿°ï¼š<br> 1ã€ä¸ºç½‘ç«™æœåŠ¡å™¨ç¼–å†™å…¥ç«™è§„åˆ™<br> â€ƒâ€ƒï¼ˆ1ï¼‰å…è®¸æ¥å—å“åº”æœ¬æœº ping æµ‹è¯•è¯·æ±‚çš„å„ç§ ICMP æ•°æ®åŒ…<br> â€ƒâ€ƒï¼ˆ2ï¼‰å…è®¸è®¿é—®æœ¬æœºä¸­ä½äº 80 ç«¯å£çš„Web æœåŠ¡ï¼Œç¦æ­¢è®¿é—®å…¶ä»–ç«¯å£çš„ TCP è¯·æ±‚<br> â€ƒâ€ƒï¼ˆ3ï¼‰å…è®¸å‘å¾€æœ¬æœºä»¥å»ºç«‹è¿æ¥æˆ–ä¸å·²æœ‰è¿æ¥ç›¸å…³çš„å„ç§ TCP æ•°æ®åŒ…<br> â€ƒâ€ƒï¼ˆ4ï¼‰ç¦æ­¢å…¶ä»–ä»»ä½•å½¢å¼çš„å…¥ç«™è®¿é—®æ•°æ®</p></blockquote><p><strong>æ­å»ºå®éªŒç¯å¢ƒï¼Œç»“æœå¦‚ä¸‹ï¼š</strong></p><p><img src="https://lcy-blog.oss-cn-beijing.aliyuncs.com/blog/202412180933887.png" alt="" loading="lazy"><br><img src="https://lcy-blog.oss-cn-beijing.aliyuncs.com/blog/202412180933718.png" alt="" loading="lazy"><br><img src="https://lcy-blog.oss-cn-beijing.aliyuncs.com/blog/202412180933669.png" alt="" loading="lazy"><br><img src="https://lcy-blog.oss-cn-beijing.aliyuncs.com/blog/202412180933805.png" alt="" loading="lazy"><br><img src="https://lcy-blog.oss-cn-beijing.aliyuncs.com/blog/202412180933110.png" alt="" loading="lazy"></p><p>ä¸ºç½‘ç«™æœåŠ¡å™¨ç¼–å†™å…¥ç«™è§„åˆ™<br> å…è®¸æ¥å—å“åº”æœ¬æœº ping æµ‹è¯•è¯·æ±‚çš„å„ç§ ICMP æ•°æ®åŒ…</p><p><img src="https://lcy-blog.oss-cn-beijing.aliyuncs.com/blog/202412180933229.png" alt="" loading="lazy"><br><img src="https://lcy-blog.oss-cn-beijing.aliyuncs.com/blog/202412180933550.png" alt="" loading="lazy"></p><p>ç¦æ­¢å…¶ä»–ä»»ä½•å½¢å¼çš„å…¥ç«™è®¿é—®æ•°æ®</p><figure><img src="https://lcy-blog.oss-cn-beijing.aliyuncs.com/blog/202412180932138.png" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><p>å†…ç½‘æœåŠ¡å™¨ ping ç½‘å…³æµ‹è¯•ï¼š</p><figure><img src="https://lcy-blog.oss-cn-beijing.aliyuncs.com/blog/202412180932696.png" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><p>ç½‘å…³ ping å†…ç½‘æœåŠ¡å™¨æµ‹è¯•ï¼š</p><figure><img src="https://lcy-blog.oss-cn-beijing.aliyuncs.com/blog/202412180932844.png" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><p>å…è®¸è®¿é—®æœ¬æœºä¸­ä½äº 80 ç«¯å£çš„ Web æœåŠ¡ï¼Œç¦æ­¢è®¿é—®å…¶ä»–ç«¯å£çš„ TCP è¯·æ±‚</p><figure><img src="https://lcy-blog.oss-cn-beijing.aliyuncs.com/blog/202412180932617.png" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><p>å…è®¸å‘å¾€æœ¬æœºä»¥å»ºç«‹è¿æ¥æˆ–ä¸å·²æœ‰è¿æ¥ç›¸å…³çš„å„ç§ TCP æ•°æ®åŒ…</p><figure><img src="https://lcy-blog.oss-cn-beijing.aliyuncs.com/blog/202412180932413.png" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><p>ä¿å­˜ iptables è®¾ç½®</p><p><img src="https://lcy-blog.oss-cn-beijing.aliyuncs.com/blog/202412180932289.png" alt="" loading="lazy"><br><img src="https://lcy-blog.oss-cn-beijing.aliyuncs.com/blog/202412180932607.png" alt="" loading="lazy"></p><p>æµ‹è¯•</p><p><img src="https://lcy-blog.oss-cn-beijing.aliyuncs.com/blog/202412180932675.png" alt="" loading="lazy"><br><img src="https://lcy-blog.oss-cn-beijing.aliyuncs.com/blog/202412180932278.png" alt="" loading="lazy"><br><img src="https://lcy-blog.oss-cn-beijing.aliyuncs.com/blog/202412180932005.png" alt="" loading="lazy"><br><img src="https://lcy-blog.oss-cn-beijing.aliyuncs.com/blog/202412180932521.png" alt="" loading="lazy"></p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token punctuation">[</span>root@iptables~<span class="token punctuation">]</span><span class="token comment"># elinks 192.168.1.5</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p><img src="https://lcy-blog.oss-cn-beijing.aliyuncs.com/blog/202412180932825.png" alt="" loading="lazy"><br><img src="https://lcy-blog.oss-cn-beijing.aliyuncs.com/blog/202412180932036.png" alt="" loading="lazy"></p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token punctuation">[</span>root@iptables~<span class="token punctuation">]</span><span class="token comment"># ftp 192.168.1.5</span>
ftp:connect:è¿æ¥è¶…æ—¶
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div>`,25),d=a("br",null,null,-1),h=a("br",null,null,-1),b={href:"http://web.qq.com",target:"_blank",rel:"noopener noreferrer"},u={href:"http://w.qq.com",target:"_blank",rel:"noopener noreferrer"},y={href:"http://im.qq.com",target:"_blank",rel:"noopener noreferrer"},_=a("p",null,[a("strong",null,"å…è®¸å±€åŸŸç½‘ä¸­çš„ä¸»æœºè®¿é—®Internet ä¸­æ˜¯ Webã€FTPã€DNSã€é‚®ä»¶æœåŠ¡")],-1),f=a("figure",null,[a("img",{src:"https://lcy-blog.oss-cn-beijing.aliyuncs.com/blog/202412180932015.png",alt:"",tabindex:"0",loading:"lazy"}),a("figcaption")],-1),v={href:"http://xn--web-u68doc253fghhnvxqrin42akjhjys981b213a.qq.com",target:"_blank",rel:"noopener noreferrer"},k={href:"http://w.qq.com",target:"_blank",rel:"noopener noreferrer"},x={href:"http://im.qq.com",target:"_blank",rel:"noopener noreferrer"},T=e('<p><img src="https://lcy-blog.oss-cn-beijing.aliyuncs.com/blog/202412180931733.png" alt="" loading="lazy"><br><img src="https://lcy-blog.oss-cn-beijing.aliyuncs.com/blog/202412180931012.png" alt="" loading="lazy"></p><p><img src="https://lcy-blog.oss-cn-beijing.aliyuncs.com/blog/202412180931001.png" alt="" loading="lazy"><br><img src="https://lcy-blog.oss-cn-beijing.aliyuncs.com/blog/202412180931116.png" alt="" loading="lazy"></p><p>ä¿å­˜ iptables è§„åˆ™é…ç½®</p><figure><img src="https://lcy-blog.oss-cn-beijing.aliyuncs.com/blog/202412180931339.png" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><h2 id="äºŒã€snat-ç­–ç•¥" tabindex="-1"><a class="header-anchor" href="#äºŒã€snat-ç­–ç•¥" aria-hidden="true">#</a> äºŒã€SNAT ç­–ç•¥</h2><h3 id="_1ã€ä½œç”¨" tabindex="-1"><a class="header-anchor" href="#_1ã€ä½œç”¨" aria-hidden="true">#</a> 1ã€ä½œç”¨</h3><p>ä½œç”¨ï¼šå±€åŸŸç½‘ä¸»æœºå…±äº«å•ä¸ªå…¬ç½‘ IP åœ°å€æ¥å…¥ Internet</p><h3 id="_2ã€snat-ç­–ç•¥çš„åŸç†" tabindex="-1"><a class="header-anchor" href="#_2ã€snat-ç­–ç•¥çš„åŸç†" aria-hidden="true">#</a> 2ã€SNAT ç­–ç•¥çš„åŸç†</h3><p>â€ƒâ€ƒæºåœ°å€è½¬æ¢ï¼ŒSource Network Address Translation<br> â€ƒâ€ƒä¿®æ”¹æ•°æ®åŒ…çš„æºåœ°å€</p><figure><img src="https://lcy-blog.oss-cn-beijing.aliyuncs.com/blog/202412180931117.png" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><h3 id="_3ã€ä¼ä¸šå…±äº«ä¸Šç½‘æ¡ˆä¾‹" tabindex="-1"><a class="header-anchor" href="#_3ã€ä¼ä¸šå…±äº«ä¸Šç½‘æ¡ˆä¾‹" aria-hidden="true">#</a> 3ã€ä¼ä¸šå…±äº«ä¸Šç½‘æ¡ˆä¾‹</h3><figure><img src="https://lcy-blog.oss-cn-beijing.aliyuncs.com/blog/202412180931043.png" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><p>å‰ææ¡ä»¶ï¼š<br> â€ƒâ€ƒå±€åŸŸç½‘å„ä¸»æœºæ­£ç¡®è®¾ç½® IP åœ°å€/å­ç½‘æ©ç <br> â€ƒâ€ƒå±€åŸŸç½‘å„ä¸»æœºæ­£ç¡®è®¾ç½®é»˜è®¤ç½‘å…³åœ°å€<br> â€ƒâ€ƒLinux ç½‘å…³æ”¯æŒ IP è·¯ç”±è½¬å‘</p><figure><img src="https://lcy-blog.oss-cn-beijing.aliyuncs.com/blog/202412180931766.png" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><p><img src="https://lcy-blog.oss-cn-beijing.aliyuncs.com/blog/202412180930453.png" alt="" loading="lazy"><br><img src="https://img-blog.csdnimg.cn/203fe1b17f0d4d90b14d0e6c69bfb346.png#pic_center" alt="" loading="lazy"></p><h4 id="_3-1ã€å›ºå®šçš„å¤–ç½‘-ip-åœ°å€" tabindex="-1"><a class="header-anchor" href="#_3-1ã€å›ºå®šçš„å¤–ç½‘-ip-åœ°å€" aria-hidden="true">#</a> 3.1ã€å›ºå®šçš„å¤–ç½‘ IP åœ°å€</h4><p><img src="https://lcy-blog.oss-cn-beijing.aliyuncs.com/blog/202412180930207.png" alt="" loading="lazy"><br><img src="https://lcy-blog.oss-cn-beijing.aliyuncs.com/blog/202412180930216.png" alt="" loading="lazy"><br><img src="https://lcy-blog.oss-cn-beijing.aliyuncs.com/blog/202412180930695.png" alt="" loading="lazy"><br><img src="https://lcy-blog.oss-cn-beijing.aliyuncs.com/blog/202412180930370.png" alt="" loading="lazy"><br><img src="https://lcy-blog.oss-cn-beijing.aliyuncs.com/blog/202412180930207.png" alt="" loading="lazy"><br><img src="https://lcy-blog.oss-cn-beijing.aliyuncs.com/blog/202412180930948.png" alt="" loading="lazy"></p><h4 id="_3-2ã€éå›ºå®šå¤–ç½‘-ip-åœ°å€æˆ–-adsl" tabindex="-1"><a class="header-anchor" href="#_3-2ã€éå›ºå®šå¤–ç½‘-ip-åœ°å€æˆ–-adsl" aria-hidden="true">#</a> 3.2ã€éå›ºå®šå¤–ç½‘ IP åœ°å€æˆ– ADSL</h4><figure><img src="https://lcy-blog.oss-cn-beijing.aliyuncs.com/blog/202412180930709.png" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><h2 id="ä¸‰ã€dnat-ç­–ç•¥" tabindex="-1"><a class="header-anchor" href="#ä¸‰ã€dnat-ç­–ç•¥" aria-hidden="true">#</a> ä¸‰ã€DNAT ç­–ç•¥</h2><h3 id="_1ã€dnat-åŸç†" tabindex="-1"><a class="header-anchor" href="#_1ã€dnat-åŸç†" aria-hidden="true">#</a> 1ã€DNAT åŸç†</h3><p>â€ƒâ€ƒåœ¨ Internet ç¯å¢ƒä¸­ï¼Œé€šè¿‡ç½‘å…³æœåŠ¡å™¨ä¸­æ­£ç¡®è®¾ç½® DNAT ç­–ç•¥å¯å®ç°ä¼ä¸šæ‰€æ³¨å†Œçš„ç½‘ç«™æˆ–åŸŸåå¿…é¡»å¯¹åº”å…¬ç½‘ IP åœ°å€ã€‚</p><figure><img src="https://lcy-blog.oss-cn-beijing.aliyuncs.com/blog/202412180929574.png" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><p>å‰ææ¡ä»¶<br> â€ƒâ€ƒå±€åŸŸç½‘çš„ Web æœåŠ¡å™¨èƒ½å¤Ÿè®¿é—® Internet<br> â€ƒâ€ƒç½‘å…³çš„å¤–ç½‘ IP åœ°å€æœ‰æ­£ç¡®çš„ DNS è§£æè®°å½•<br> â€ƒâ€ƒLinux ç½‘å…³æ”¯æŒ IP è·¯ç”±è½¬å‘</p><h4 id="_1-1ã€dnat-è½¬å‘è§„åˆ™-1-å‘å†…ç½‘-web-æœåŠ¡" tabindex="-1"><a class="header-anchor" href="#_1-1ã€dnat-è½¬å‘è§„åˆ™-1-å‘å†…ç½‘-web-æœåŠ¡" aria-hidden="true">#</a> 1.1ã€DNAT è½¬å‘è§„åˆ™ 1ï¼šå‘å†…ç½‘ Web æœåŠ¡</h4><p><img src="https://lcy-blog.oss-cn-beijing.aliyuncs.com/blog/202412180929930.png" alt="" loading="lazy"><br><img src="https://lcy-blog.oss-cn-beijing.aliyuncs.com/blog/202412180929271.png" alt="" loading="lazy"><br><img src="https://lcy-blog.oss-cn-beijing.aliyuncs.com/blog/202412180929338.png" alt="" loading="lazy"><br><img src="https://lcy-blog.oss-cn-beijing.aliyuncs.com/blog/202412180929438.png" alt="" loading="lazy"></p><h4 id="_1-2ã€dnat-è½¬æ¢è§„åˆ™-2-å‘å¸ƒæ—¶ä¿®æ”¹ç›®æ ‡ç«¯å£" tabindex="-1"><a class="header-anchor" href="#_1-2ã€dnat-è½¬æ¢è§„åˆ™-2-å‘å¸ƒæ—¶ä¿®æ”¹ç›®æ ‡ç«¯å£" aria-hidden="true">#</a> 1.2ã€DNAT è½¬æ¢è§„åˆ™ 2ï¼šå‘å¸ƒæ—¶ä¿®æ”¹ç›®æ ‡ç«¯å£</h4><p><img src="https://lcy-blog.oss-cn-beijing.aliyuncs.com/blog/202412180929002.png" alt="" loading="lazy"><br><img src="https://lcy-blog.oss-cn-beijing.aliyuncs.com/blog/202412180929322.png" alt="" loading="lazy"><img src="https://lcy-blog.oss-cn-beijing.aliyuncs.com/blog/202412180929014.png" alt="" loading="lazy"><br><img src="https://lcy-blog.oss-cn-beijing.aliyuncs.com/blog/202412180929994.png" alt="" loading="lazy"><br><img src="https://lcy-blog.oss-cn-beijing.aliyuncs.com/blog/202412180929749.png" alt="" loading="lazy"></p><h2 id="å››ã€iptables-é˜²ç«å¢™è§„åˆ™çš„å¤‡ä»½ä¸è¿˜åŸ" tabindex="-1"><a class="header-anchor" href="#å››ã€iptables-é˜²ç«å¢™è§„åˆ™çš„å¤‡ä»½ä¸è¿˜åŸ" aria-hidden="true">#</a> å››ã€iptables é˜²ç«å¢™è§„åˆ™çš„å¤‡ä»½ä¸è¿˜åŸ</h2><blockquote><p>â€ƒâ€ƒè®¾ç½®å®Œé˜²ç«å¢™è§„åˆ™åï¼Œå¯å¤‡ä»½è§„åˆ™åˆ°æ–‡ä»¶ä¸­ï¼Œä»¥ä¾¿æ—¥åè¿›è¡Œè¿˜åŸï¼Œæˆ–ä»¥å¤‡ä»½è§„åˆ™ä¸ºä¾æ®ç¼–å†™é˜²ç«å¢™è„šæœ¬</p></blockquote>',30),P=a("br",null,null,-1),z=e(`<h3 id="_1ã€å¯¼å‡º-å¤‡ä»½-é˜²ç«å¢™è§„åˆ™" tabindex="-1"><a class="header-anchor" href="#_1ã€å¯¼å‡º-å¤‡ä»½-é˜²ç«å¢™è§„åˆ™" aria-hidden="true">#</a> 1ã€å¯¼å‡ºï¼ˆå¤‡ä»½ï¼‰é˜²ç«å¢™è§„åˆ™</h3><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code>iptables-save å·¥å…·
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div>`,2),j=e(`<div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code>iptables-save <span class="token operator">&gt;</span> è¦å¯¼å‡ºçš„è·¯å¾„
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div>`,1),I=e(`<figure><img src="https://lcy-blog.oss-cn-beijing.aliyuncs.com/blog/202412180929106.png" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><h3 id="_2ã€å¯¼å…¥-è¿˜åŸ-é˜²ç«å¢™è§„åˆ™" tabindex="-1"><a class="header-anchor" href="#_2ã€å¯¼å…¥-è¿˜åŸ-é˜²ç«å¢™è§„åˆ™" aria-hidden="true">#</a> 2ã€å¯¼å…¥ï¼ˆè¿˜åŸï¼‰é˜²ç«å¢™è§„åˆ™</h3><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code>iptables-restore å·¥å…·
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div>`,3),w=e(`<div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code>iptables-restore <span class="token operator">&lt;</span> è¦å¯¼å…¥çš„è·¯å¾„
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div>`,1),N=e(`<p>æŸ¥çœ‹è§„åˆ™ï¼Œç°åœ¨æ˜¯ç©ºçš„ï¼š</p><figure><img src="https://lcy-blog.oss-cn-beijing.aliyuncs.com/blog/202412180929806.png" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><p>å¯¼å…¥è§„åˆ™ï¼š</p><figure><img src="https://lcy-blog.oss-cn-beijing.aliyuncs.com/blog/202412180929021.png" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><blockquote><p>â€ƒâ€ƒé‡å®šå‘å‡ºçš„æ–‡ä»¶ä¹Ÿå¯ä»¥æ˜¯ä»»æ„è‡ªå®šä¹‰çš„æ–‡ä»¶ï¼Œè‹¥å°†è§„åˆ™ä¿å­˜åˆ°/etc/sysconfig/iptables ä¸­ï¼Œiptables å¯åŠ¨æ—¶è‡ªåŠ¨è¿˜åŸè§„åˆ™ã€‚</p></blockquote><h2 id="äº”ã€ä¼ä¸šé˜²ç«å¢™è„šæœ¬ç¼–ç¨‹ä¸è§„èŒƒã€é™„åŠ ã€‘" tabindex="-1"><a class="header-anchor" href="#äº”ã€ä¼ä¸šé˜²ç«å¢™è„šæœ¬ç¼–ç¨‹ä¸è§„èŒƒã€é™„åŠ ã€‘" aria-hidden="true">#</a> äº”ã€ä¼ä¸šé˜²ç«å¢™è„šæœ¬ç¼–ç¨‹ä¸è§„èŒƒã€é™„åŠ ã€‘</h2><h3 id="_1ã€-ç½‘å…³å‹-é˜²ç«å¢™è„šæœ¬" tabindex="-1"><a class="header-anchor" href="#_1ã€-ç½‘å…³å‹-é˜²ç«å¢™è„šæœ¬" aria-hidden="true">#</a> 1ã€â€œç½‘å…³å‹â€é˜²ç«å¢™è„šæœ¬</h3><p>å¥½çš„é˜²ç«å¢™è„šæœ¬è¦åŒ…æ‹¬ä»¥ä¸‹éƒ¨åˆ†ï¼š</p><ul><li>å®šä¹‰åŸºæœ¬å˜é‡ï¼Œä¾¿äºè„šæœ¬çš„ç»´æŠ¤ã€é‡ç”¨</li><li>åŠ è½½å¿…è¦çš„å†…æ ¸æ¨¡å—ï¼Œå°†é¢‘ç¹ç”¨åˆ°çš„æ¨¡å—è½½å…¥åˆ°å†…æ ¸</li><li>è°ƒæ•´/proc å‚æ•°ï¼ŒLinux å†…æ ¸æ§åˆ¶åŠè°ƒä¼˜</li><li>å…·ä½“çš„é˜²ç«å¢™è§„åˆ™ï¼ŒæŒ‰è¡¨ã€é“¾åˆ†åˆ«è®¾ç½®è§„åˆ™ï¼ŒåŒ…æ‹¬é»˜è®¤ç­–ç•¥</li></ul><h4 id="_1-1ã€å®šä¹‰åŸºæœ¬å˜é‡ä¾¿äºè„šæœ¬çš„ç»´æŠ¤ã€é‡ç”¨" tabindex="-1"><a class="header-anchor" href="#_1-1ã€å®šä¹‰åŸºæœ¬å˜é‡ä¾¿äºè„šæœ¬çš„ç»´æŠ¤ã€é‡ç”¨" aria-hidden="true">#</a> 1.1ã€å®šä¹‰åŸºæœ¬å˜é‡ä¾¿äºè„šæœ¬çš„ç»´æŠ¤ã€é‡ç”¨</h4><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token shebang important">#!/bin/bash</span>
<span class="token assign-left variable">INET_IF</span><span class="token operator">=</span>â€eth0â€
<span class="token assign-left variable">INET_IP</span><span class="token operator">=</span>â€192.168.1.108â€
<span class="token assign-left variable">LAN_IF</span><span class="token operator">=</span>â€eth1â€
<span class="token assign-left variable">LAN_IP</span><span class="token operator">=</span>â€192.168.100.1â€
<span class="token assign-left variable">LAN_NET</span><span class="token operator">=</span>â€192.168.100.0/24â€
<span class="token assign-left variable">LAN_WWW_IP</span><span class="token operator">=</span>â€192.168.100.100â€
<span class="token assign-left variable">IPT</span><span class="token operator">=</span>â€/sbin/iptablesâ€
<span class="token assign-left variable">MOD</span><span class="token operator">=</span>â€/sbin/modprobeâ€
<span class="token assign-left variable">CTL</span><span class="token operator">=</span>â€/sbin/sysctlâ€
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="_1-2ã€åŠ è½½å¿…è¦çš„å†…æ ¸æ¨¡å—å°†é¢‘ç¹ç”¨åˆ°çš„æ¨¡å—è½½å…¥å†…æ ¸" tabindex="-1"><a class="header-anchor" href="#_1-2ã€åŠ è½½å¿…è¦çš„å†…æ ¸æ¨¡å—å°†é¢‘ç¹ç”¨åˆ°çš„æ¨¡å—è½½å…¥å†…æ ¸" aria-hidden="true">#</a> 1.2ã€åŠ è½½å¿…è¦çš„å†…æ ¸æ¨¡å—å°†é¢‘ç¹ç”¨åˆ°çš„æ¨¡å—è½½å…¥å†…æ ¸</h4>`,12),D=a("blockquote",null,[a("p",null,[s("â€¦â€¦"),a("br"),a("span",{class:"katex"},[a("span",{class:"katex-mathml"},[a("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[a("semantics",null,[a("mrow",null,[a("mi",null,"M"),a("mi",null,"O"),a("mi",null,"D"),a("mi",null,"i"),a("msub",null,[a("mi",null,"p"),a("mi",null,"t")]),a("mi",null,"a"),a("mi",null,"b"),a("mi",null,"l"),a("mi",null,"e"),a("mi",null,"s")]),a("annotation",{encoding:"application/x-tex"},"MOD ip_tables ")])])]),a("span",{class:"katex-html","aria-hidden":"true"},[a("span",{class:"base"},[a("span",{class:"strut",style:{height:"0.8889em","vertical-align":"-0.1944em"}}),a("span",{class:"mord mathnormal",style:{"margin-right":"0.02778em"}},"MO"),a("span",{class:"mord mathnormal",style:{"margin-right":"0.02778em"}},"D"),a("span",{class:"mord mathnormal"},"i"),a("span",{class:"mord"},[a("span",{class:"mord mathnormal"},"p"),a("span",{class:"msupsub"},[a("span",{class:"vlist-t vlist-t2"},[a("span",{class:"vlist-r"},[a("span",{class:"vlist",style:{height:"0.2806em"}},[a("span",{style:{top:"-2.55em","margin-left":"0em","margin-right":"0.05em"}},[a("span",{class:"pstrut",style:{height:"2.7em"}}),a("span",{class:"sizing reset-size6 size3 mtight"},[a("span",{class:"mord mathnormal mtight"},"t")])])]),a("span",{class:"vlist-s"},"â€‹")]),a("span",{class:"vlist-r"},[a("span",{class:"vlist",style:{height:"0.15em"}},[a("span")])])])])]),a("span",{class:"mord mathnormal"},"ab"),a("span",{class:"mord mathnormal",style:{"margin-right":"0.01968em"}},"l"),a("span",{class:"mord mathnormal"},"es")])])]),s("MOD ip_conntrack"),a("br"),a("span",{class:"katex"},[a("span",{class:"katex-mathml"},[a("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[a("semantics",null,[a("mrow",null,[a("mi",null,"M"),a("mi",null,"O"),a("mi",null,"D"),a("mi",null,"i"),a("mi",null,"p"),a("msub",null,[a("mi",null,"t"),a("mi",null,"R")]),a("mi",null,"E"),a("mi",null,"J"),a("mi",null,"E"),a("mi",null,"C"),a("mi",null,"T")]),a("annotation",{encoding:"application/x-tex"},"MOD ipt_REJECT ")])])]),a("span",{class:"katex-html","aria-hidden":"true"},[a("span",{class:"base"},[a("span",{class:"strut",style:{height:"0.8778em","vertical-align":"-0.1944em"}}),a("span",{class:"mord mathnormal",style:{"margin-right":"0.02778em"}},"MO"),a("span",{class:"mord mathnormal",style:{"margin-right":"0.02778em"}},"D"),a("span",{class:"mord mathnormal"},"i"),a("span",{class:"mord mathnormal"},"p"),a("span",{class:"mord"},[a("span",{class:"mord mathnormal"},"t"),a("span",{class:"msupsub"},[a("span",{class:"vlist-t vlist-t2"},[a("span",{class:"vlist-r"},[a("span",{class:"vlist",style:{height:"0.3283em"}},[a("span",{style:{top:"-2.55em","margin-left":"0em","margin-right":"0.05em"}},[a("span",{class:"pstrut",style:{height:"2.7em"}}),a("span",{class:"sizing reset-size6 size3 mtight"},[a("span",{class:"mord mathnormal mtight",style:{"margin-right":"0.00773em"}},"R")])])]),a("span",{class:"vlist-s"},"â€‹")]),a("span",{class:"vlist-r"},[a("span",{class:"vlist",style:{height:"0.15em"}},[a("span")])])])])]),a("span",{class:"mord mathnormal",style:{"margin-right":"0.05764em"}},"E"),a("span",{class:"mord mathnormal",style:{"margin-right":"0.09618em"}},"J"),a("span",{class:"mord mathnormal",style:{"margin-right":"0.13889em"}},"ECT")])])]),s("MOD ipt_LOG"),a("br"),a("span",{class:"katex"},[a("span",{class:"katex-mathml"},[a("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[a("semantics",null,[a("mrow",null,[a("mi",null,"M"),a("mi",null,"O"),a("mi",null,"D"),a("mi",null,"i"),a("mi",null,"p"),a("msub",null,[a("mi",null,"t"),a("mi",null,"i")]),a("mi",null,"p"),a("mi",null,"r"),a("mi",null,"a"),a("mi",null,"n"),a("mi",null,"g"),a("mi",null,"e")]),a("annotation",{encoding:"application/x-tex"},"MOD ipt_iprange ")])])]),a("span",{class:"katex-html","aria-hidden":"true"},[a("span",{class:"base"},[a("span",{class:"strut",style:{height:"0.8778em","vertical-align":"-0.1944em"}}),a("span",{class:"mord mathnormal",style:{"margin-right":"0.02778em"}},"MO"),a("span",{class:"mord mathnormal",style:{"margin-right":"0.02778em"}},"D"),a("span",{class:"mord mathnormal"},"i"),a("span",{class:"mord mathnormal"},"p"),a("span",{class:"mord"},[a("span",{class:"mord mathnormal"},"t"),a("span",{class:"msupsub"},[a("span",{class:"vlist-t vlist-t2"},[a("span",{class:"vlist-r"},[a("span",{class:"vlist",style:{height:"0.3117em"}},[a("span",{style:{top:"-2.55em","margin-left":"0em","margin-right":"0.05em"}},[a("span",{class:"pstrut",style:{height:"2.7em"}}),a("span",{class:"sizing reset-size6 size3 mtight"},[a("span",{class:"mord mathnormal mtight"},"i")])])]),a("span",{class:"vlist-s"},"â€‹")]),a("span",{class:"vlist-r"},[a("span",{class:"vlist",style:{height:"0.15em"}},[a("span")])])])])]),a("span",{class:"mord mathnormal"},"p"),a("span",{class:"mord mathnormal",style:{"margin-right":"0.02778em"}},"r"),a("span",{class:"mord mathnormal"},"an"),a("span",{class:"mord mathnormal",style:{"margin-right":"0.03588em"}},"g"),a("span",{class:"mord mathnormal"},"e")])])]),s("MOD xt_tcpudp"),a("br"),a("span",{class:"katex"},[a("span",{class:"katex-mathml"},[a("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[a("semantics",null,[a("mrow",null,[a("mi",null,"M"),a("mi",null,"O"),a("mi",null,"D"),a("mi",null,"x"),a("msub",null,[a("mi",null,"t"),a("mi",null,"s")]),a("mi",null,"t"),a("mi",null,"a"),a("mi",null,"t"),a("mi",null,"e")]),a("annotation",{encoding:"application/x-tex"},"MOD xt_state ")])])]),a("span",{class:"katex-html","aria-hidden":"true"},[a("span",{class:"base"},[a("span",{class:"strut",style:{height:"0.8333em","vertical-align":"-0.15em"}}),a("span",{class:"mord mathnormal",style:{"margin-right":"0.02778em"}},"MO"),a("span",{class:"mord mathnormal",style:{"margin-right":"0.02778em"}},"D"),a("span",{class:"mord mathnormal"},"x"),a("span",{class:"mord"},[a("span",{class:"mord mathnormal"},"t"),a("span",{class:"msupsub"},[a("span",{class:"vlist-t vlist-t2"},[a("span",{class:"vlist-r"},[a("span",{class:"vlist",style:{height:"0.1514em"}},[a("span",{style:{top:"-2.55em","margin-left":"0em","margin-right":"0.05em"}},[a("span",{class:"pstrut",style:{height:"2.7em"}}),a("span",{class:"sizing reset-size6 size3 mtight"},[a("span",{class:"mord mathnormal mtight"},"s")])])]),a("span",{class:"vlist-s"},"â€‹")]),a("span",{class:"vlist-r"},[a("span",{class:"vlist",style:{height:"0.15em"}},[a("span")])])])])]),a("span",{class:"mord mathnormal"},"t"),a("span",{class:"mord mathnormal"},"a"),a("span",{class:"mord mathnormal"},"t"),a("span",{class:"mord mathnormal"},"e")])])]),s("MOD xt_multiport"),a("br"),s(" $MOD xt_mac")])],-1),M=e(`<h4 id="_1-3ã€è°ƒæ•´-proc-å‚æ•°linux-å†…æ ¸æ§åˆ¶åŠè°ƒä¼˜" tabindex="-1"><a class="header-anchor" href="#_1-3ã€è°ƒæ•´-proc-å‚æ•°linux-å†…æ ¸æ§åˆ¶åŠè°ƒä¼˜" aria-hidden="true">#</a> 1.3ã€è°ƒæ•´/proc å‚æ•°Linux å†…æ ¸æ§åˆ¶åŠè°ƒä¼˜</h4><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code>â€¦â€¦
<span class="token variable">$CTL</span> <span class="token parameter variable">-w</span> <span class="token assign-left variable">net.ipv4.ip_forward</span><span class="token operator">=</span><span class="token number">1</span>            å¼€å¯è·¯ç”±è½¬å‘åŠŸèƒ½
<span class="token variable">$CTL</span> <span class="token parameter variable">-w</span> <span class="token assign-left variable">net.ipv4.default_ttl</span><span class="token operator">=</span><span class="token number">128</span>         é»˜è®¤ç”Ÿå­˜å‘¨æœŸ
<span class="token variable">$CTL</span> <span class="token parameter variable">-w</span> <span class="token assign-left variable">net.ipv4.icmp_echo_ignore_all</span><span class="token operator">=</span><span class="token number">1</span>            æ ¹æœ¬ä¸è¦å“åº” <span class="token builtin class-name">echo</span> åŒ…ã€‚è¯·ä¸è¦è®¾ç½®ä¸ºç¼ºçœï¼Œå®ƒå¯èƒ½åœ¨ä½ æ­£è¢«åˆ©ç”¨æˆä¸º DoS æ”»å‡»çš„è·³æ¿æ—¶å¯èƒ½æœ‰ç”¨
<span class="token variable">$CTL</span> <span class="token parameter variable">-w</span> <span class="token assign-left variable">net.ipv4.icmp_echo_ignore_broadcasts</span><span class="token operator">=</span><span class="token number">1</span>     <span class="token function">ping</span> å­ç½‘çš„å­ç½‘åœ°å€ï¼Œæ‰€æœ‰çš„æœºå™¨éƒ½åº”è¯¥äºˆä»¥å›åº”ã€‚è¿™å¯èƒ½æˆä¸ºéå¸¸å¥½ç”¨çš„æ‹’ç»æœåŠ¡æ”»å‡»å·¥å…·ã€‚è®¾ç½®ä¸º <span class="token number">1</span> æ¥å¿½ç•¥è¿™äº›å­ç½‘å¹¿æ’­æ¶ˆæ¯ä»¥ä¸‹é…ç½®ä¸ºä¼˜åŒ– TCP å“åº”èƒ½åŠ›
<span class="token variable">$CTL</span> <span class="token parameter variable">-w</span> <span class="token assign-left variable">net.ipv4.tcp_syncookies</span><span class="token operator">=</span><span class="token number">1</span>        tcp syncookieï¼Œé»˜è®¤å…³é—­
<span class="token variable">$CTL</span> <span class="token parameter variable">-w</span> <span class="token assign-left variable">net.ipv4.tcp_syn_retries</span><span class="token operator">=</span><span class="token number">3</span>       å¤–å‘ syn æ¡æ‰‹é‡è¯•æ¬¡æ•°ï¼Œé»˜è®¤ <span class="token number">4</span>
<span class="token variable">$CTL</span> <span class="token parameter variable">-w</span> <span class="token assign-left variable">net.ipv4.tcp_synack_retries</span><span class="token operator">=</span><span class="token number">3</span>    syn-ack æ¡æ‰‹çŠ¶æ€é‡è¯•æ¬¡æ•°ï¼Œé»˜è®¤ <span class="token number">5</span>ï¼Œé­å— syn-flood æ”»å‡»æ—¶æ”¹ä¸º <span class="token number">1</span> æˆ– <span class="token number">2</span>
<span class="token variable">$CTL</span> <span class="token parameter variable">-w</span> <span class="token assign-left variable">net.ipv4.tcp_fin_timeout</span><span class="token operator">=</span><span class="token number">60</span>      é»˜è®¤ <span class="token number">60</span>ï¼Œtcp fin çŠ¶æ€è¶…æ—¶æ—¶é—´
<span class="token variable">$CTL</span> <span class="token parameter variable">-w</span> <span class="token assign-left variable">net.ipv4.tcp_max_syn_backlog</span><span class="token operator">=</span><span class="token number">3200</span>     syn é˜Ÿåˆ—ï¼Œé»˜è®¤1024ï¼Œ<span class="token operator">&gt;</span> <span class="token number">1280</span> å¯èƒ½å·¥ä½œä¸ç¨³å®šï¼Œéœ€è¦ä¿®æ”¹å†…æ ¸æºç å‚æ•°
â€¦â€¦
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="_1-4ã€å…·ä½“çš„é˜²ç«å¢™è§„åˆ™" tabindex="-1"><a class="header-anchor" href="#_1-4ã€å…·ä½“çš„é˜²ç«å¢™è§„åˆ™" aria-hidden="true">#</a> 1.4ã€å…·ä½“çš„é˜²ç«å¢™è§„åˆ™</h4><p>æŒ‰è¡¨ã€é“¾åˆ†åˆ«è®¾ç½®è§„åˆ™ï¼ŒåŒ…æ‹¬é»˜è®¤ç­–ç•¥</p>`,4),L=a("br",null,null,-1),q=a("code",null,"$IPT -t filter -X",-1),O=a("br",null,null,-1),C=a("code",null,"$IPT -t nat -X",-1),E=a("br",null,null,-1),A=a("code",null,"$IPT -t filter -F",-1),$=a("br",null,null,-1),W=a("code",null,"$IPT -t nat -F",-1),R=a("br",null,null,-1),U=a("br",null,null,-1),F=a("br",null,null,-1),S=a("code",null,"$IPT -P INPUT DROP",-1),X=a("br",null,null,-1),B=a("code",null,"$IPT -p FORWARD DROP",-1),V=a("br",null,null,-1),G=a("code",null,"$IPT -P OUTPUT ACCEPT",-1),J=a("br",null,null,-1),Q=a("br",null,null,-1),H=a("br",null,null,-1),K=a("code",null,"$IPT -I INPUT -p tcp --dport 22 -j ACCEPT",-1),Y=a("br",null,null,-1),Z=a("code",null,"$IPT -t nat -A POSTROUTING -s $LAN_NET -o $INET_IF -j SNAT --to-source $INET_IP",-1),aa=a("br",null,null,-1),sa=a("code",null,"$IPT -t nat -A PREROUTING -i $INET_IF -d $INET_IP -p tcp --dport 80 -j DNAT --to-destination",-1),na=a("br",null,null,-1),la=a("code",null,"$LAN_WWW_IP",-1),ia=e('<h4 id="_1-5ã€å®ä¾‹" tabindex="-1"><a class="header-anchor" href="#_1-5ã€å®ä¾‹" aria-hidden="true">#</a> 1.5ã€å®ä¾‹ï¼š</h4><p><img src="https://lcy-blog.oss-cn-beijing.aliyuncs.com/blog/202412180928744.png" alt="" loading="lazy"><br><img src="https://lcy-blog.oss-cn-beijing.aliyuncs.com/blog/202412180928143.png" alt="" loading="lazy"><br><img src="https://lcy-blog.oss-cn-beijing.aliyuncs.com/blog/202412180928481.png" alt="" loading="lazy"><br><img src="https://lcy-blog.oss-cn-beijing.aliyuncs.com/blog/202412180928534.png" alt="" loading="lazy"></p><h3 id="_2ã€-ä¸»æœºå‹-é˜²ç«å¢™è„šæœ¬" tabindex="-1"><a class="header-anchor" href="#_2ã€-ä¸»æœºå‹-é˜²ç«å¢™è„šæœ¬" aria-hidden="true">#</a> 2ã€â€œä¸»æœºå‹â€é˜²ç«å¢™è„šæœ¬</h3><ul><li>å°† OUTPUT é“¾çš„é»˜è®¤ç­–ç•¥è®¾ä¸ºå…è®¸ï¼Œä¸æ·»åŠ å…¶ä»–è§„åˆ™</li><li>å°† INPUT é“¾çš„é»˜è®¤ç­–ç•¥è®¾ä¸ºæ‹’ç»ï¼Œåªæ”¾è¡Œå¯¹ Web æœåŠ¡çš„è®¿é—®ï¼Œä»¥åŠå“åº”æœ¬æœºè®¿é—®è¯·æ±‚çš„æ•°æ®åŒ…</li></ul><h4 id="_2-1ã€å®šä¹‰åŸºæœ¬å˜é‡" tabindex="-1"><a class="header-anchor" href="#_2-1ã€å®šä¹‰åŸºæœ¬å˜é‡" aria-hidden="true">#</a> 2.1ã€å®šä¹‰åŸºæœ¬å˜é‡</h4><p>IPT=â€/sbin/iptablesâ€<br> â€¦â€¦</p><h4 id="_2-2ã€è°ƒæ•´-proc-å‚æ•°" tabindex="-1"><a class="header-anchor" href="#_2-2ã€è°ƒæ•´-proc-å‚æ•°" aria-hidden="true">#</a> 2.2ã€è°ƒæ•´/proc å‚æ•°</h4><p>â€¦â€¦</p><h4 id="_2-3ã€è®¾ç½®å…·ä½“çš„é˜²ç«å¢™è§„åˆ™" tabindex="-1"><a class="header-anchor" href="#_2-3ã€è®¾ç½®å…·ä½“çš„é˜²ç«å¢™è§„åˆ™" aria-hidden="true">#</a> 2.3ã€è®¾ç½®å…·ä½“çš„é˜²ç«å¢™è§„åˆ™</h4>',9),ea=a("blockquote",null,[a("p",null,[s("â€ƒâ€ƒ1>åˆ é™¤è‡ªå®šä¹‰çš„é“¾ã€æ¸…ç©ºå·²æœ‰è§„åˆ™"),a("br"),a("span",{class:"katex"},[a("span",{class:"katex-mathml"},[a("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[a("semantics",null,[a("mrow",null,[a("mi",null,"I"),a("mi",null,"P"),a("mi",null,"T"),a("mo",null,"âˆ’"),a("mi",null,"t"),a("mi",null,"f"),a("mi",null,"i"),a("mi",null,"l"),a("mi",null,"t"),a("mi",null,"e"),a("mi",null,"r"),a("mo",null,"âˆ’"),a("mi",null,"X")]),a("annotation",{encoding:"application/x-tex"},"IPT -t filter -X ")])])]),a("span",{class:"katex-html","aria-hidden":"true"},[a("span",{class:"base"},[a("span",{class:"strut",style:{height:"0.7667em","vertical-align":"-0.0833em"}}),a("span",{class:"mord mathnormal",style:{"margin-right":"0.07847em"}},"I"),a("span",{class:"mord mathnormal",style:{"margin-right":"0.13889em"}},"PT"),a("span",{class:"mspace",style:{"margin-right":"0.2222em"}}),a("span",{class:"mbin"},"âˆ’"),a("span",{class:"mspace",style:{"margin-right":"0.2222em"}})]),a("span",{class:"base"},[a("span",{class:"strut",style:{height:"0.8889em","vertical-align":"-0.1944em"}}),a("span",{class:"mord mathnormal"},"t"),a("span",{class:"mord mathnormal",style:{"margin-right":"0.10764em"}},"f"),a("span",{class:"mord mathnormal"},"i"),a("span",{class:"mord mathnormal"},"lt"),a("span",{class:"mord mathnormal",style:{"margin-right":"0.02778em"}},"er"),a("span",{class:"mspace",style:{"margin-right":"0.2222em"}}),a("span",{class:"mbin"},"âˆ’"),a("span",{class:"mspace",style:{"margin-right":"0.2222em"}})]),a("span",{class:"base"},[a("span",{class:"strut",style:{height:"0.6833em"}}),a("span",{class:"mord mathnormal",style:{"margin-right":"0.07847em"}},"X")])])]),s("IPT -t filter -F"),a("br"),a("br"),s(" â€ƒâ€ƒ2>å®šä¹‰é»˜è®¤ç­–ç•¥"),a("br"),a("span",{class:"katex"},[a("span",{class:"katex-mathml"},[a("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[a("semantics",null,[a("mrow",null,[a("mi",null,"I"),a("mi",null,"P"),a("mi",null,"T"),a("mo",null,"âˆ’"),a("mi",null,"P"),a("mi",null,"I"),a("mi",null,"N"),a("mi",null,"P"),a("mi",null,"U"),a("mi",null,"T"),a("mi",null,"D"),a("mi",null,"R"),a("mi",null,"O"),a("mi",null,"P")]),a("annotation",{encoding:"application/x-tex"},"IPT -P INPUT DROP ")])])]),a("span",{class:"katex-html","aria-hidden":"true"},[a("span",{class:"base"},[a("span",{class:"strut",style:{height:"0.7667em","vertical-align":"-0.0833em"}}),a("span",{class:"mord mathnormal",style:{"margin-right":"0.07847em"}},"I"),a("span",{class:"mord mathnormal",style:{"margin-right":"0.13889em"}},"PT"),a("span",{class:"mspace",style:{"margin-right":"0.2222em"}}),a("span",{class:"mbin"},"âˆ’"),a("span",{class:"mspace",style:{"margin-right":"0.2222em"}})]),a("span",{class:"base"},[a("span",{class:"strut",style:{height:"0.6833em"}}),a("span",{class:"mord mathnormal",style:{"margin-right":"0.13889em"}},"P"),a("span",{class:"mord mathnormal",style:{"margin-right":"0.07847em"}},"I"),a("span",{class:"mord mathnormal",style:{"margin-right":"0.13889em"}},"NP"),a("span",{class:"mord mathnormal",style:{"margin-right":"0.10903em"}},"U"),a("span",{class:"mord mathnormal",style:{"margin-right":"0.13889em"}},"T"),a("span",{class:"mord mathnormal",style:{"margin-right":"0.02778em"}},"D"),a("span",{class:"mord mathnormal",style:{"margin-right":"0.13889em"}},"ROP")])])]),s("IPT -p FORWARD DROP"),a("br"),a("span",{class:"katex-error",title:`ParseError: KaTeX parse error: Expected 'EOF', got '&' at position 26: â€¦PUT ACCEPT<br>
&Ì²emsp;&emsp; 3>è®¾â€¦`,style:{color:"#cc0000"}},"IPT -P OUTPUT ACCEPT<br> &emsp;&emsp; 3>è®¾ç½® filter è¡¨ä¸­çš„å„ç§è§„åˆ™ "),s("IPT -A INPUT -m multiport -p tcp --dport 22,80 -j ACCEPT"),a("br"),s(" $IPT -A INPUT -m state --state ESTABLISHED,RELATED,NEW -j ACCEPT")])],-1),ta=e('<h4 id="_2-4ã€å®ä¾‹" tabindex="-1"><a class="header-anchor" href="#_2-4ã€å®ä¾‹" aria-hidden="true">#</a> 2.4ã€å®ä¾‹ï¼š</h4><p><img src="https://lcy-blog.oss-cn-beijing.aliyuncs.com/blog/202412180927032.png" alt="" loading="lazy"><br><img src="https://lcy-blog.oss-cn-beijing.aliyuncs.com/blog/202412180927549.png" alt="" loading="lazy"><br><img src="https://lcy-blog.oss-cn-beijing.aliyuncs.com/blog/202412180927515.png" alt="" loading="lazy"><br><img src="https://lcy-blog.oss-cn-beijing.aliyuncs.com/blog/202412180927496.png" alt="" loading="lazy"></p><figure><img src="https://lcy-blog.oss-cn-beijing.aliyuncs.com/blog/202412180927160.gif" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><h2 id="ç›¸å…³æ–‡ç« " tabindex="-1"><a class="header-anchor" href="#ç›¸å…³æ–‡ç« " aria-hidden="true">#</a> ç›¸å…³æ–‡ç« </h2>',4),oa={href:"https://liucy.blog.csdn.net/article/details/125968904",target:"_blank",rel:"noopener noreferrer"},ra=a("hr",null,null,-1),ca={href:"https://liucy.blog.csdn.net/article/details/126243322",target:"_blank",rel:"noopener noreferrer"},pa=a("hr",null,null,-1),ma={href:"https://liucy.blog.csdn.net/article/details/126243544",target:"_blank",rel:"noopener noreferrer"},ga=a("figure",null,[a("img",{src:"https://lcy-blog.oss-cn-beijing.aliyuncs.com/blog/202412180927477.gif",alt:"",tabindex:"0",loading:"lazy"}),a("figcaption")],-1);function da(ha,ba){const t=o("ExternalLinkIcon"),l=o("font");return c(),p("div",null,[g,a("blockquote",null,[a("p",null,[s("2ã€ä¸ºç½‘å…³æœåŠ¡å™¨ç¼–å†™è½¬å‘è§„åˆ™"),d,s(" â€ƒâ€ƒï¼ˆ1ï¼‰å…è®¸å±€åŸŸç½‘ä¸­çš„ä¸»æœºè®¿é—® Internet ä¸­æ˜¯ Webã€FTPã€DNSã€é‚®ä»¶æœåŠ¡"),h,s(" â€ƒâ€ƒï¼ˆ2ï¼‰ç¦æ­¢å±€åŸŸç½‘ä¸­çš„ä¸»æœºè®¿é—® "),a("a",b,[s("web.qq.com"),n(t)]),s("ã€"),a("a",u,[s("w.qq.com"),n(t)]),s("ã€"),a("a",y,[s("im.qq.com"),n(t)]),s(" ç­‰ç½‘ç«™ï¼Œä»¥é˜²æ­¢é€šè¿‡ WebQQ çš„æ–¹å¼è¿›è¡Œåœ¨çº¿èŠå¤©")])]),_,f,a("p",null,[a("a",v,[s("ç¦æ­¢å±€åŸŸç½‘ä¸­çš„ä¸»æœºè®¿é—®web.qq.com"),n(t)]),s("ã€"),a("a",k,[s("w.qq.com"),n(t)]),s("ã€"),a("a",x,[s("im.qq.com"),n(t)]),s(" ç­‰ç½‘ç«™")]),T,n(l,{color:"red"},{default:i(()=>[s(" > ä¸ºå¯¼å‡º â€ƒâ€ƒiptables-save"),P,s(" < ä¸ºå¯¼å…¥ â€ƒâ€ƒiptables-restore")]),_:1}),z,a("p",null,[a("strong",null,[n(l,{color:"teal"},{default:i(()=>[s("è¯­æ³•æ ¼å¼ï¼š")]),_:1})])]),j,a("p",null,[a("strong",null,[n(l,{color:"teal"},{default:i(()=>[s("å®ä¾‹ï¼š")]),_:1})])]),I,a("p",null,[a("strong",null,[n(l,{color:"teal"},{default:i(()=>[s("è¯­æ³•æ ¼å¼ï¼š")]),_:1})])]),w,a("p",null,[a("strong",null,[n(l,{color:"teal"},{default:i(()=>[s("å®ä¾‹ï¼š")]),_:1})])]),N,D,n(l,{color:"red"},{default:i(()=>[s("\\$MOD ip_nat_ftp â€ƒâ€ƒâ€ƒâ€ƒâ€ƒæ”¯æŒ FTP è®¿é—®çš„åœ°å€è½¬æ¢ $MOD ip_conntrack_ftp â€ƒâ€ƒæ”¯æŒ FTP è®¿é—®çš„è¿æ¥çŠ¶æ€è·Ÿè¸ª")]),_:1}),M,a("blockquote",null,[a("p",null,[a("strong",null,[n(l,{color:"teal"},{default:i(()=>[s("æ¸…ç©ºåŸæœ‰è§„åˆ™ï¼š")]),_:1})]),L,q,s(" â€ƒâ€ƒ"),n(l,{color:"red"},{default:i(()=>[s("åˆ é™¤ filter è¡¨å†…çš„ç”¨æˆ·è‡ªå®šä¹‰çš„é“¾")]),_:1}),O,C,E,A,$,W,R,U,a("strong",null,[n(l,{color:"teal"},{default:i(()=>[s("è®¾ç½®é»˜è®¤ç­–ç•¥ï¼š")]),_:1})]),F,S,X,B,V,G,J,Q,a("strong",null,[n(l,{color:"teal"},{default:i(()=>[s("å…¶ä»–å…·ä½“è§„åˆ™ï¼š")]),_:1})]),H,K,Y,Z,aa,sa,na,la])]),ia,ea,ta,a("blockquote",null,[a("p",null,[a("a",oa,[s("ğŸã€Linuxã€‘iptablesä¹‹é˜²ç«å¢™æ¦‚è¿°åŠè§„åˆ™åŒ¹é…+å®ä¾‹ï¼ˆ1ï¼‰"),n(t)])]),ra,a("p",null,[a("a",ca,[s("ğŸŒã€Linuxã€‘iptablesä¹‹é˜²ç«å¢™çš„åº”ç”¨åŠæ¡ˆä¾‹ã€ç­–ç•¥ã€å¤‡ä»½ä¸è¿˜åŸï¼ˆ2ï¼‰"),n(t)])]),pa,a("p",null,[a("a",ma,[s("ğŸã€Linuxã€‘firewall-cmdä¹‹é˜²ç«å¢™ç®€ä»‹åŠå¸¸ç”¨å‘½ä»¤+å®ä¾‹"),n(t)])])]),ga])}const _a=r(m,[["render",da],["__file","ã€Linuxã€‘iptablesä¹‹é˜²ç«å¢™çš„åº”ç”¨åŠæ¡ˆä¾‹ã€ç­–ç•¥ã€å¤‡ä»½ä¸è¿˜åŸï¼ˆ2ï¼‰.html.vue"]]);export{_a as default};
