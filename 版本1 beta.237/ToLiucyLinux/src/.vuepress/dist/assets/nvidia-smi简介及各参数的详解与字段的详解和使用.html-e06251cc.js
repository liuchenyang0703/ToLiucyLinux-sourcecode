import{_ as o}from"./plugin-vue_export-helper-c27b6911.js";import{r as t,o as r,c as p,a,b as s,d as e,e as i}from"./app-6706a352.js";const c={},l=a("figure",null,[a("img",{src:"https://lcy-blog.oss-cn-beijing.aliyuncs.com/blog/202412201007644.png",alt:"",tabindex:"0",loading:"lazy"}),a("figcaption")],-1),d=a("p",null,[s("ğŸ‘¨â€ğŸ“"),a("strong",null,"åšä¸»ç®€ä»‹")],-1),m={href:"https://blog.csdn.net/liu_chen_yang?type=blog",target:"_blank",rel:"noopener noreferrer"},u=a("br",null,null,-1),v={href:"https://bbs.huaweicloud.com/community/myblog",target:"_blank",rel:"noopener noreferrer"},k=a("br",null,null,-1),b={href:"https://developer.aliyun.com/my?spm=a2c6h.13148508.setting.3.21fc4f0eCmz1v3#/article?_k=zooqoz",target:"_blank",rel:"noopener noreferrer"},g=a("br",null,null,-1),h=a("strong",null,"äº¤æµç¤¾åŒºï¼š",-1),f={href:"https://bbs.csdn.net/forums/lcy",target:"_blank",rel:"noopener noreferrer"},y=a("br",null,null,-1),q=a("br",null,null,-1),_=i(`<hr><h2 id="nvidia-smiç®€ä»‹" tabindex="-1"><a class="header-anchor" href="#nvidia-smiç®€ä»‹" aria-hidden="true">#</a> nvidia-smiç®€ä»‹</h2><h3 id="_1ã€ä»€ä¹ˆæ˜¯nvidia-smi" tabindex="-1"><a class="header-anchor" href="#_1ã€ä»€ä¹ˆæ˜¯nvidia-smi" aria-hidden="true">#</a> 1ã€ä»€ä¹ˆæ˜¯nvidia-smi</h3><blockquote><p>nvidia-smiæ˜¯nvidia çš„ç³»ç»Ÿç®¡ç†ç•Œé¢ ï¼Œå…¶ä¸­smiæ˜¯ <strong>System management interface</strong> çš„ç¼©å†™ï¼Œå®ƒå¯ä»¥æ”¶é›†å„ç§çº§åˆ«çš„ä¿¡æ¯ï¼ŒæŸ¥çœ‹æ˜¾å­˜ä½¿ç”¨æƒ…å†µï¼Œæ˜¾å¡çš„æ¸©åº¦... ...ã€‚æ­¤å¤–, å¯ä»¥å¯ç”¨å’Œç¦ç”¨ GPU é…ç½®é€‰é¡¹ (å¦‚ ECC å†…å­˜åŠŸèƒ½)ã€‚</p></blockquote><h3 id="_2ã€ä»‹ç»nvidia-smi" tabindex="-1"><a class="header-anchor" href="#_2ã€ä»‹ç»nvidia-smi" aria-hidden="true">#</a> 2ã€ä»‹ç»nvidia-smi</h3><blockquote><p>nvidia-simç®€ç§°NVSMIï¼Œæä¾›ç›‘æ§GPUä½¿ç”¨æƒ…å†µå’Œæ›´æ”¹GPUçŠ¶æ€çš„åŠŸèƒ½ï¼Œæ˜¯ä¸€ä¸ªè·¨å¹³å°å·¥å…·ï¼Œæ”¯æŒæ‰€æœ‰æ ‡å‡†çš„NVIDIAé©±åŠ¨ç¨‹åºæ”¯æŒçš„Linuxå’ŒWindowsServer 2008 R2 å¼€å§‹çš„64ä½ç³»ç»Ÿã€‚è¿™ä¸ªå·¥å…·æ˜¯Nå¡é©±åŠ¨é™„å¸¦çš„ï¼Œåªè¦ä½¿ç”¨nvidiaæ˜¾å¡ï¼Œå®Œæˆå®‰è£…é©±åŠ¨å°±ä¼šæœ‰nvidia-smiå‘½ä»¤ï¼›</p></blockquote><h2 id="nvidia-smiå‘½ä»¤è¯¦è§£" tabindex="-1"><a class="header-anchor" href="#nvidia-smiå‘½ä»¤è¯¦è§£" aria-hidden="true">#</a> nvidia-smiå‘½ä»¤è¯¦è§£</h2><h3 id="nvidia-smi-è¡¨æ ¼å‚æ•°è¯¦è§£" tabindex="-1"><a class="header-anchor" href="#nvidia-smi-è¡¨æ ¼å‚æ•°è¯¦è§£" aria-hidden="true">#</a> nvidia-smi è¡¨æ ¼å‚æ•°è¯¦è§£</h3><figure><img src="https://lcy-blog.oss-cn-beijing.aliyuncs.com/blog/202412201008125.png" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code>+-----------------------------------------------------------------------------+
<span class="token operator">|</span> NVIDIA-SMI <span class="token number">515.57</span>       Driver Version: <span class="token number">515.57</span>       CUDA Version: <span class="token number">11.7</span>     <span class="token operator">|</span>
<span class="token operator">|</span>-------------------------------+----------------------+----------------------+
<span class="token operator">|</span> GPU  Name        Persistence-M<span class="token operator">|</span> Bus-Id        Disp.A <span class="token operator">|</span> Volatile Uncorr. ECC <span class="token operator">|</span>
<span class="token operator">|</span> Fan  Temp  Perf  Pwr:Usage/Cap<span class="token operator">|</span>         Memory-Usage <span class="token operator">|</span> GPU-Util  Compute M. <span class="token operator">|</span>
<span class="token operator">|</span>                               <span class="token operator">|</span>                      <span class="token operator">|</span>               MIG M. <span class="token operator">|</span>
<span class="token operator">|</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">=</span><span class="token operator">+=</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">=</span><span class="token operator">+=</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">=</span><span class="token operator">|</span>
<span class="token operator">|</span>   <span class="token number">0</span>  NVIDIA GeForce <span class="token punctuation">..</span>.  Off  <span class="token operator">|</span> 00000000:65:00.0 Off <span class="token operator">|</span>                  N/A <span class="token operator">|</span>
<span class="token operator">|</span> <span class="token number">30</span>%   22C    P8     3W / 350W <span class="token operator">|</span>   9815MiB / 12288MiB <span class="token operator">|</span>      <span class="token number">0</span>%      Default <span class="token operator">|</span>
<span class="token operator">|</span>                               <span class="token operator">|</span>                      <span class="token operator">|</span>                  N/A <span class="token operator">|</span>
+-------------------------------+----------------------+----------------------+
                                                                               
+-----------------------------------------------------------------------------+
<span class="token operator">|</span> Processes:                                                                  <span class="token operator">|</span>
<span class="token operator">|</span>  GPU   GI   CI        PID   Type   Process name                  GPU Memory <span class="token operator">|</span>
<span class="token operator">|</span>        ID   ID                                                   Usage      <span class="token operator">|</span>
<span class="token operator">|</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">=</span><span class="token operator">|</span>
<span class="token operator">|</span>    <span class="token number">0</span>   N/A  N/A     <span class="token number">37593</span>      C   <span class="token function">java</span>                             2869MiB <span class="token operator">|</span>
<span class="token operator">|</span>    <span class="token number">0</span>   N/A  N/A     <span class="token number">48477</span>      C   python3                          2779MiB <span class="token operator">|</span>
+-----------------------------------------------------------------------------+
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>Â <br> Â </p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token operator">|</span> NVIDIA-SMI <span class="token number">515.57</span>       Driver Version: <span class="token number">515.57</span>       CUDA Version: <span class="token number">11.7</span>     <span class="token operator">|</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><blockquote><p>NVIDIA-SMI 515.57â€ƒâ€ƒâ€ƒ#GRIDç‰ˆæœ¬<br> Driver Version: 515.57â€ƒâ€ƒ#é©±åŠ¨ç‰ˆæœ¬<br> CUDA Version: 11.7â€ƒâ€ƒâ€ƒ#CUDAæœ€é«˜æ”¯æŒçš„ç‰ˆæœ¬</p></blockquote><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token operator">|</span> GPU  Name        Persistence-M<span class="token operator">|</span> Bus-Id        Disp.A <span class="token operator">|</span> Volatile Uncorr. ECC <span class="token operator">|</span>
<span class="token operator">|</span> Fan  Temp  Perf  Pwr:Usage/Cap<span class="token operator">|</span>         Memory-Usage <span class="token operator">|</span> GPU-Util  Compute M. <span class="token operator">|</span>
<span class="token operator">|</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">=</span><span class="token operator">+=</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">=</span><span class="token operator">+=</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">=</span><span class="token operator">|</span>
<span class="token operator">|</span>   <span class="token number">0</span>  NVIDIA GeForce <span class="token punctuation">..</span>.  Off  <span class="token operator">|</span> 00000000:65:00.0 Off <span class="token operator">|</span>                  N/A <span class="token operator">|</span>
<span class="token operator">|</span> <span class="token number">30</span>%   22C    P8     3W / 350W <span class="token operator">|</span>   9815MiB / 12288MiB <span class="token operator">|</span>      <span class="token number">0</span>%      Default <span class="token operator">|</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><blockquote><p><code>|===============================+======================+======================|</code><br> ä¸ºåˆ†éš”ç¬¦ï¼šä¸Šä¸‹ä¸¤è¡Œæ˜¯å¯¹åº”å…³ç³»ï¼Œä¸Š1å¯¹ä¸‹1ï¼Œä¸Š2å¯¹ä¸‹2<br> Â </p><ul><li>GPUâ€ƒâ€ƒâ€ƒâ€ƒâ€ƒâ€ƒâ€ƒâ€ƒâ€ƒ#æœ¬æœºä¸­çš„GPUç¼–å·,ï¼ˆå¤šå—æ˜¾å¡çš„æ—¶å€™ï¼Œç¼–å·ä»0å¼€å§‹ï¼‰å›¾ä¸ŠGPUçš„ç¼–å·ä¸ºï¼š0ã€‚</li><li>Fanâ€ƒâ€ƒâ€ƒâ€ƒâ€ƒâ€ƒâ€ƒâ€ƒâ€ƒ#é£æ‰‡è½¬é€Ÿï¼ˆ0%-100%ï¼‰ï¼›N/Aè¡¨ç¤ºæ²¡æœ‰é£æ‰‡ï¼›errè¡¨ç¤ºé£æ‰‡å¯èƒ½æŸåï¼›å›¾ä¸Šè¡¨ç¤ºé£æ‰‡è½¬é€Ÿä¸ºï¼š30%ã€‚</li><li>Nameâ€ƒâ€ƒâ€ƒâ€ƒâ€ƒâ€ƒâ€ƒâ€ƒ#GPUç±»å‹ï¼ˆæ˜¾å¡å‹å·ï¼‰ï¼Œå›¾ä¸ŠGPUçš„ç±»å‹ä¸ºï¼šNVIDIA GeForce RTX 3080 Tiã€‚</li><li>Tempâ€ƒâ€ƒâ€ƒâ€ƒâ€ƒâ€ƒâ€ƒâ€ƒâ€ƒ#GPUçš„æ¸©åº¦ï¼ˆGPUæ¸©åº¦è¿‡é«˜ä¼šå¯¼è‡´GPUçš„é¢‘ç‡ä¸‹é™ï¼‰ï¼Œå•ä½æ‘„æ°åº¦Cï¼›å›¾ä¸Šæ¸©åº¦ä¸ºï¼š22Cã€‚</li><li>Perfâ€ƒâ€ƒâ€ƒâ€ƒâ€ƒâ€ƒâ€ƒâ€ƒâ€ƒ#GPUçš„æ€§èƒ½çŠ¶æ€ï¼Œä»P0ï¼ˆæœ€å¤§æ€§èƒ½ï¼‰åˆ°P12ï¼ˆæœ€å°æ€§èƒ½ï¼‰ï¼Œå›¾ä¸Šæ˜¯ï¼šP8</li><li>Persistence-Mâ€ƒâ€ƒâ€ƒâ€ƒ#æŒç»­æ¨¡å¼çš„çŠ¶æ€ï¼ŒæŒç»­æ¨¡å¼è™½ç„¶è€—èƒ½å¤§ï¼Œä½†æ˜¯åœ¨æ–°çš„GPUåº”ç”¨å¯åŠ¨æ—¶èŠ±è´¹çš„æ—¶é—´æ›´å°‘ï¼Œå›¾ä¸Šæ˜¾ç¤ºçš„æ˜¯ï¼šoff</li><li>Pwr:Usage/Capâ€ƒâ€ƒâ€ƒâ€ƒ#èƒ½è€—è¡¨ç¤ºï¼ŒUsageï¼šç”¨äº†å¤šå°‘ï¼ŒCapæ€»å…±å¤šå°‘ï¼›å›¾ä¸ŠUsageæ˜¾ç¤ºï¼š3Wï¼ŒCapæ˜¾ç¤ºï¼š350Wã€‚</li><li>Bus-Idâ€ƒâ€ƒâ€ƒâ€ƒâ€ƒâ€ƒâ€ƒâ€ƒ#GPUæ€»çº¿ç›¸å…³æ˜¾ç¤ºï¼Œdomainï¼šbusï¼šdevice.function</li><li>Disp.Aâ€ƒâ€ƒâ€ƒâ€ƒâ€ƒâ€ƒâ€ƒâ€ƒ#Display Active ï¼Œè¡¨ç¤ºGPUçš„æ˜¾ç¤ºæ˜¯å¦åˆå§‹åŒ–</li><li>Memory-Usageâ€ƒâ€ƒâ€ƒâ€ƒ#å†…å­˜ä½¿ç”¨ç‡</li><li>Volatile GPU-Utilâ€ƒâ€ƒâ€ƒâ€ƒ#GPUä½¿ç”¨ç‡</li><li>Uncorr. ECCâ€ƒâ€ƒâ€ƒâ€ƒâ€ƒâ€ƒ#å…³äºECCçš„ä¸œè¥¿ï¼Œæ˜¯å¦å¼€å¯é”™è¯¯æ£€æŸ¥å’Œçº æ­£æŠ€æœ¯ï¼Œ0/disabled,1/enabled</li><li>Compute Mâ€ƒâ€ƒâ€ƒâ€ƒâ€ƒâ€ƒ#è®¡ç®—æ¨¡å¼ï¼Œ0/DEFAULT,1/EXCLUSIVE_PROCESS,2/PROHIBITED</li></ul></blockquote><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token operator">|</span> Processes:                                                       GPU Memory <span class="token operator">|</span>
<span class="token operator">|</span>  GPU       PID   Type   Process name                             Usage      <span class="token operator">|</span>
<span class="token operator">|</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">=</span><span class="token operator">|</span>
<span class="token operator">|</span>    <span class="token number">0</span>       <span class="token number">762</span>      C   <span class="token function">java</span>                                        1995MiB <span class="token operator">|</span>
<span class="token operator">|</span>    <span class="token number">1</span>       <span class="token number">354</span>      C   python3                                     2101MiB <span class="token operator">|</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><blockquote><p><code>|=============================================================================|</code><br> ä¸ºåˆ†éš”ç¬¦ï¼šåˆ†éš”ç¬¦ä¸Šé¢å¯¹åº”ä¸‹é¢çš„æ‰€æœ‰<br> Â </p><ul><li>Processesâ€ƒâ€ƒâ€ƒâ€ƒâ€ƒâ€ƒâ€ƒ#æ˜¾ç¤ºæ¯ä¸ªè¿›ç¨‹å ç”¨çš„æ˜¾å­˜ä½¿ç”¨ç‡ã€è¿›ç¨‹å·ã€å ç”¨çš„å“ªä¸ªGPUã€‚<br> Â </li><li>GPUâ€ƒâ€ƒâ€ƒâ€ƒâ€ƒâ€ƒâ€ƒâ€ƒâ€ƒâ€ƒ#å½“å‰è¿›ç¨‹å ç”¨çš„é‚£å—æ˜¾å¡ã€‚</li><li>PIDâ€ƒâ€ƒâ€ƒâ€ƒâ€ƒâ€ƒâ€ƒâ€ƒâ€ƒâ€ƒ#å½“å‰è¿›ç¨‹çš„PIDï¼Œå¯ä½¿ç”¨ps -ef | grep PID æŸ¥çœ‹è¯¦ç»†å‘½ä»¤ã€‚</li><li>Typeâ€ƒâ€ƒâ€ƒâ€ƒâ€ƒâ€ƒâ€ƒâ€ƒâ€ƒâ€ƒ#å½“å‰è¿›ç¨‹çš„è¿è¡ŒçŠ¶æ€ã€‚</li><li>Process nameâ€ƒâ€ƒâ€ƒâ€ƒâ€ƒ#å½“å‰è¿›ç¨‹çš„è¿è¡Œä¸»å‘½ä»¤ã€‚</li><li>GPU Memory Usageâ€ƒâ€ƒâ€ƒ#è¯¥è¿›ç¨‹å ç”¨çš„æ˜¾å­˜ã€‚</li></ul></blockquote><h3 id="nvidia-smi-helpå‘½ä»¤è¯¦è§£" tabindex="-1"><a class="header-anchor" href="#nvidia-smi-helpå‘½ä»¤è¯¦è§£" aria-hidden="true">#</a> nvidia-smi --helpå‘½ä»¤è¯¦è§£</h3><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code>åˆ—è¡¨é€‰é¡¹ï¼š
<span class="token parameter variable">-L</span>			<span class="token comment">#åˆ—å‡ºæ‰€æœ‰å¯ç”¨çš„ NVIDIA è®¾å¤‡</span>
<span class="token parameter variable">-B</span>			<span class="token comment">#åˆ—å‡ºæ‰€æœ‰è¢«æ‹‰å…¥é»‘åå•çš„NVIDIAè®¾å¤‡</span>

æŸ¥è¯¢é€‰é¡¹ï¼š
<span class="token parameter variable">-q</span>			<span class="token comment">#æŸ¥è¯¢æ˜¾ç¤ºGPUnvidiaçš„ç›¸å…³ä¿¡æ¯</span>

é…åˆé€‰é¡¹ï¼š
-uã€ <span class="token parameter variable">--unit</span> <span class="token comment">#æ˜¾ç¤ºå•ä½å±æ€§ï¼Œè€Œä¸æ˜¯GPUå±æ€§ã€‚</span>
-iã€ <span class="token parameter variable">--id</span>	<span class="token comment">#ä»¥ç‰¹å®šGPUæˆ–å•å…ƒä¸ºç›®æ ‡ã€‚å¯æŒ‡å®šæ˜¾å¡ç¼–å·</span>
<span class="token parameter variable">--format</span>	<span class="token comment">#æŒ‡å®šè¾“å‡ºçš„æ ¼å¼csv</span>
<span class="token parameter variable">--filename</span>	<span class="token comment">#è¾“å…¥csvæ–‡ä»¶ï¼Œ--filename=åè·Ÿè‡ªå®šä¹‰csvæ–‡ä»¶åï¼›</span>
--query-gpu	<span class="token comment">#æŒ‡å®šè¾“å‡ºçš„å­—æ®µï¼Œåå¯è·Ÿtimestampæ—¶é—´ã€nameï¼Œ</span>

-xã€ <span class="token parameter variable">--xml</span>	<span class="token comment">#æ ¼å¼ç”Ÿæˆxmlè¾“å‡ºã€‚</span>

<span class="token parameter variable">-l</span>			<span class="token comment">#æŒç»­åˆ·æ–°æ˜¾å­˜çŠ¶æ€</span>
<span class="token parameter variable">-lms</span>		<span class="token comment">#å¾ªç¯åŠ¨æ€æ˜¾ç¤º;æ¯æ¯«ç§’</span>

<span class="token parameter variable">--dtd</span>		<span class="token comment">#æ˜¾ç¤ºxmlè¾“å‡ºæ—¶ï¼ŒåµŒå…¥dtdã€‚</span>

-dã€ <span class="token parameter variable">--display</span>	<span class="token comment">#ä»…æ˜¾ç¤ºé€‰å®šä¿¡æ¯ï¼šMEMORYï¼Œ</span>

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="åˆ—å‡ºæ‰€æœ‰å¯ç”¨çš„-nvidia-è®¾å¤‡" tabindex="-1"><a class="header-anchor" href="#åˆ—å‡ºæ‰€æœ‰å¯ç”¨çš„-nvidia-è®¾å¤‡" aria-hidden="true">#</a> åˆ—å‡ºæ‰€æœ‰å¯ç”¨çš„ NVIDIA è®¾å¤‡</h4><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code>nvidia-smi <span class="token parameter variable">-L</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><figure><img src="https://lcy-blog.oss-cn-beijing.aliyuncs.com/blog/202412201007621.png" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><blockquote><p>ä½œç”¨ï¼šå¯ç”¨ä½œç»Ÿè®¡æœåŠ¡å™¨ä¸­çš„æ˜¾å¡æ•°é‡ã€‚</p></blockquote><h4 id="åˆ—å‡ºæ‰€æœ‰è¢«æ‹‰å…¥é»‘åå•çš„nvidiaè®¾å¤‡" tabindex="-1"><a class="header-anchor" href="#åˆ—å‡ºæ‰€æœ‰è¢«æ‹‰å…¥é»‘åå•çš„nvidiaè®¾å¤‡" aria-hidden="true">#</a> åˆ—å‡ºæ‰€æœ‰è¢«æ‹‰å…¥é»‘åå•çš„NVIDIAè®¾å¤‡</h4><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code>nvidia-smi <span class="token parameter variable">-B</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><figure><img src="https://lcy-blog.oss-cn-beijing.aliyuncs.com/blog/202412201007457.png" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><blockquote><p><code>No blacklisted devices found.</code> æœªæ‰¾åˆ°åˆ—å…¥é»‘åå•çš„è®¾å¤‡ã€‚</p></blockquote><h4 id="æŸ¥è¯¢nvidiagpuçš„ç›¸å…³ä¿¡æ¯" tabindex="-1"><a class="header-anchor" href="#æŸ¥è¯¢nvidiagpuçš„ç›¸å…³ä¿¡æ¯" aria-hidden="true">#</a> æŸ¥è¯¢nvidiaGPUçš„ç›¸å…³ä¿¡æ¯</h4><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code>nvidia-smi <span class="token parameter variable">-q</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><figure><img src="https://lcy-blog.oss-cn-beijing.aliyuncs.com/blog/202412201007437.png" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><h4 id="æŒç»­åˆ·æ–°æ˜¾å­˜çŠ¶æ€" tabindex="-1"><a class="header-anchor" href="#æŒç»­åˆ·æ–°æ˜¾å­˜çŠ¶æ€" aria-hidden="true">#</a> æŒç»­åˆ·æ–°æ˜¾å­˜çŠ¶æ€</h4><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token comment">#æ¯ä¸¤ç§’åˆ·æ–°ä¸€æ¬¡æ˜¾å­˜çŠ¶æ€</span>
nvidia-smi <span class="token parameter variable">-l</span> <span class="token number">2</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><blockquote><p>ä¹Ÿå¯ç”¨<code>watch -n 1 nvidia-smi #1ç§’åˆ·æ–°ä¸€æ¬¡æ˜¾å­˜çŠ¶æ€</code></p></blockquote><h3 id="æŸ¥è¯¢æ‰€æœ‰çš„csvæ–‡ä»¶-query-gpuå¯ä½¿ç”¨çš„å­—æ®µåŠå­—æ®µè¯´æ˜ã€å®ä¾‹" tabindex="-1"><a class="header-anchor" href="#æŸ¥è¯¢æ‰€æœ‰çš„csvæ–‡ä»¶-query-gpuå¯ä½¿ç”¨çš„å­—æ®µåŠå­—æ®µè¯´æ˜ã€å®ä¾‹" aria-hidden="true">#</a> æŸ¥è¯¢æ‰€æœ‰çš„csvæ–‡ä»¶<code>--query-gpu</code>å¯ä½¿ç”¨çš„å­—æ®µåŠå­—æ®µè¯´æ˜ã€å®ä¾‹</h3><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token comment">#æŸ¥è¯¢å¯ä½¿ç”¨çš„æ‰€æœ‰å­—æ®µ</span>
nvidia-smi --help-query-gpu


timestamp			<span class="token comment">#æŸ¥è¯¢ä½ç½®çš„æ—¶é—´æˆ³ï¼Œæ ¼å¼ä¸ºâ€œYYYY/MM/DD HH:MM:SS.msecâ€	ï¼›	nvidia-smi --format=csv,noheader --query-gpu=timestamp</span>
memory.total		<span class="token comment">#æŸ¥è¯¢å·²å®‰è£…çš„GPUæ˜¾å­˜æ€»æ•°ã€‚								nvidia-smi --format=csv,noheader --query-gpu=memory.total</span>
memory.used			<span class="token comment">#æŸ¥è¯¢å·²å®‰è£…çš„GPUæ˜¾å­˜ä½¿ç”¨ç‡ã€‚							nvidia-smi --format=csv,noheader --query-gpu=memory.used</span>
memory.free			<span class="token comment">#æŸ¥è¯¢å·²å®‰è£…çš„GPUå‰©ä½™æ˜¾å­˜ã€‚								nvidia-smi --format=csv,noheader --query-gpu=memory.free</span>
driver_version		<span class="token comment">#æŸ¥è¯¢å·²å®‰è£…çš„NVIDIAæ˜¾ç¤ºå™¨é©±åŠ¨ç¨‹åºçš„ç‰ˆæœ¬ï¼›					nvidia-smi --format=csv,noheader --query-gpu=driver_version</span>
index				<span class="token comment">#è¾“å‡ºæ˜¾å¡çš„ç¼–å·ï¼š										nvidia-smi --format=csv,noheader --query-gpu=index</span>
pstate				<span class="token comment">#GPUçš„å½“å‰æ€§èƒ½çŠ¶æ€ã€‚çŠ¶æ€èŒƒå›´ä»P0(æœ€å¤§æ€§èƒ½)åˆ°P12(æœ€å°æ€§èƒ½)	nvidia-smi --format=csv,noheader --query-gpu=pstate</span>
power.draw			<span class="token comment">#æ˜¾å­˜åŠŸè€—ï¼Œå¯¹åº”Pwrï¼šUsageä½¿ç”¨ï¼š							nvidia-smi --format=csv,noheader --query-gpu=power.draw</span>
temperature.gpu		<span class="token comment">#è¾“å‡ºGPUæ¸©åº¦ï¼Œæ ¸å¿ƒGPUæ¸©åº¦ã€‚							nvidia-smi --format=csv,noheader --query-gpu=index,temperature.gpu | sed -e &quot;s#, #å¡æ¸©åº¦ä¸ºï¼š#g&quot; -e &#39;s#$#Â°C#g&#39;</span>
fan.speed			<span class="token comment">#è¾“å‡ºGPUé£æ‰‡è½¬é€Ÿã€‚									nvidia-smi --format=csv,noheader --query-gpu=index,fan.speed | sed &quot;s#, #å¡é£æ‰‡è½¬é€Ÿä¸ºï¼š#g&quot;</span>
utilization.gpu		<span class="token comment">#è¾“å‡ºGPUçš„ä½¿ç”¨ç‡ï¼š									nvidia-smi --format=csv,noheader --query-gpu=utilization.gpu</span>
utilization.memoryâ€ƒâ€ƒ<span class="token comment">#è¾“å‡ºæ˜¾å­˜çš„ä½¿ç”¨ç‡ï¼š									nvidia-smi --format=csv,noheader --query-gpu=utilization.memory</span>
count				<span class="token comment">#æŸ¥è¯¢ä½ç½®çš„æ—¶é—´æˆ³ï¼Œæ ¼å¼ä¸ºâ€œYYYY/MM/DD HH:MM:SS.msecâ€ï¼›	nvidia-smi --format=csv,noheader --query-gpu=count</span>
<span class="token string">&quot;name&quot;</span> or <span class="token string">&quot;gpu_name&quot;</span>		<span class="token comment">#æŸ¥è¯¢æ˜¾å¡å‹å·ï¼Œé€‚ç”¨äºæ‰€æœ‰äº§å“ï¼›												nvidia-smi --format=csv,noheader --query-gpu=name,gpu_name</span>
<span class="token string">&quot;serial&quot;</span> or <span class="token string">&quot;gpu_serial&quot;</span>	<span class="token comment">#è¯¥ç¼–å·ä¸æ¯ä¸ªæ¿ä¸Šå®é™…æ‰“å°çš„åºåˆ—å·ç›¸åŒ¹é…ã€‚å®ƒæ˜¯å…¨å±€å”¯ä¸€çš„ä¸å¯å˜å­—æ¯æ•°å­—å€¼ã€‚			nvidia-smi --format=csv,noheader --query-gpu=serial,gpu_serial</span>
<span class="token string">&quot;uuid&quot;</span> or <span class="token string">&quot;gpu_uuid&quot;</span>		<span class="token comment">#æ­¤å€¼æ˜¯GPUçš„å…¨å±€å”¯ä¸€ä¸å¯å˜å­—æ¯æ•°å­—æ ‡è¯†ç¬¦ã€‚å®ƒä¸ç”µè·¯æ¿ä¸Šçš„ä»»ä½•ç‰©ç†æ ‡ç­¾éƒ½ä¸å¯¹åº”ã€‚		nvidia-smi --format=csv,noheader --query-gpu=uuid,gpu_uuid</span>
<span class="token string">&quot;pci.bus_id&quot;</span>or<span class="token string">&quot;gpu_bus_id&quot;</span>	<span class="token comment">#PCIæ€»çº¿idä¸ºâ€œåŸŸï¼šæ€»çº¿ï¼šè®¾å¤‡.åŠŸèƒ½â€ï¼Œåå…­è¿›åˆ¶ã€‚									nvidia-smi --format=csv,noheader --query-gpu=pci.bus_id,gpu_bus_id</span>
pci.domain			<span class="token comment">#PCIåŸŸåï¼Œåå…­è¿›åˆ¶ã€‚									nvidia-smi --format=csv,noheader --query-gpu=pci.domain</span>
pci.bus				<span class="token comment">#PCIæ€»çº¿ç¼–å·ï¼Œåå…­è¿›åˆ¶ã€‚								nvidia-smi --format=csv,noheader --query-gpu=pci.bus</span>
pci.device			<span class="token comment">#PCIè®¾å¤‡ç¼–å·ï¼Œåå…­è¿›åˆ¶ã€‚								nvidia-smi --format=csv,noheader --query-gpu=pci.device</span>
pci.device_id		<span class="token comment">#PCIä¾›åº”å•†è®¾å¤‡idï¼Œåå…­è¿›åˆ¶								nvidia-smi --format=csv,noheader --query-gpu=pci.device_id</span>
pci.sub_device_id	<span class="token comment">#PCIå­ç³»ç»Ÿidï¼Œåå…­è¿›åˆ¶									nvidia-smi --format=csv,noheader --query-gpu=pci.sub_device_id</span>
vbios_version		<span class="token comment">#GPUæ¿çš„BIOSã€‚										nvidia-smi --format=csv,noheader --query-gpu=vbios_version</span>
inforom.oem			<span class="token comment">#OEMé…ç½®æ•°æ®çš„ç‰ˆæœ¬ã€‚									nvidia-smi --format=csv,noheader --query-gpu=inforom.oem</span>
inforom.ecc			<span class="token comment">#ECCè®°å½•æ•°æ®çš„ç‰ˆæœ¬ã€‚									nvidia-smi --format=csv,noheader --query-gpu=inforom.ecc</span>
driver_model.current		<span class="token comment">#å½“å‰ä½¿ç”¨çš„é©±åŠ¨ç¨‹åºæ¨¡å‹ã€‚åœ¨Linuxä¸Šå§‹ç»ˆä¸ºâ€œN/Aâ€		nvidia-smi --format=csv,noheader --query-gpu=driver_model.current</span>
accounting.buffer_size		<span class="token comment">#å¾ªç¯ç¼“å†²åŒºçš„å¤§å°ï¼Œè¯¥ç¼“å†²åŒºåŒ…å«å¯æŸ¥è¯¢ä¼šè®¡ç»Ÿè®¡ä¿¡æ¯çš„è¿›ç¨‹åˆ—è¡¨ã€‚è¿™æ˜¯åœ¨æœ‰å…³æœ€æ—§è¿›ç¨‹çš„ä¿¡æ¯è¢«æœ‰å…³æ–°è¿›ç¨‹çš„ä¿¡æ¯è¦†ç›–ä¹‹å‰ï¼Œå°†ä¸ºå…¶å­˜å‚¨è®°å¸ä¿¡æ¯çš„æœ€å¤§è¿›ç¨‹æ•°		nvidia-smi --format=csv --query-gpu=accounting.buffer_size</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="æŒç»­ç›‘æ§nvidia-smiç»“æœå†™å…¥è‡ªå®šä¹‰csvæ–‡ä»¶-å¹¶æŒ‡å®šå†™å…¥æ–‡ä»¶çš„ç›‘æ§å­—æ®µ" tabindex="-1"><a class="header-anchor" href="#æŒç»­ç›‘æ§nvidia-smiç»“æœå†™å…¥è‡ªå®šä¹‰csvæ–‡ä»¶-å¹¶æŒ‡å®šå†™å…¥æ–‡ä»¶çš„ç›‘æ§å­—æ®µ" aria-hidden="true">#</a> æŒç»­ç›‘æ§nvidia-smiç»“æœå†™å…¥è‡ªå®šä¹‰csvæ–‡ä»¶ï¼Œå¹¶æŒ‡å®šå†™å…¥æ–‡ä»¶çš„ç›‘æ§å­—æ®µ</h4><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code>nvidia-smi <span class="token parameter variable">-l</span> <span class="token number">1</span> <span class="token parameter variable">--format</span><span class="token operator">=</span>csv <span class="token parameter variable">--filename</span><span class="token operator">=</span>report.csv --query-gpu<span class="token operator">=</span>timestamp,name,index,utilization.gpu,memory.total,memory.used,memory.free,power.draw
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><blockquote><p><code>-l</code>â€ƒâ€ƒâ€ƒâ€ƒâ€ƒâ€ƒ#éš”å¤šä¹…è®°å½•ä¸€æ¬¡ï¼Œæˆ‘ä»¬å†™çš„æ˜¯æ¯ç§’è®°å½•ä¸€æ¬¡ã€‚<br><code>--format</code>â€ƒâ€ƒâ€ƒ#ç»“æœè®°å½•æ–‡ä»¶æ ¼å¼æ˜¯csvç±»å‹ã€‚ï¼ˆcsvï¼‰<br><code>--filename</code>â€ƒâ€ƒ#ç»“æœè®°å½•æ–‡ä»¶çš„åå­—ã€‚ï¼ˆreport.csvï¼‰<br><code>--query-gpu</code>â€ƒâ€ƒ#éƒ½è®°å½•å“ªäº›æ•°æ®åˆ°csvæ–‡ä»¶ä¸­ï¼›<br> â€ƒâ€ƒ<code>timestamp</code>â€ƒâ€ƒâ€ƒâ€ƒâ€ƒ#è¾“å‡ºæ¯å—æ˜¾å¡çš„æ—¶é—´æˆ³ï¼š<code>nvidia-smi --format=csv --query-gpu=timestamp</code><br> â€ƒâ€ƒ<code>name</code>â€ƒâ€ƒâ€ƒâ€ƒâ€ƒâ€ƒâ€ƒâ€ƒ#è¾“å‡ºæ˜¾å¡çš„å‹å·ï¼ˆåç§°ï¼‰ï¼š<code>nvidia-smi --format=csv --query-gpu=name</code><br> â€ƒâ€ƒ<code>index</code>â€ƒâ€ƒâ€ƒâ€ƒâ€ƒâ€ƒâ€ƒ#è¾“å‡ºæ˜¾å¡çš„ç¼–å·ï¼š<code>nvidia-smi --format=csv --query-gpu=index</code><br> â€ƒâ€ƒ<code>utilization.gpu</code>â€ƒâ€ƒ#è¾“å‡ºGPUçš„ä½¿ç”¨ç‡ï¼š<code>nvidia-smi --format=csv --query-gpu=utilization.gpu</code><br> â€ƒâ€ƒ<code>memory.total</code>â€ƒâ€ƒâ€ƒâ€ƒ#æ˜¾å­˜å¤§å°ï¼Œè¾“å‡ºæ€»æ˜¾å­˜å€¼ï¼š<code>nvidia-smi --format=csv --query-gpu=memory.total</code><br> â€ƒâ€ƒ<code>memory.used</code>â€ƒâ€ƒâ€ƒâ€ƒâ€ƒ#æ˜¾å­˜å¤§å°ï¼Œè¾“å‡ºä½¿ç”¨äº†å¤šå°‘æ˜¾å­˜ï¼š<code>nvidia-smi --format=csv --query-gpu=memory.used</code><br> â€ƒâ€ƒ<code>memory.free</code>â€ƒâ€ƒâ€ƒâ€ƒâ€ƒ#æ˜¾å­˜å¤§å°ï¼Œè¾“å‡ºå‰©ä½™å¤šå°‘æ˜¾å­˜ï¼š<code>nvidia-smi --format=csv --query-gpu=memory.free</code>ï¼›ä¸å¤ªå‡†ï¼Œå»ºè®®ä½¿ç”¨ï¼šæ€»æ˜¾å­˜-ä½¿ç”¨æ˜¾å­˜æ¥è®¡ç®—ï¼›<br> â€ƒâ€ƒ<code>power.draw</code>â€ƒâ€ƒâ€ƒâ€ƒâ€ƒ#æ˜¾å­˜åŠŸè€—ï¼Œå¯¹åº”Pwrï¼šUsageä½¿ç”¨ï¼š<code>nvidia-smi --format=csv --query-gpu=power.draw</code></p></blockquote><h4 id="æŒç»­ç›‘æ§nvidia-smiç»“æœä¸ºcsvç±»å‹å¹¶åŒé‡é‡å®šå‘åˆ°csvæ–‡ä»¶ä¸­-å¹¶æŒ‡å®šå†™å…¥æ–‡ä»¶çš„ç›‘æ§å­—æ®µ" tabindex="-1"><a class="header-anchor" href="#æŒç»­ç›‘æ§nvidia-smiç»“æœä¸ºcsvç±»å‹å¹¶åŒé‡é‡å®šå‘åˆ°csvæ–‡ä»¶ä¸­-å¹¶æŒ‡å®šå†™å…¥æ–‡ä»¶çš„ç›‘æ§å­—æ®µ" aria-hidden="true">#</a> æŒç»­ç›‘æ§nvidia-smiç»“æœä¸ºcsvç±»å‹å¹¶åŒé‡é‡å®šå‘åˆ°csvæ–‡ä»¶ä¸­ï¼Œå¹¶æŒ‡å®šå†™å…¥æ–‡ä»¶çš„ç›‘æ§å­—æ®µ</h4><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code> nvidia-smi <span class="token parameter variable">-lms</span> --query-gpu<span class="token operator">=</span>timestamp,pstate,temperature.gpu,utilization.gpu,utilization.memory,memory.total,memory.free,memory.used <span class="token parameter variable">--format</span><span class="token operator">=</span>csv <span class="token operator">|</span> <span class="token function">tee</span> gpu-log.csv
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><blockquote><p><code>-lms</code>â€ƒâ€ƒâ€ƒâ€ƒâ€ƒ#å¾ªç¯åŠ¨æ€æ˜¾ç¤º;æ¯æ¯«ç§’<br><code>--query-gpu</code>â€ƒâ€ƒ#éƒ½è®°å½•å“ªäº›æ•°æ®åˆ°csvæ–‡ä»¶ä¸­ï¼›<br> â€ƒâ€ƒ<code>timestamp</code>â€ƒâ€ƒâ€ƒâ€ƒâ€ƒ#è¾“å‡ºæ¯å—æ˜¾å¡çš„æ—¶é—´æˆ³ï¼š<code>nvidia-smi --format=csv --query-gpu=timestamp</code><br> â€ƒâ€ƒ<code>pstate</code>â€ƒâ€ƒâ€ƒâ€ƒâ€ƒ#è¾“å‡ºGPUçš„æ€§èƒ½çŠ¶æ€ï¼š<code>nvidia-smi --format=csv --query-gpu=pstate</code><br> â€ƒâ€ƒ<code>temperature.gpu</code>â€ƒâ€ƒâ€ƒâ€ƒâ€ƒ#è¾“å‡ºGPUçš„æ˜¾å¡æ¸©åº¦ï¼š<code>nvidia-smi --format=csv --query-gpu=temperature.gpu</code><br> â€ƒâ€ƒ<code>utilization.gpu</code>â€ƒâ€ƒ#è¾“å‡ºGPUçš„ä½¿ç”¨ç‡ï¼š<code>nvidia-smi --format=csv --query-gpu=utilization.gpu</code><br> â€ƒâ€ƒ<code>utilization.memory</code>â€ƒâ€ƒ#è¾“å‡ºæ˜¾å­˜çš„ä½¿ç”¨ç‡ï¼š<code>nvidia-smi --format=csv --query-gpu=utilization.memory</code><br> â€ƒâ€ƒ<code>memory.total</code>â€ƒâ€ƒâ€ƒâ€ƒ#æ˜¾å­˜å¤§å°ï¼Œè¾“å‡ºæ€»æ˜¾å­˜å€¼ï¼š<code>nvidia-smi --format=csv --query-gpu=memory.total</code><br> â€ƒâ€ƒ<code>memory.used</code>â€ƒâ€ƒâ€ƒâ€ƒâ€ƒ#æ˜¾å­˜å¤§å°ï¼Œè¾“å‡ºä½¿ç”¨äº†å¤šå°‘æ˜¾å­˜ï¼š<code>nvidia-smi --format=csv --query-gpu=memory.used</code><br> â€ƒâ€ƒ<code>memory.free</code>â€ƒâ€ƒâ€ƒâ€ƒâ€ƒ#æ˜¾å­˜å¤§å°ï¼Œè¾“å‡ºå‰©ä½™å¤šå°‘æ˜¾å­˜ï¼š<code>nvidia-smi --format=csv --query-gpu=memory.free</code>ï¼›ä¸å¤ªå‡†ï¼Œå»ºè®®ä½¿ç”¨ï¼šæ€»æ˜¾å­˜-ä½¿ç”¨æ˜¾å­˜æ¥è®¡ç®—ï¼›<br><code>--format</code>â€ƒâ€ƒâ€ƒ#ç»“æœè®°å½•æ–‡ä»¶æ ¼å¼æ˜¯csvç±»å‹ã€‚ï¼ˆcsvï¼‰<br><code>tee</code>â€ƒâ€ƒâ€ƒâ€ƒâ€ƒâ€ƒ#åŒé‡é‡å®šå‘åˆ°gpu-log.csvæ–‡ä»¶ä¸­ã€‚</p></blockquote><h4 id="æŒ‡å®š0æ˜¾å¡è¾“å‡ºcsvç±»å‹çš„æ˜¾å­˜æ€»ç©ºé—´åŠä½¿ç”¨ç©ºé—´å’Œå‰©ä½™ç©ºé—´" tabindex="-1"><a class="header-anchor" href="#æŒ‡å®š0æ˜¾å¡è¾“å‡ºcsvç±»å‹çš„æ˜¾å­˜æ€»ç©ºé—´åŠä½¿ç”¨ç©ºé—´å’Œå‰©ä½™ç©ºé—´" aria-hidden="true">#</a> æŒ‡å®š0æ˜¾å¡è¾“å‡ºcsvç±»å‹çš„æ˜¾å­˜æ€»ç©ºé—´åŠä½¿ç”¨ç©ºé—´å’Œå‰©ä½™ç©ºé—´</h4><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code>nvidia-smi <span class="token parameter variable">-i</span> <span class="token number">0</span> <span class="token parameter variable">--format</span><span class="token operator">=</span>csv  --query-gpu<span class="token operator">=</span>memory.total,memory.used,memory.free
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><blockquote><p><code>-i</code>â€ƒâ€ƒâ€ƒâ€ƒâ€ƒâ€ƒâ€ƒ#æŒ‡å®šæ˜¾å¡ç¼–å·ï¼›ä¸ä½¿ç”¨<code>-i</code>ï¼Œé»˜è®¤æ˜¯æ˜¾ç¤ºæ‰€æœ‰çš„æ˜¾å¡å‹å·çš„æ•°æ®ï¼›<code>nvidia-smi --format=csv --query-gpu=memory.total,memory.used,memory.free</code><br><code>--format</code>â€ƒâ€ƒâ€ƒâ€ƒ#ç»“æœè®°å½•æ–‡ä»¶æ ¼å¼æ˜¯csvç±»å‹ã€‚ï¼ˆcsvï¼‰<br><code>--query-gpu</code>â€ƒâ€ƒ#éƒ½è®°å½•å“ªäº›æ•°æ®åˆ°csvæ–‡ä»¶ä¸­ï¼›<br> â€ƒâ€ƒ<code>memory.total</code>â€ƒâ€ƒâ€ƒâ€ƒ#æ˜¾å­˜å¤§å°ï¼Œè¾“å‡ºæ€»æ˜¾å­˜å€¼ï¼š<code>nvidia-smi --format=csv --query-gpu=memory.total</code><br> â€ƒâ€ƒ<code>memory.used</code>â€ƒâ€ƒâ€ƒâ€ƒâ€ƒ#æ˜¾å­˜å¤§å°ï¼Œè¾“å‡ºä½¿ç”¨äº†å¤šå°‘æ˜¾å­˜ï¼š<code>nvidia-smi --format=csv --query-gpu=memory.used</code><br> â€ƒâ€ƒ<code>memory.free</code>â€ƒâ€ƒâ€ƒâ€ƒâ€ƒ#æ˜¾å­˜å¤§å°ï¼Œè¾“å‡ºå‰©ä½™å¤šå°‘æ˜¾å­˜ï¼š<code>nvidia-smi --format=csv --query-gpu=memory.free</code>ï¼›ä¸å¤ªå‡†ï¼Œå»ºè®®ä½¿ç”¨ï¼šæ€»æ˜¾å­˜-ä½¿ç”¨æ˜¾å­˜æ¥è®¡ç®—ï¼›</p></blockquote><h4 id="æŸ¥è¯¢æ‰€æœ‰çš„csvæ–‡ä»¶-formatå¯ä½¿ç”¨çš„å­—æ®µåŠå­—æ®µè¯´æ˜ã€å®ä¾‹" tabindex="-1"><a class="header-anchor" href="#æŸ¥è¯¢æ‰€æœ‰çš„csvæ–‡ä»¶-formatå¯ä½¿ç”¨çš„å­—æ®µåŠå­—æ®µè¯´æ˜ã€å®ä¾‹" aria-hidden="true">#</a> æŸ¥è¯¢æ‰€æœ‰çš„csvæ–‡ä»¶<code>--format</code>å¯ä½¿ç”¨çš„å­—æ®µåŠå­—æ®µè¯´æ˜ã€å®ä¾‹</h4><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code>csv			æ–‡ä»¶æ ¼å¼			vidia-smi <span class="token parameter variable">--format</span><span class="token operator">=</span>csv --query-gpu<span class="token operator">=</span>memory.total
noheader	å»é™¤æ–‡ä»¶å¤´éƒ¨æ ‡é¢˜	vidia-smi <span class="token parameter variable">--format</span><span class="token operator">=</span>csv,noheader --query-gpu<span class="token operator">=</span>memory.total
nounits		å»é™¤å•ä½ï¼Œæ¯”å¦‚MiB	nvidia-smi <span class="token parameter variable">--format</span><span class="token operator">=</span>csv,noheader,nounits --query-gpu<span class="token operator">=</span>memory.total
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="æŸ¥è¯¢æ€»æ˜¾å­˜ä¸å¸¦å¤´éƒ¨æ ‡é¢˜" tabindex="-1"><a class="header-anchor" href="#æŸ¥è¯¢æ€»æ˜¾å­˜ä¸å¸¦å¤´éƒ¨æ ‡é¢˜" aria-hidden="true">#</a> æŸ¥è¯¢æ€»æ˜¾å­˜ä¸å¸¦å¤´éƒ¨æ ‡é¢˜</h4><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code>nvidia-smi <span class="token parameter variable">--format</span><span class="token operator">=</span>csv,noheader --query-gpu<span class="token operator">=</span>memory.total
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><figure><img src="https://lcy-blog.oss-cn-beijing.aliyuncs.com/blog/202412201007130.png" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><h4 id="æŸ¥è¯¢æ€»æ˜¾å­˜ä¸å¸¦å¤´éƒ¨æ ‡é¢˜å¹¶ä¸”ä¸å¸¦å•ä½" tabindex="-1"><a class="header-anchor" href="#æŸ¥è¯¢æ€»æ˜¾å­˜ä¸å¸¦å¤´éƒ¨æ ‡é¢˜å¹¶ä¸”ä¸å¸¦å•ä½" aria-hidden="true">#</a> æŸ¥è¯¢æ€»æ˜¾å­˜ä¸å¸¦å¤´éƒ¨æ ‡é¢˜å¹¶ä¸”ä¸å¸¦å•ä½</h4><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code>nvidia-smi <span class="token parameter variable">--format</span><span class="token operator">=</span>csv,noheader,nounits --query-gpu<span class="token operator">=</span>memory.total
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><figure><img src="https://lcy-blog.oss-cn-beijing.aliyuncs.com/blog/202412201007634.png" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><h2 id="é™„åŠ -è®¡ç®—æŸæ˜¾å¡çš„å‰©ä½™æ˜¾å­˜è„šæœ¬" tabindex="-1"><a class="header-anchor" href="#é™„åŠ -è®¡ç®—æŸæ˜¾å¡çš„å‰©ä½™æ˜¾å­˜è„šæœ¬" aria-hidden="true">#</a> é™„åŠ ï¼šè®¡ç®—æŸæ˜¾å¡çš„å‰©ä½™æ˜¾å­˜è„šæœ¬</h2>`,53),P={href:"https://download.csdn.net/download/liu_chen_yang/87364591?spm=1001.2014.3001.5503",target:"_blank",rel:"noopener noreferrer"},U=a("br",null,null,-1),x=a("br",null,null,-1);function I(G,C){const n=t("ExternalLinkIcon");return r(),p("div",null,[l,a("blockquote",null,[d,a("p",null,[s("â€ƒâ€ƒğŸ…"),a("a",m,[s("äº‘è®¡ç®—é¢†åŸŸä¼˜è´¨åˆ›ä½œè€…"),e(n)]),u,s(" â€ƒâ€ƒğŸ…"),a("a",v,[s("åä¸ºäº‘å¼€å‘è€…ç¤¾åŒºä¸“å®¶åšä¸»"),e(n)]),k,s(" â€ƒâ€ƒğŸ…"),a("a",b,[s("é˜¿é‡Œäº‘å¼€å‘è€…ç¤¾åŒºä¸“å®¶åšä¸»"),e(n)]),g,s(" ğŸ’Š"),h,a("a",f,[s("è¿ç»´äº¤æµç¤¾åŒº"),e(n)]),s(" æ¬¢è¿å¤§å®¶çš„åŠ å…¥ï¼"),y,s(" ğŸ‹ å¸Œæœ›å¤§å®¶å¤šå¤šæ”¯æŒï¼Œæˆ‘ä»¬ä¸€èµ·è¿›æ­¥ï¼ğŸ˜„"),q,s(" ğŸ‰å¦‚æœæ–‡ç« å¯¹ä½ æœ‰å¸®åŠ©çš„è¯ï¼Œæ¬¢è¿ ç‚¹èµ ğŸ‘ğŸ» è¯„è®º ğŸ’¬ æ”¶è— â­ï¸ åŠ å…³æ³¨+ğŸ’—")])]),_,a("blockquote",null,[a("p",null,[s("ä¸‹è½½åœ°å€ï¼š"),a("a",P,[s("è®¡ç®—æ˜¾å¡çš„å‰©ä½™æ˜¾å­˜è„šæœ¬ï¼šnvidia.sh"),e(n)]),U,s(" ä¸‹è½½æ—¶è®°å¾—çœ‹ä¸‹é¢çš„è¯´æ˜å’Œç”¨æ³•å“ˆï¼›"),x,s(" æ³¨â–²ï¼šæ²¡æœ‰ç§¯åˆ†å¯è´­ä¹°æ—¶ï¼Œå¯ç§ä¿¡æˆ‘å‘ä½ ï¼›ä½†æ˜¯è¿˜æ˜¯éœ€è¦è¿›å»çœ‹ä¸€ä¸‹è¯´æ˜å’Œç”¨æ³•ï¼Œä¿è¯èƒ½å¤Ÿé¡ºåˆ©ä½¿ç”¨ã€‚")])])])}const N=o(c,[["render",I],["__file","nvidia-smiç®€ä»‹åŠå„å‚æ•°çš„è¯¦è§£ä¸å­—æ®µçš„è¯¦è§£å’Œä½¿ç”¨.html.vue"]]);export{N as default};
