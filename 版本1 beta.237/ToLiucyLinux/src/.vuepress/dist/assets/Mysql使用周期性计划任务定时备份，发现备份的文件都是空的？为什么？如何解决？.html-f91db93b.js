import{_ as o}from"./plugin-vue_export-helper-c27b6911.js";import{r as t,o as d,c as p,a as s,b as n,d as a,w as c,e as i}from"./app-6706a352.js";const r={},u=s("figure",null,[s("img",{src:"https://lcy-blog.oss-cn-beijing.aliyuncs.com/blog/f599934504f440d8872f960b2e7ee0c5.jpeg",alt:"åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°",tabindex:"0",loading:"lazy"}),s("figcaption",null,"åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°")],-1),m=s("p",null,[n("ğŸ‘¨â€ğŸ“"),s("strong",null,"åšä¸»ç®€ä»‹")],-1),b={href:"https://blog.csdn.net/liu_chen_yang?type=blog",target:"_blank",rel:"noopener noreferrer"},v=s("br",null,null,-1),k={href:"https://bbs.huaweicloud.com/community/myblog",target:"_blank",rel:"noopener noreferrer"},h=s("br",null,null,-1),g={href:"https://developer.aliyun.com/my?spm=a2c6h.13148508.setting.3.21fc4f0eCmz1v3#/article?_k=zooqoz",target:"_blank",rel:"noopener noreferrer"},_=s("br",null,null,-1),q=s("strong",null,"äº¤æµç¤¾åŒºï¼š",-1),f={href:"https://bbs.csdn.net/forums/lcy",target:"_blank",rel:"noopener noreferrer"},y=s("br",null,null,-1),z=s("br",null,null,-1),K=i(`<hr><h2 id="å‰è¨€-é—®é¢˜è¯´æ˜" tabindex="-1"><a class="header-anchor" href="#å‰è¨€-é—®é¢˜è¯´æ˜" aria-hidden="true">#</a> å‰è¨€ / é—®é¢˜è¯´æ˜</h2><blockquote><p>æœ€è¿‘åœ¨åšæ•°æ®åº“å¤‡ä»½ï¼Œä½¿ç”¨çš„æ˜¯è„šæœ¬çš„æ–¹å¼å¤‡ä»½å¤šä¸ªåº“ï¼Œæ‰‹åŠ¨æ‰§è¡Œè„šæœ¬å¤‡ä»½æ˜¯æ²¡é—®é¢˜çš„ï¼Œç„¶åå°±ä½¿ç”¨äº†å‘¨æœŸæ€§è®¡åˆ’ä»»åŠ¡å¼€å§‹å®šæ—¶å¤‡ä»½ï¼›<br> ä½†æ˜¯æœ‰ä¸€å¤©ï¼Œæˆ‘è¯´çœ‹ä¸€ä¸‹å¤‡ä»½çš„æ•°æ®ï¼Œç»“æœä¸€çœ‹ï¼Œå®šæ—¶ä»»åŠ¡å¤‡ä»½çš„sqlæ–‡ä»¶å‹ç¼©åŒ…éƒ½æ˜¯4kï¼Œè§£å‹å‡ºæ¥çš„...sqléƒ½æ˜¯å¤§å°éƒ½æ˜¯0ï¼Œé‡Œé¢æ›´æ˜¯æ²¡æœ‰æ•°æ®éƒ½æ˜¯ç©ºçš„ï¼Œè¿™æ˜¯ä¸ºä»€ä¹ˆå‘¢ï¼Ÿ</p></blockquote><h2 id="é—®é¢˜åˆ†æ" tabindex="-1"><a class="header-anchor" href="#é—®é¢˜åˆ†æ" aria-hidden="true">#</a> é—®é¢˜åˆ†æ</h2><h3 id="_1ã€é¦–å…ˆæˆ‘ä»¬åˆ†ææ‰‹åŠ¨æ‰§è¡Œæ˜¯å¦æˆåŠŸ" tabindex="-1"><a class="header-anchor" href="#_1ã€é¦–å…ˆæˆ‘ä»¬åˆ†ææ‰‹åŠ¨æ‰§è¡Œæ˜¯å¦æˆåŠŸ" aria-hidden="true">#</a> 1ã€é¦–å…ˆæˆ‘ä»¬åˆ†ææ‰‹åŠ¨æ‰§è¡Œæ˜¯å¦æˆåŠŸ</h3><p>é¦–å…ˆæˆ‘ä»¬åˆ†ææ‰‹åŠ¨æ‰§è¡Œæ˜¯å¦æˆåŠŸï¼Œä½¿ç”¨çš„è„šæœ¬ï¼Œé‚£ä¹ˆæˆ‘ä»¬å°±å»å­˜æ”¾è„šæœ¬çš„è·¯å¾„ä¸‹æ‰§è¡Œä¸€ä¸‹è„šæœ¬çœ‹çœ‹å¤‡ä»½çš„æ˜¯å¦æœ‰æ•°æ®ï¼›</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token comment"># å…ˆåˆ‡æ¢åˆ°å­˜æ”¾è„šæœ¬çš„ç›®å½•ä¸‹</span>
<span class="token punctuation">[</span>root@csdn data<span class="token punctuation">]</span><span class="token comment"># cd /usr/local/mysql/data/</span>

<span class="token comment"># æ‰§è¡Œå¤‡ä»½è„šæœ¬</span>
<span class="token punctuation">[</span>root@csdn data<span class="token punctuation">]</span><span class="token comment"># sh back.sh </span>
mysqldump: <span class="token punctuation">[</span>Warning<span class="token punctuation">]</span> Using a password on the <span class="token builtin class-name">command</span> line interface can be insecure.
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>è„šæœ¬æ‰§è¡Œå®Œï¼Œæˆ‘ä»¬å»å¤‡ä»½æ•°æ®åº“æ–‡ä»¶çš„è·¯å¾„ä¸‹çœ‹çœ‹å¤§å°ï¼›</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token comment"># åˆ‡æ¢åˆ°å¤‡ä»½æ•°æ®åº“æ–‡ä»¶çš„è·¯å¾„ä¸‹</span>
<span class="token punctuation">[</span>root@csdn data<span class="token punctuation">]</span><span class="token comment"># cd backup/data/</span>
<span class="token comment"># æŸ¥çœ‹å¤§å°</span>
<span class="token punctuation">[</span>root@csdn data<span class="token punctuation">]</span><span class="token comment"># du -sh *</span>
<span class="token number">4</span>.0K	<span class="token number">20231120</span>.sql.tgz
<span class="token number">4</span>.0K	<span class="token number">20231121</span>.sql.tgz
<span class="token number">4</span>.0K	<span class="token number">20231122</span>.sql.tgz
<span class="token number">4</span>.0K	<span class="token number">20231123</span>.sql.tgz
<span class="token number">4</span>.0K	<span class="token number">20231124</span>.sql.tgz
<span class="token number">4</span>.0K	<span class="token number">20231125</span>.sql.tgz
<span class="token number">4</span>.0K	<span class="token number">20231126</span>.sql.tgz
236K	<span class="token number">20231127</span>.sql.tgz
<span class="token comment"># æœ€åä¸€ä¸ªå°±æ˜¯åˆšåˆšæ‰‹åŠ¨æ‰§è¡Œå¤‡ä»½çš„äº†ï¼›æ˜æ˜¾å’Œå‰é¢çš„ä¸ä¸€æ ·ï¼›</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>ç„¶åæˆ‘ä»¬è§£å‹ä¸‹æ¥çœ‹</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token comment"># è§£å‹å¤‡ä»½çš„åº“çš„å‹ç¼©åŒ…</span>
<span class="token punctuation">[</span>root@csdn data<span class="token punctuation">]</span><span class="token comment"># tar xf 20231127.sql.tgz </span>
<span class="token comment"># æŸ¥çœ‹å¤§å°</span>
<span class="token punctuation">[</span>root@csdn data<span class="token punctuation">]</span><span class="token comment"># du -sh *</span>
<span class="token number">4</span>.0K	<span class="token number">20231120</span>.sql.tgz
<span class="token number">4</span>.0K	<span class="token number">20231121</span>.sql.tgz
<span class="token number">4</span>.0K	<span class="token number">20231122</span>.sql.tgz
<span class="token number">4</span>.0K	<span class="token number">20231123</span>.sql.tgz
<span class="token number">4</span>.0K	<span class="token number">20231124</span>.sql.tgz
<span class="token number">4</span>.0K	<span class="token number">20231125</span>.sql.tgz
<span class="token number">4</span>.0K	<span class="token number">20231126</span>.sql.tgz
680K	<span class="token number">20231127</span>.sql
236K	<span class="token number">20231127</span>.sql.tgz
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>å¯ä»¥çœ‹åˆ°è§£å‹ä¸‹æ¥æ˜¯<code>680K</code>ï¼Œæˆ‘ä»¬å¯ä»¥è¿›å»çœ‹çœ‹ï¼Œæ˜¯æœ‰æ•°æ®çš„ï¼›<br> é‚£ä¹ˆå°±å¯ä»¥æ’é™¤è„šæœ¬çš„æœ¬èº«é—®é¢˜ï¼›</p><h3 id="_2ã€æˆ‘ä»¬åˆ†æå®šæ—¶ä»»åŠ¡ä¸­çš„å‘½ä»¤å†™çš„æ˜¯å¦æ­£ç¡®" tabindex="-1"><a class="header-anchor" href="#_2ã€æˆ‘ä»¬åˆ†æå®šæ—¶ä»»åŠ¡ä¸­çš„å‘½ä»¤å†™çš„æ˜¯å¦æ­£ç¡®" aria-hidden="true">#</a> 2ã€æˆ‘ä»¬åˆ†æå®šæ—¶ä»»åŠ¡ä¸­çš„å‘½ä»¤å†™çš„æ˜¯å¦æ­£ç¡®</h3><p>æ‰§è¡Œå®šæ—¶ä»»åŠ¡ä¸€èˆ¬é‡Œé¢éœ€è¦å†™ç»å¯¹è·¯å¾„ï¼›<br> æˆ‘çš„å®šæ—¶ä»»åŠ¡æ˜¯åœ¨<code>/etc/crontab</code>ä¸‹å†™ç€ï¼Œæˆ‘ä»¬æ¥çœ‹çœ‹;</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token function">cat</span> /etc/crontab
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><figure><img src="https://lcy-blog.oss-cn-beijing.aliyuncs.com/blog/54e16ff4d3ed4e82b89f3e92fac17c08.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" tabindex="0" loading="lazy"><figcaption>åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°</figcaption></figure><p>å¯ä»¥çœ‹åˆ°å†™çš„æ˜¯ï¼š<code>0 0 */1 * * root /bin/sh /usr/local/mysql/data/back.sh</code>ï¼Œæ¯å¤©å¤‡ä»½ä¸€æ¬¡ï¼Œè€Œä¸”éƒ½å†™çš„ç»å¯¹è·¯å¾„ï¼›<br> æˆ‘ä»¬æŠŠä»–è¿™ä¸ªç»å¯¹è·¯å¾„æ‹¿å‡ºæ¥è¯•è¯•çœ‹çœ‹æ‰§è¡Œä¸€ä¸‹æ˜¯å¦æˆåŠŸï¼Ÿ</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token comment"># å®šæ—¶ä»»åŠ¡ä¸­çš„è„šæœ¬æ‰§è¡Œå‘½ä»¤</span>
<span class="token punctuation">[</span>root@csdn data<span class="token punctuation">]</span><span class="token comment"># /bin/sh /usr/local/mysql/data/back.sh</span>
mysqldump: <span class="token punctuation">[</span>Warning<span class="token punctuation">]</span> Using a password on the <span class="token builtin class-name">command</span> line interface can be insecure.

<span class="token comment"># ç„¶åå»å¤‡ä»½æ•°æ®åº“çš„å­˜å‚¨è·¯å¾„çœ‹çœ‹</span>
<span class="token punctuation">[</span>root@csdn data<span class="token punctuation">]</span><span class="token comment"># cd /usr/local/mysql/data/backup/data/</span>

<span class="token comment"># æŸ¥çœ‹æ–‡ä»¶å¤§å°</span>
<span class="token punctuation">[</span>root@csdn data<span class="token punctuation">]</span><span class="token comment"># du -sh *</span>
<span class="token number">4</span>.0K	<span class="token number">20231120</span>.sql.tgz
<span class="token number">4</span>.0K	<span class="token number">20231121</span>.sql.tgz
<span class="token number">4</span>.0K	<span class="token number">20231122</span>.sql.tgz
<span class="token number">4</span>.0K	<span class="token number">20231123</span>.sql.tgz
<span class="token number">4</span>.0K	<span class="token number">20231124</span>.sql.tgz
<span class="token number">4</span>.0K	<span class="token number">20231125</span>.sql.tgz
<span class="token number">4</span>.0K	<span class="token number">20231126</span>.sql.tgz
236K	<span class="token number">20231127</span>.sql.tgz
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>å¯ä»¥çœ‹åˆ°æ˜¯æ²¡é—®é¢˜çš„ï¼Œå¦‚æœåˆšåˆšå¤‡ä»½è¿‡æ€•æ²¡æœ‰è¦†ç›–ï¼Œå¯ä»¥è‡ªå·±åˆ é™¤ï¼Œä¸€èˆ¬å¤‡ä»½æ˜¯ä¼šç›´æ¥è¦†ç›–çš„ï¼Œè€Œä¸”ä½ è§£å‹ä¸‹æ¥çš„æ–‡ä»¶ä¹Ÿä¼šé»˜è®¤åˆ é™¤ï¼›<br> ä¹Ÿæ˜¯åŒæ ·çš„æ–¹æ³•ï¼Œçœ‹ç€å¤‡ä»½çš„å‹ç¼©åŒ…çš„å¤§å°æ˜¯æ²¡é—®é¢˜çš„ï¼Œè§£å‹ä¸‹æ¥çœ‹çœ‹ï¼›</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token punctuation">[</span>root@csdn data<span class="token punctuation">]</span><span class="token comment"># tar xf 20231127.sql.tgz </span>
<span class="token punctuation">[</span>root@csdn data<span class="token punctuation">]</span><span class="token comment"># du -sh *</span>
<span class="token number">4</span>.0K	<span class="token number">20231120</span>.sql.tgz
<span class="token number">4</span>.0K	<span class="token number">20231121</span>.sql.tgz
<span class="token number">4</span>.0K	<span class="token number">20231122</span>.sql.tgz
<span class="token number">4</span>.0K	<span class="token number">20231123</span>.sql.tgz
<span class="token number">4</span>.0K	<span class="token number">20231124</span>.sql.tgz
<span class="token number">4</span>.0K	<span class="token number">20231125</span>.sql.tgz
<span class="token number">4</span>.0K	<span class="token number">20231126</span>.sql.tgz
680K	<span class="token number">20231127</span>.sql
236K	<span class="token number">20231127</span>.sql.tgz
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>ä¹Ÿæ˜¯680Kï¼Œå¯ä»¥vimè¿›å…¥æŸ¥çœ‹ä¸€ä¸‹æ˜¯å¦æœ‰æ•°æ®ï¼›ç»è¿‡æŸ¥çœ‹æ˜¯æœ‰æ•°æ®çš„ï¼›<br> é‚£ä¹ˆä¹Ÿå¯ä»¥æ’é™¤è®¡åˆ’ä»»åŠ¡çš„å‘½ä»¤æ˜¯æ²¡æœ‰é—®é¢˜çš„ï¼›å“ªæ˜¯ä¸ºä»€ä¹ˆå‘¢ï¼Ÿ</p><h3 id="_3ã€æ£€æŸ¥crontabä¸­çš„æ‰§è¡Œç¯å¢ƒ" tabindex="-1"><a class="header-anchor" href="#_3ã€æ£€æŸ¥crontabä¸­çš„æ‰§è¡Œç¯å¢ƒ" aria-hidden="true">#</a> 3ã€æ£€æŸ¥crontabä¸­çš„æ‰§è¡Œç¯å¢ƒ</h3><p>æ—¢ç„¶ç¡®å®šè„šæœ¬æ²¡æœ‰é—®é¢˜ï¼Œå¹¶ä¸”æ‰‹åŠ¨æ‰§è¡Œèƒ½å¤Ÿæ­£ç¡®å¤‡ä»½æ•°æ®ï¼Œé‚£ä¹ˆé—®é¢˜å¯èƒ½å‡ºåœ¨ crontab è®¾ç½®æˆ–æ‰§è¡Œç¯å¢ƒä¸Šã€‚ä»¥ä¸‹æ˜¯æ’æŸ¥çš„ä¸€äº›æ­¥éª¤ï¼š</p>`,23),x={class:"task-list-container"},w={class:"task-list-item"},T=s("input",{type:"checkbox",class:"task-list-item-checkbox",id:"task-item-0",checked:"checked",disabled:"disabled"},null,-1),A={class:"task-list-item-label",for:"task-item-0"},H=s("strong",null,"æ£€æŸ¥ crontab è¯­æ³•",-1),P={class:"task-list-item"},j=s("input",{type:"checkbox",class:"task-list-item-checkbox",id:"task-item-1",checked:"checked",disabled:"disabled"},null,-1),C={class:"task-list-item-label",for:"task-item-1"},N=s("strong",null,"æŸ¥çœ‹ cron æ—¥å¿—",-1),V=s("code",null,"/var/log/cron",-1),B=s("code",null,"/var/log/syslog",-1),E=s("li",{class:"task-list-item"},[s("input",{type:"checkbox",class:"task-list-item-checkbox",id:"task-item-2",checked:"checked",disabled:"disabled"}),s("label",{class:"task-list-item-label",for:"task-item-2"},[n(" 3. "),s("strong",null,"è¾“å‡ºé‡å®šå‘"),n("ï¼šç¡®ä¿ cron ä»»åŠ¡æ²¡æœ‰æŠŠè¾“å‡ºï¼ˆåŒ…æ‹¬é”™è¯¯è¾“å‡ºï¼‰é‡å®šå‘åˆ° "),s("code",null,"/dev/null"),n(" æˆ–å…¶ä»–çœ‹ä¸åˆ°çš„åœ°æ–¹ã€‚ä¸ºäº†æ›´å¥½åœ°è°ƒè¯•ï¼Œå¯ä»¥è€ƒè™‘å°†è¾“å‡ºé‡å®šå‘åˆ°ä¸€ä¸ªç‰¹å®šçš„æ—¥å¿—æ–‡ä»¶ã€‚")])],-1),L=i(`<p>ä¾‹å¦‚ï¼š<br> å°†å®šæ—¶ä»»åŠ¡æ”¹ä¸ºæ¯åˆ†é’Ÿæ‰§è¡Œä¸€æ¬¡ï¼Œæ–¹ä¾¿æŸ¥çœ‹ï¼ŒåŠ ä¸€ä¸ªè¿½åŠ æ—¥å¿—åˆ°æ‰§è¡Œæ–‡ä»¶ä¸­ï¼Œå¹¶ä¸”æŠŠé”™è¯¯ã€éé”™è¯¯ä¿¡æ¯éƒ½å­˜æ”¾åˆ°è¿™ä¸ªæ–‡ä»¶ä¸­ã€‚</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code>* * * * * root /bin/sh /usr/local/mysql/data/back.sh <span class="token operator">&gt;&gt;</span> /usr/local/mysql/data/backup/logfile.log <span class="token operator"><span class="token file-descriptor important">2</span>&gt;</span><span class="token file-descriptor important">&amp;1</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>è¿™æ ·ï¼Œå°±å¯ä»¥æŸ¥çœ‹ <code>logfile.log</code> æ¥æ£€æŸ¥æ˜¯å¦æœ‰ä»»ä½•é”™è¯¯æˆ–æç¤ºä¿¡æ¯ã€‚</p><ul class="task-list-container"><li class="task-list-item"><input type="checkbox" class="task-list-item-checkbox" id="task-item-3" checked="checked" disabled="disabled"><label class="task-list-item-label" for="task-item-3"> 4. <strong>ç¯å¢ƒå˜é‡</strong>ï¼šcron æ‰§è¡Œçš„ç¯å¢ƒä¸ç™»å½• shell çš„ç¯å¢ƒå¯èƒ½ä¸åŒã€‚æŸäº›ç¯å¢ƒå˜é‡ï¼Œå¦‚ <code>PATH</code>ï¼Œå¯èƒ½åœ¨ cron ä¸­å¹¶æœªè®¾ç½®ï¼Œå¯¼è‡´ä½ çš„è„šæœ¬ä¸­çš„æŸäº›å‘½ä»¤æ— æ³•æ‰¾åˆ°ã€‚è€ƒè™‘åœ¨è„šæœ¬å¼€å¤´å®šä¹‰é‡è¦çš„ç¯å¢ƒå˜é‡ï¼Œæˆ–è€…åœ¨ crontab æ–‡ä»¶ä¸­è®¾ç½®å®ƒä»¬ã€‚</label></li></ul><hr><p>ä¿®æ”¹å®Œcrontabä¸­çš„å®šæ—¶ä»»åŠ¡ï¼Œè®©ä»–å°†æ‰§è¡Œå‘½ä»¤çš„è¾“å‡º è¾“å‡ºåˆ°æŒ‡å®šæ–‡ä»¶ä¸­ï¼Œæ¯åˆ†é’Ÿæ‰§è¡Œä¸€æ¬¡ï¼Œæˆ‘ä»¬ç­‰å¾…ä¸€åˆ†é’Ÿï¼Œå»çœ‹ä¸€ä¸‹æŒ‡å®šçš„ç›®å½•ä¸‹çš„æ–‡ä»¶ï¼›</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token comment"># åˆ‡æ¢åˆ°æŒ‡å®šç›®å½•</span>
<span class="token punctuation">[</span>root@csdn data<span class="token punctuation">]</span><span class="token comment"># cd /usr/local/mysql/data/backup/</span>
<span class="token comment"># æŸ¥çœ‹è¾“å‡ºçš„æ–‡ä»¶å†…å®¹</span>
<span class="token punctuation">[</span>root@csdn backup<span class="token punctuation">]</span><span class="token comment"># cat logfile.log</span>
/usr/local/mysql/data/back.sh: line <span class="token number">47</span>: mysqldump: <span class="token builtin class-name">command</span> not found
/usr/local/mysql/data/back.sh: line <span class="token number">47</span>: mysqldump: <span class="token builtin class-name">command</span> not found
/usr/local/mysql/data/back.sh: line <span class="token number">47</span>: mysqldump: <span class="token builtin class-name">command</span> not found
/usr/local/mysql/data/back.sh: line <span class="token number">47</span>: mysqldump: <span class="token builtin class-name">command</span> not found
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>å¯ä»¥çœ‹åˆ°éƒ½æ˜¯æ‰¾ä¸åˆ°<code>mysqldump</code>å‘½ä»¤ï¼Œè¿™å°±æ˜¯ç¬¬4ç§ï¼Œç¯å¢ƒå˜é‡çš„é—®é¢˜äº†ï¼›</p><h3 id="_4ã€å‘ç°é—®é¢˜-å‘¨æœŸæ€§è®¡åˆ’ä»»åŠ¡ä¸­æ‰§è¡Œæ‰¾ä¸åˆ°mysqldumpå‘½ä»¤" tabindex="-1"><a class="header-anchor" href="#_4ã€å‘ç°é—®é¢˜-å‘¨æœŸæ€§è®¡åˆ’ä»»åŠ¡ä¸­æ‰§è¡Œæ‰¾ä¸åˆ°mysqldumpå‘½ä»¤" aria-hidden="true">#</a> 4ã€å‘ç°é—®é¢˜ï¼Œå‘¨æœŸæ€§è®¡åˆ’ä»»åŠ¡ä¸­æ‰§è¡Œæ‰¾ä¸åˆ°mysqldumpå‘½ä»¤</h3><p>å¦‚æœåœ¨å‘¨æœŸæ€§è®¡åˆ’ä»»åŠ¡æ‰§è¡Œæ—¶è¾“å‡ºæ‰¾ä¸åˆ° <code>mysqldump</code> å‘½ä»¤ï¼Œé‚£ä¹ˆå¾ˆå¯èƒ½æ˜¯å› ä¸º <code>PATH</code> ç¯å¢ƒå˜é‡çš„é—®é¢˜ã€‚Cron ä»»åŠ¡è¿è¡Œæ—¶çš„ç¯å¢ƒå˜é‡å¯èƒ½ä¸ä½ åœ¨ç»ˆç«¯ä¸­è¿è¡Œçš„ç¯å¢ƒå˜é‡ä¸åŒï¼Œå°¤å…¶æ˜¯ <code>PATH</code> å˜é‡ã€‚<code>mysqldump</code> å¯èƒ½ä¸åœ¨ cron çš„ <code>PATH</code> ä¸­ï¼Œå› æ­¤æ— æ³•æ‰¾åˆ°ã€‚</p><ul><li><strong>è§£å†³æ–¹æ³•ï¼š</strong></li></ul><p>â‘ ã€ <strong>æŸ¥çœ‹mysqldumpç»å¯¹è·¯å¾„</strong>ï¼šå¯ä»¥é€šè¿‡è¿è¡Œ <code>which mysqldump</code> åœ¨ç»ˆç«¯ä¸­æ‰¾åˆ°å®ƒçš„å®Œæ•´è·¯å¾„ã€‚</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token punctuation">[</span>root@csdn backup<span class="token punctuation">]</span><span class="token comment"># which mysqldump</span>
/usr/local/mysql/bin/mysqldump
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><p>å¯ä»¥çœ‹åˆ°æ˜¯åœ¨<code>/usr/local/mysql/bin/mysqldump</code>ï¼Œé‚£ä¹ˆä½ å¯ä»¥åœ¨è„šæœ¬ä¸­ç›´æ¥ä½¿ç”¨è¿™ä¸ªè·¯å¾„æ¥è°ƒç”¨å®ƒï¼Œè€Œä¸æ˜¯ç®€å•åœ°ä½¿ç”¨ <code>mysqldump</code>ã€‚</p><p>â‘¡ã€ <strong>åœ¨è„šæœ¬ä¸­è®¾ç½® PATH</strong>ï¼šåœ¨è„šæœ¬çš„å¼€å¤´å®šä¹‰ <code>PATH</code> ç¯å¢ƒå˜é‡ï¼Œç¡®ä¿å®ƒåŒ…å« <code>mysqldump</code> çš„è·¯å¾„ã€‚</p><p>ä¾‹å¦‚ï¼š</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token shebang important">#!/bin/bash</span>

<span class="token comment"># é…ç½®æ·»åŠ mysqldumpç¯å¢ƒå˜é‡</span>
<span class="token assign-left variable"><span class="token environment constant">PATH</span></span><span class="token operator">=</span>/usr/local/mysql/bin/:<span class="token environment constant">$PATH</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>é…ç½®å®Œä¹‹åï¼Œç­‰å¾…ä¸€åˆ†é’Ÿï¼ŒæŸ¥çœ‹è¾“å‡ºçš„æ—¥å¿—ä¿¡æ¯ï¼›</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token punctuation">[</span>root@csdn backup<span class="token punctuation">]</span><span class="token comment"># tailf logfile.log </span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><figure><img src="https://lcy-blog.oss-cn-beijing.aliyuncs.com/blog/6ca70cc1110c481db3f14766df7df17e.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" tabindex="0" loading="lazy"><figcaption>åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°</figcaption></figure><p>å¯ä»¥çœ‹åˆ°å·²ç»æ²¡æœ‰æŠ¥é”™äº†ï¼›è¿™ä¸ªæ˜¯æç¤ºï¼Œè¯´ä½ ä½¿ç”¨äº†æ˜æ–‡å¯†ç ï¼Œä¸å½±å“ï¼›</p><p>çœ‹ç€æ˜¯å¤‡ä»½æ²¡æœ‰ä»€ä¹ˆé—®é¢˜äº†ï¼Œæˆ‘ä»¬å¯ä»¥å»çœ‹å¤‡ä»½çš„æ•°æ®ï¼›</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token comment"># åˆ‡æ¢åˆ°å¤‡ä»½æ•°æ®çš„ç›®å½•</span>
<span class="token punctuation">[</span>root@csdn backup<span class="token punctuation">]</span><span class="token comment"># cd /usr/local/mysql/data/backup/data/</span>
<span class="token comment"># æŸ¥çœ‹å¤§å°</span>
<span class="token punctuation">[</span>root@csdn data<span class="token punctuation">]</span><span class="token comment"># du -sh *</span>
<span class="token number">4</span>.0K	<span class="token number">20231120</span>.sql.tgz
<span class="token number">4</span>.0K	<span class="token number">20231121</span>.sql.tgz
<span class="token number">4</span>.0K	<span class="token number">20231122</span>.sql.tgz
<span class="token number">4</span>.0K	<span class="token number">20231123</span>.sql.tgz
<span class="token number">4</span>.0K	<span class="token number">20231124</span>.sql.tgz
<span class="token number">4</span>.0K	<span class="token number">20231125</span>.sql.tgz
<span class="token number">4</span>.0K	<span class="token number">20231126</span>.sql.tgz
236K	<span class="token number">20231127</span>.sql.tgz
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>å¯ä»¥çœ‹åˆ°å¤§å°ä¹Ÿæ˜¯æ²¡é—®é¢˜çš„ï¼Œç„¶åæˆ‘ä»¬è§£å‹ä¸‹æ¥çœ‹çœ‹æ–‡ä»¶æ•°æ®ï¼›</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token comment"># è§£å‹å¤‡ä»½çš„æ•°æ®å‹ç¼©åŒ…</span>
<span class="token punctuation">[</span>root@csdn data<span class="token punctuation">]</span><span class="token comment"># tar xf 20231127.sql.tgz </span>
<span class="token comment"># æŸ¥çœ‹å¤§å°</span>
<span class="token punctuation">[</span>root@csdn data<span class="token punctuation">]</span><span class="token comment"># du -sh *</span>
<span class="token number">4</span>.0K	<span class="token number">20231120</span>.sql.tgz
<span class="token number">4</span>.0K	<span class="token number">20231121</span>.sql.tgz
<span class="token number">4</span>.0K	<span class="token number">20231122</span>.sql.tgz
<span class="token number">4</span>.0K	<span class="token number">20231123</span>.sql.tgz
<span class="token number">4</span>.0K	<span class="token number">20231124</span>.sql.tgz
<span class="token number">4</span>.0K	<span class="token number">20231125</span>.sql.tgz
<span class="token number">4</span>.0K	<span class="token number">20231126</span>.sql.tgz
308K	<span class="token number">20231127</span>.sql
236K	<span class="token number">20231127</span>.sql.tgz

<span class="token comment"># æŸ¥çœ‹æ•°æ®</span>
<span class="token punctuation">[</span>root@csdn data<span class="token punctuation">]</span><span class="token comment"># vim 20231127.sql</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>éƒ½æ˜¯æœ‰æ•°æ®çš„ï¼Œé‚£ä¹ˆé—®é¢˜å°±è§£å†³äº†ï¼›<br> å‘¨æœŸæ€§è®¡åˆ’ä»»åŠ¡ä¸­çš„è¾“å‡ºæ—¥å¿—ï¼Œå¦‚æœæƒ³åˆ é™¤å°±å¯ä»¥åˆ é™¤ï¼Œä¸æƒ³åˆ é™¤ä¹Ÿä¸å½±å“ï¼Œä½†æ˜¯ä¼šå ç©ºé—´ï¼Œä¹Ÿä¸å¤§ã€‚</p><h2 id="é—®é¢˜è§£å†³" tabindex="-1"><a class="header-anchor" href="#é—®é¢˜è§£å†³" aria-hidden="true">#</a> é—®é¢˜è§£å†³</h2>`,27),I={href:"https://download.csdn.net/download/liu_chen_yang/87776124",target:"_blank",rel:"noopener noreferrer"};function M(U,W){const e=t("ExternalLinkIcon"),l=t("font");return d(),p("div",null,[u,s("blockquote",null,[m,s("p",null,[n("â€ƒâ€ƒğŸ…"),s("a",b,[n("äº‘è®¡ç®—é¢†åŸŸä¼˜è´¨åˆ›ä½œè€…"),a(e)]),v,n(" â€ƒâ€ƒğŸ…"),s("a",k,[n("åä¸ºäº‘å¼€å‘è€…ç¤¾åŒºä¸“å®¶åšä¸»"),a(e)]),h,n(" â€ƒâ€ƒğŸ…"),s("a",g,[n("é˜¿é‡Œäº‘å¼€å‘è€…ç¤¾åŒºä¸“å®¶åšä¸»"),a(e)]),_,n(" ğŸ’Š"),q,s("a",f,[n("è¿ç»´äº¤æµç¤¾åŒº"),a(e)]),n(" æ¬¢è¿å¤§å®¶çš„åŠ å…¥ï¼"),y,n(" ğŸ‹ å¸Œæœ›å¤§å®¶å¤šå¤šæ”¯æŒï¼Œæˆ‘ä»¬ä¸€èµ·è¿›æ­¥ï¼ğŸ˜„"),z,n(" ğŸ‰å¦‚æœæ–‡ç« å¯¹ä½ æœ‰å¸®åŠ©çš„è¯ï¼Œæ¬¢è¿ ç‚¹èµ ğŸ‘ğŸ» è¯„è®º ğŸ’¬ æ”¶è— â­ï¸ åŠ å…³æ³¨+ğŸ’—")])]),K,s("ul",x,[s("li",w,[T,s("label",A,[n(" 1. "),H,n("ï¼šç¡®ä¿ä½ çš„ crontab è¯­æ³•æ˜¯æ­£ç¡®çš„ã€‚ä¸€ä¸ªå¸¸è§çš„é”™è¯¯æ˜¯å¿˜è®°æŒ‡å®šæ­£ç¡®çš„è·¯å¾„æˆ–ç¯å¢ƒå˜é‡ã€‚"),a(l,{color:"gree"},{default:c(()=>[n("è¿™ä¸ªæ˜¯æ²¡é—®é¢˜çš„ï¼›")]),_:1})])]),s("li",P,[j,s("label",C,[n(" 2. "),N,n("ï¼šå¾ˆå¤š Linux å‘è¡Œç‰ˆé»˜è®¤å¹¶ä¸ä¼šä¸º cron ä»»åŠ¡è®°å½•æ—¥å¿—ã€‚ä½†å¦‚æœä½ çš„ç³»ç»Ÿé…ç½®äº† cron æ—¥å¿—ï¼Œé‚£ä¹ˆæ£€æŸ¥ "),V,n(" æˆ– "),B,n(" ä¸­çš„ç›¸å…³æ¡ç›®å¯èƒ½ä¼šæä¾›æœ‰ç”¨çš„ä¿¡æ¯ã€‚"),a(l,{color:"gree"},{default:c(()=>[n("è¿™ä¸ªä¹Ÿæ˜¯æ²¡é—®é¢˜çš„ã€‚")]),_:1})])]),E]),L,s("blockquote",null,[s("p",null,[n("æ¨èä¸€ä¸ªmysqlå®šæ—¶å¤‡ä»½çš„è„šæœ¬ï¼š"),s("a",I,[n("mysqlæ•°æ®åº“å®šæ—¶å¤‡ä»½è„šæœ¬+å®šæ—¶åˆ é™¤ "),a(e)])])])])}const D=o(r,[["render",M],["__file","Mysqlä½¿ç”¨å‘¨æœŸæ€§è®¡åˆ’ä»»åŠ¡å®šæ—¶å¤‡ä»½ï¼Œå‘ç°å¤‡ä»½çš„æ–‡ä»¶éƒ½æ˜¯ç©ºçš„ï¼Ÿä¸ºä»€ä¹ˆï¼Ÿå¦‚ä½•è§£å†³ï¼Ÿ.html.vue"]]);export{D as default};
