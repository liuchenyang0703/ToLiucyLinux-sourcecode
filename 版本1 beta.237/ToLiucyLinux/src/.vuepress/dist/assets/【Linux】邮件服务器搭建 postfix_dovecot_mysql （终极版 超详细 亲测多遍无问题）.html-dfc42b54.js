import{_ as c}from"./plugin-vue_export-helper-c27b6911.js";import{r as i,o as l,c as u,a as n,b as s,d as a,w as o,e as p}from"./app-6706a352.js";const r={},k=n("p",null,[s("ğŸ"),n("strong",null,"åšä¸»ç®€ä»‹")],-1),d={href:"https://blog.csdn.net/liu_chen_yang?type=blog",target:"_blank",rel:"noopener noreferrer"},m=n("br",null,null,-1),v={href:"https://bbs.huaweicloud.com/community/myblog",target:"_blank",rel:"noopener noreferrer"},b=n("br",null,null,-1),g={href:"https://developer.aliyun.com/my?spm=a2c6h.13148508.setting.3.21fc4f0eCmz1v3#/article?_k=zooqoz",target:"_blank",rel:"noopener noreferrer"},f=n("br",null,null,-1),y=n("strong",null,"äº¤æµç¤¾åŒºï¼š",-1),_={href:"https://bbs.csdn.net/forums/lcy",target:"_blank",rel:"noopener noreferrer"},h=n("figure",null,[n("img",{src:"https://lcy-blog.oss-cn-beijing.aliyuncs.com/blog/202412181617490.png",alt:"",tabindex:"0",loading:"lazy"}),n("figcaption")],-1),w=n("h2",{id:"å‰è¨€",tabindex:"-1"},[n("a",{class:"header-anchor",href:"#å‰è¨€","aria-hidden":"true"},"#"),s(" å‰è¨€")],-1),E=n("blockquote",null,[n("p",null,"å› ä¸ºæœ€è¿‘å…¬å¸éœ€è¦æ­å»ºä¸€ä¸ªé‚®ä»¶æœåŠ¡ç³»ç»Ÿï¼Œä½†æ˜¯å¦‚æœåœ¨linuxåˆ›å»ºçš„è¯ä¼šæœ‰uidé™åˆ¶ï¼Œè€Œåˆéœ€è¦åˆ›å»ºå¤§é‡çš„ç”¨æˆ·ï¼Œä¸Šwä¸ªï¼Œè¿™æ ·ä¼šå¯¼è‡´uidä¸è¶³è€Œæ— æ³•åˆ›å»ºç”¨æˆ·ï¼›æ‰€ä»¥éœ€è¦ç”¨åˆ°è™šæ‹Ÿç”¨æˆ·ï¼Œåœ¨åƒè¾›ä¸‡è‹¦ä¸‹æ‰¾åˆ°äº†ä½¿ç”¨postfix+dovecot+mysqlè¿™ç§æ–¹å¼æ¥åšè™šæ‹Ÿç”¨æˆ·åŠé‚®ç®±å‘æ”¶ï¼Œæœ€ç»ˆé€‰æ‹©äº†ä½¿ç”¨ï¼špostfix+dovecot+mysqlæ¥å®ç°è¿™ä¸ªåŠŸèƒ½ï¼›")],-1),T=n("h2",{id:"åŸºç¡€åŸç†",tabindex:"-1"},[n("a",{class:"header-anchor",href:"#åŸºç¡€åŸç†","aria-hidden":"true"},"#"),s(" åŸºç¡€åŸç†")],-1),L=n("blockquote",null,[n("p",null,"ä»Šå¤©æ¥èŠèŠLinuxé‚®ä»¶æœåŠ¡å™¨çš„æ­å»ºï¼Œæœ¬ä»¥ä¸ºç”µå­é‚®ä»¶è¿™ç§é«˜åº¦æˆç†Ÿçš„æŠ€æœ¯åº”è¯¥å¾ˆå®¹æ˜“éƒ¨ç½²ï¼Œä¸Šæ‰‹åæ‰å‘ç°åŸæ¥å‘è¿˜çœŸä¸å°‘ã€‚æœ¬æ–¹æ¡ˆä»¥ä¸»æµçš„postfix + dovacotä¸ºåŸºç¡€ï¼Œå…¶ä¸­postfixç”¨ä½œsmtpï¼Œdovecotç”¨ä½œpop3(æˆ–imap)ã€‚")],-1),N=n("p",null,"1ã€å·¥ä½œæ¨¡å¼",-1),x=n("blockquote",null,[n("p",null,"ç”¨postfixæ„å»ºçš„é‚®ä»¶ç³»ç»Ÿè‡³å°‘æœ‰ä¸¤ç§å·¥ä½œæ¨¡å¼ï¼Œç¬¬ä¸€ç§æ˜¯åˆ©ç”¨æœ¬åœ°Linuxè´¦å·è¿›è¡Œé‚®ä»¶æ”¶å‘ï¼Œæ¯”å¦‚æœ¬åœ°ç³»ç»Ÿæœ‰ç”¨æˆ·rootæˆ–someoneï¼Œé‚£ä¹ˆå°±æœ‰root@example.comå’Œsomeone@example.comä¸¤ä¸ªemailåœ°å€ã€‚ ç¬¬äºŒç§ç›¸å¯¹å¤æ‚ä¸€äº›ï¼Œä¸ºäº†ç®¡ç†çš„æ–¹ä¾¿å’Œç³»ç»Ÿå®‰å…¨ï¼Œpostfixçš„ç”¨æˆ·ç®¡ç†é‡‡ç”¨äº†è™šæ‹Ÿç”¨æˆ·æ–¹å¼ï¼Œå³postfixå•ç‹¬è®¾ç«‹äº†è®¸å¤šç”¨æˆ·ï¼Œä»–ä»¬å„è‡ªåœ¨ç³»ç»Ÿä¸­æ˜ å°„æœ‰ç‹¬ç«‹çš„ç¡¬ç›˜ç©ºé—´ã€‚ä½†åŒæ—¶è¿™äº›ç”¨æˆ·åˆè·Ÿæœ¬åœ°Linuxç³»ç»Ÿå†…å›ºæœ‰çš„çœŸå®è´¦å·æ²¡æœ‰å…³è”ã€‚æœ¬æ–‡æ‰€æœ‰è®¨è®ºå°±æ˜¯å»ºç«‹åœ¨è¿™ç§æ¨¡å¼ä¸‹çš„ï¼Œå€¼å¾—æ³¨æ„çš„æ˜¯ï¼Œè¿™ä¸¤ç§å·¥ä½œæ¨¡å¼çš„éƒ¨ç½²æ–¹æ³•å·®å¼‚æå¤§ï¼Œåœ¨å‚è€ƒç½‘ä¸Šæ•™ç¨‹çš„æ—¶å€™ï¼Œé¦–å…ˆè¦ç¡®è®¤å®ƒæ˜¯å»ºç«‹åœ¨å“ªä¸ªæ¨¡å¼ä¸‹çš„ï¼Œå¦åˆ™å®¹æ˜“å¼ å† ææˆ´ï¼Œå‡ºç°å¾ˆå¤šä»¤äººå¤´ç–¼çš„é—®é¢˜ã€‚")],-1),A=n("p",null,"2ã€è¿è¡Œæµç¨‹",-1),U=n("blockquote",null,[n("p",null,"å¯¹äºç”µå­é‚®ä»¶ï¼Œæˆ‘ä»¬æœ‰å¯èƒ½å­˜åœ¨çš„ä¸€ä¸ªè¯¯åŒºæ˜¯ï¼Œå°†smtpå’Œpop3æŒ‰ç…§å­—é¢çš„æ„æ€å»ç†è§£ï¼Œå³smtpåªç®¡å‘ä»¶ï¼Œpop3åˆ™åªè´Ÿè´£æ”¶ä»¶ã€‚å…¶å®å¹¶ä¸å®Œå…¨æ˜¯è¿™æ ·ã€‚ä¸‹é¢æ˜¯ä¸€å°ç”µå­é‚®ä»¶åœ¨äº’è”ç½‘ä¸Šçš„æŠ•é€’æµç¨‹ï¼š")],-1),O=n("br",null,null,-1),q=n("a",{href:"mailto:me@qq.com"},"me@qq.com",-1),D={href:"http://xn--smtp-p85fnhr8lc5bh6fk82sitb054c.qq.com",target:"_blank",rel:"noopener noreferrer"},R={href:"http://smtp.qq.com",target:"_blank",rel:"noopener noreferrer"},S={href:"http://xn--gmail-bd2h3na645en2em5mwomr92az3clvncp1dyrxa8v8exkd.com",target:"_blank",rel:"noopener noreferrer"},C={href:"http://xn--smtp-p85f04on9cgyy4l4imob.gmail.com",target:"_blank",rel:"noopener noreferrer"},F=n("li",null,[s("smtp.gmail.comç¡®è®¤æ”¶ä¸‹é‚®ä»¶åï¼Œå°†å®ƒè½¬å­˜åˆ°é‚®ä»¶æœåŠ¡å™¨çš„ç¡¬ç›˜ä¸­å¾…æ”¶ã€‚"),n("br"),s(" é€šè¿‡è§‚å¯Ÿä»¥ä¸Šæµç¨‹ï¼Œä½ ä¼šå‘ç°smtpæœåŠ¡å™¨å…¶å®èº«å…¼äº† â€œæ”¶ã€å‘â€ ä¸¤ä¸ªåŠŸèƒ½ã€‚ å¯¹äºsmtp.qq.comè€Œè¨€ï¼Œæ˜¯å‘é€ã€‚ è€Œä»smtp.gmail.comçš„è§’åº¦æ¥çœ‹ï¼Œåˆ™æ˜¯æ¥æ”¶ã€‚é‚£ä¹ˆï¼Œå’±ä»¬å¹³æ—¶ç»å¸¸è¯´èµ·çš„ â€œæ”¶ä»¶æœåŠ¡å™¨pop3â€ åˆæ˜¯æ€ä¹ˆå›äº‹å‘¢ï¼Œæ•´ä¸ªæµç¨‹ä¼¼ä¹çœ‹ä¸åˆ°å®ƒçš„èº«å½±ï¼Ÿ")],-1),I=p('<p>pop3ï¼ˆæˆ–imapæœåŠ¡å™¨ï¼Œä¸ä¹‹æ€§è´¨ç›¸åŒï¼‰æ›´å¤šçš„æ˜¯èµ·ä¸€ä¸ªä¸­è½¬ä½œç”¨ï¼Œå®ƒå°†å­˜å‚¨åœ¨é‚®ä»¶æœåŠ¡å™¨ç¡¬ç›˜ä¸­çš„é‚®ä»¶è½¬ç§»å›é‚®ä»¶å®¢æˆ·ç«¯ï¼ˆuser agentï¼‰ï¼Œå®ƒåªè´Ÿè´£ä»é‚®ä»¶æœåŠ¡å™¨åˆ°é‚®ä»¶å®¢æˆ·ç«¯è¿™æ®µè·¯å¾„ï¼Œè€Œé‚®ä»¶åœ¨å¹¿åŸŸç½‘ä¸Šçš„æ”¶å‘åˆ™æ˜¯smtpè¦åšçš„äº‹ï¼Œä¸pop3æ²¡æœ‰å…³ç³»ã€‚</p><p>pop3ä¸imapçš„åŒºåˆ«æ˜¯ï¼Œpop3å°†é‚®ä»¶æ‹‰å›æœ¬åœ°åï¼Œå³ä¸æœåŠ¡å™¨è„±é’©äº†ã€‚imapåˆ™æ›´å…ˆè¿›ä¸€äº›ï¼Œå®ƒèƒ½åšåˆ°å®æ—¶å°†ä½ åœ¨é‚®ä»¶å®¢æˆ·ç«¯çš„æ“ä½œåé¦ˆå›é‚®ä»¶æœåŠ¡å™¨ï¼Œæ¯”å¦‚ï¼šåˆ é™¤é‚®ä»¶ï¼Œæ ‡è®°å·²è¯»ç­‰ï¼ŒæœåŠ¡å™¨ä¸Šçš„é‚®ä»¶ä¹Ÿä¼šåšç›¸åº”çš„åŠ¨ä½œã€‚æ‰€ä»¥æ— è®ºä»æµè§ˆå™¨ç™»å½•é‚®ç®±æˆ–è€…å®¢æˆ·ç«¯è½¯ä»¶ç™»å½•é‚®ç®±ï¼Œçœ‹åˆ°çš„é‚®ä»¶ä»¥åŠçŠ¶æ€éƒ½æ˜¯ä¸€è‡´çš„ã€‚</p><figure><img src="https://lcy-blog.oss-cn-beijing.aliyuncs.com/blog/202412181617072.png" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><h2 id="å‡†å¤‡å·¥ä½œ" tabindex="-1"><a class="header-anchor" href="#å‡†å¤‡å·¥ä½œ" aria-hidden="true">#</a> å‡†å¤‡å·¥ä½œ</h2><p>å‰é¢è¯´è¿‡ï¼Œæœ¬æ–‡ä»¥è™šæ‹Ÿé‚®ä»¶ç”¨æˆ·ä¸ºåŸºç¡€ï¼Œåˆ›å»ºè™šæ‹Ÿç”¨æˆ·æœ‰å¾ˆå¤šæ–¹æ³•ï¼Œå…¶ä¸­æœ€å®¹æ˜“ä¹Ÿæœ€æ˜“äºæ‰©å±•çš„æ–¹å¼è«è¿‡äºé‡‡ç”¨æ•°æ®åº“æ¥ç®¡ç†é‚®ä»¶å®¢æˆ·ã€‚æ¯”å¦‚è¯´ä»¥åå¦‚æœéœ€è¦æ‰©å±•Web MailåŠŸèƒ½ï¼Œå°±æ¯”è¾ƒå®¹æ˜“ä¸ç°æœ‰ç³»ç»Ÿæ— ç¼è¡”æ¥ã€‚</p><p>æœ¬æ–‡é€‰ç”¨Centosä¸‹æœ€å¸¸è§çš„MariaDBä½œä¸ºæ•°æ®åº“ï¼Œå®ƒä¸MySQLæ˜¯å®Œå…¨å…¼å®¹çš„ï¼Œå…³äºMariaDBçš„éƒ¨ç½²ä¸åœ¨æœ¬æ–‡è®¨è®ºä¹‹å†…ï¼Œç½‘ä¸Šæœ‰å¾ˆå¤šæ•™ç¨‹ï¼Œä¹Ÿéå¸¸ç®€å•ã€‚</p><p>é¦–å…ˆå°†æˆ‘çš„è¿è¡Œç¯å¢ƒåšä¸€ä¸ªè¯´æ˜ï¼š</p><blockquote><p>æ“ä½œç³»ç»Ÿ ï¼š Centos 7.9<br> æ•°æ®åº“ ï¼š MariaDB 10.3.17<br> Postfixï¼š 2.10.1<br> Dovecotï¼š 2.2.36<br> ç¼–è¾‘å™¨ï¼švim</p></blockquote><p>æ³¨æ„ï¼š</p><ul><li>æ–‡ä¸­æ‰€æœ‰å‡ºç°cs.comçš„åœ°æ–¹ï¼Œéœ€è¦å…¨éƒ¨æ›´æ¢ä¸ºè‡ªå·±çš„åŸŸåã€‚</li><li>æ–‡ä¸­å‡¡å‡ºç°vimå¼€å¤´çš„åœ°æ–¹è¡¨è¾¾çš„æ„æ€å°±æ˜¯ç¼–è¾‘è¿™ä¸ªæ–‡ä»¶ã€‚</li></ul><hr><p>åœ¨æ­£å¼å¼€å§‹ä¹‹å‰ï¼Œæˆ‘ä»¬è¿˜éœ€è¦é…ç½®åŸŸåï¼Œä»¥ä¸‹æ¥è¯´è¯´å¦‚ä½•é…ç½®åŸŸåï¼›</p><p>ä»¥äº‘ä¸ŠDNSåŸŸåè§£æä¸ºä¾‹ï¼š</p><ul><li>è…¾è®¯äº‘</li></ul><figure><img src="https://lcy-blog.oss-cn-beijing.aliyuncs.com/blog/202412181617408.png" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><ul><li>é˜¿é‡Œäº‘</li></ul><figure><img src="https://lcy-blog.oss-cn-beijing.aliyuncs.com/blog/202412181617530.png" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><p>é…ç½®å¥½ä¹‹åï¼Œå¯ä»¥åœ¨windowsä¸Šæ‰“å¼€cmdï¼Œè¾“å…¥nslookupï¼Œç„¶ååœ¨è¾“å…¥set type=MXï¼Œç„¶ååœ¨è¾“å…¥è‡ªå·±çš„åŸŸåï¼ˆè¿™é‡Œçš„åŸŸåä¸æ˜¯å¸¦mailçš„åŸŸåï¼Œæ˜¯mailåé¢çš„åŸŸåï¼‰ï¼Œå¦‚æœwindowsä¸Šæ²¡æœ‰nslookupå¯ä»¥è‡ªå·±å®‰è£…ä¸€ä¸‹ï¼Œå¦‚ä¸‹å›¾ï¼Œåˆ™æ˜¯è§£ææˆåŠŸã€‚</p><figure><img src="https://lcy-blog.oss-cn-beijing.aliyuncs.com/blog/202412181617896.png" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><p>è§£ææˆåŠŸä¹‹åï¼Œé“¾æ¥æœåŠ¡å™¨ï¼Œä¿®æ”¹ä¸»æœºåï¼š</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code>hostnamectl set-hostname mail.åŸŸå\n<span class="token comment">#åŠ è½½æ–°ç¯å¢ƒï¼Œæˆ–è€…å…³äº†é‡æ–°å¼€ä¸€ä¸ªçª—å£ï¼›</span>\n<span class="token function">bash</span>\n<span class="token comment">#å®Œæˆä¹‹åå¯ä»¥å†æ¬¡ç¡®è®¤</span>\n<span class="token function">uname</span> <span class="token parameter variable">-n</span>\n</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>ç¡®è®¤å®Œæˆä¹‹åï¼Œç¡®è®¤æœåŠ¡å™¨ä¸­æ˜¯å¦å­˜åœ¨ä¸€äº›å…³äºmailçš„æœåŠ¡ï¼Œå¯ä»¥å¸è½½ï¼›</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token function">rpm</span> <span class="token parameter variable">-qa</span> <span class="token operator">|</span> <span class="token function">grep</span> postfix\n<span class="token function">rpm</span> <span class="token parameter variable">-qa</span> <span class="token operator">|</span> <span class="token function">grep</span> dovecot\n<span class="token function">rpm</span> <span class="token parameter variable">-qa</span> <span class="token operator">|</span> <span class="token function">grep</span> <span class="token function">sendmail</span>\n\n<span class="token comment">#å…ˆåœæ­¢æœåŠ¡</span>\nsystemctl stop postfix dovecot <span class="token function">sendmail</span>\n\n<span class="token comment">#å¦‚æœæœ‰è¿™äº›ï¼Œå¯ä»¥è‡ªè¡Œå¸è½½ï¼Œå¸è½½å®Œé¡ºä¾¿çœ‹çœ‹é…ç½®è¿˜åœ¨ä¸åœ¨ï¼Œä¸€èˆ¬é»˜è®¤dovecoté…ç½®ä¸ä¼šåˆ é™¤</span>\nyum <span class="token parameter variable">-y</span> remove dovecot<span class="token punctuation">\\</span>* postfix<span class="token punctuation">\\</span>* sendmail<span class="token punctuation">\\</span>*\n</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><blockquote><p>dovecoté…ç½®æ–‡ä»¶è·¯å¾„ï¼š/etc/dovecot/<br> postfixé…ç½®æ–‡ä»¶è·¯å¾„ï¼š/etc/postfix</p></blockquote><p>å¸è½½å®Œæˆä¹‹åï¼Œåˆ›å»ºä¸€ä¸ªå«åš vmail çš„ç”¨æˆ· å’Œä¸€ä¸ªå«åšvmail çš„ç»„ ä¹‹ååŸºæœ¬æ‰€æœ‰çš„æƒé™éƒ½åº”è¯¥äº¤ç»™è¿™ä¸ªç”¨æˆ·ï¼›</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token function">groupadd</span> <span class="token parameter variable">-g</span> <span class="token number">5000</span> vmail\n<span class="token function">useradd</span> <span class="token parameter variable">-g</span> vmail <span class="token parameter variable">-u</span> <span class="token number">5000</span> <span class="token parameter variable">-s</span> /sbin/nologin vmail\n</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="ä¸€-ã€å®‰è£…å…³äºæƒé™æ ¡éªŒçš„è½¯ä»¶-cyrus-sasl" tabindex="-1"><a class="header-anchor" href="#ä¸€-ã€å®‰è£…å…³äºæƒé™æ ¡éªŒçš„è½¯ä»¶-cyrus-sasl" aria-hidden="true">#</a> ä¸€ ã€å®‰è£…å…³äºæƒé™æ ¡éªŒçš„è½¯ä»¶ cyrus-sasl</h2><p>1)å®‰è£…</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code>yum <span class="token parameter variable">-y</span> <span class="token function">install</span> cyrus-sasl<span class="token punctuation">\\</span>*\n</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>2)é…ç½®</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token function">vim</span> /etc/sysconfig/saslauthd\n\n<span class="token comment">#ä¿®æ”¹å¦‚ä¸‹ä¸¤è¡Œ</span>\n<span class="token assign-left variable">SOCKETDIR</span><span class="token operator">=</span>/var/run/saslauthd\n<span class="token assign-left variable">MECH</span><span class="token operator">=</span>shadow\n</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>vim /etc/sasl2/smtpd.conf<br> æ·»åŠ å¦‚ä¸‹å‡ è¡Œ</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code>pwcheck_method: saslauthd\nmech_list: plain login\nlog_level: <span class="token number">3</span>\nsaslauthd_path:/var/run/saslauthd/mux\n</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>3)å¯åŠ¨</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code>systemctl restart saslauthd\n</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h2 id="äºŒã€éƒ¨ç½²åŠåˆ›å»ºæ•°æ®åº“ã€mysqlã€‘" tabindex="-1"><a class="header-anchor" href="#äºŒã€éƒ¨ç½²åŠåˆ›å»ºæ•°æ®åº“ã€mysqlã€‘" aria-hidden="true">#</a> äºŒã€éƒ¨ç½²åŠåˆ›å»ºæ•°æ®åº“ã€mysqlã€‘</h2><h3 id="_1ã€éƒ¨ç½²æ•°æ®åº“-mariadb" tabindex="-1"><a class="header-anchor" href="#_1ã€éƒ¨ç½²æ•°æ®åº“-mariadb" aria-hidden="true">#</a> 1ã€éƒ¨ç½²æ•°æ®åº“ï¼ˆmariadbï¼‰</h3><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token comment">#å®‰è£…mariadb</span>\nyum <span class="token function">install</span> mariadb<span class="token punctuation">\\</span>* <span class="token parameter variable">-y</span>\n\n<span class="token comment">#å¯åŠ¨æ•°æ®åº“</span>\nsystemctl start mariadb\n<span class="token comment">#è®¾ç½®å¼€æœºè‡ªå¯</span>\nsystemctl <span class="token builtin class-name">enable</span> mariadb\n\n<span class="token comment">#æŸ¥çœ‹æ•°æ®åº“æ˜¯å¦å¯åŠ¨ï¼ˆæœ‰è¿›ç¨‹åˆ™å¯åŠ¨ï¼‰</span>\n<span class="token function">netstat</span> <span class="token parameter variable">-anput</span> <span class="token operator">|</span> <span class="token function">grep</span> <span class="token number">3306</span>\n\n<span class="token comment">#æ•°æ®åº“åˆå§‹åŒ–æ“ä½œï¼ˆè®¾ç½®å¯†ç ï¼‰</span>\nmysql_secure_installation\n</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>æç¤ºï¼šå¦‚æœå›è½¦æ²¡æœ‰ååº”ï¼Œå…ˆæ£€æŸ¥mariadbæ˜¯å¦å¯åŠ¨ã€‚</p><figure><img src="https://lcy-blog.oss-cn-beijing.aliyuncs.com/blog/202412181617423.png" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token comment">#è¿›å…¥mysqlæ•°æ®åº“</span>\nmysql <span class="token parameter variable">-uroot</span> -på¯†ç \n\n<span class="token comment">#è®¾ç½®æ•°æ®åº“è¿œç¨‹è¿æ¥ï¼Œç”¨äºä½¿ç”¨å¤–éƒ¨è½¯ä»¶é“¾æ¥æ•°æ®åº“ã€Navicatã€SQLyogã€‘</span>\ngrant all privileges  on *.* to root@<span class="token string">&#39;%&#39;</span> identified by <span class="token string">&quot;123123&quot;</span><span class="token punctuation">;</span>\n<span class="token comment">#åˆ·æ–°æƒé™</span>\nflush privileges<span class="token punctuation">;</span>\n</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>è¿™æ ·å°±å¯ä»¥åœ¨è¿œç¨‹é“¾æ¥æ•°æ®åº“äº†ï¼›</p><h3 id="_2ã€åº“ã€è¡¨ç»“æ„å¯¼å…¥" tabindex="-1"><a class="header-anchor" href="#_2ã€åº“ã€è¡¨ç»“æ„å¯¼å…¥" aria-hidden="true">#</a> 2ã€åº“ã€è¡¨ç»“æ„å¯¼å…¥</h3><p>sqlæ–‡ä»¶ï¼šï¼ˆåˆ›å»ºä¸€ä¸ªpostfix.sqlæ–‡ä»¶ï¼Œå°†ä»¥ä¸‹æ‰€æœ‰å†…å®¹ç›´æ¥å¤åˆ¶æ”¾åˆ°postfix.sqlä¸­ï¼Œå¯¼å…¥sqlè¯­å¥å³å¯ï¼Œé‡Œé¢æœ‰ä¸€æ¡æµ‹è¯•æ•°æ®ï¼‰</p><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="language-sql"><code><span class="token comment">/*\nSQLyog Ultimate v13.1.1 (64 bit)\nMySQL - 5.7.38-log : Database - postfix\n*********************************************************************\n*/</span>\n\n<span class="token comment">/*!40101 SET NAMES utf8 */</span><span class="token punctuation">;</span>\n\n<span class="token comment">/*!40101 SET SQL_MODE=&#39;&#39;*/</span><span class="token punctuation">;</span>\n\n<span class="token comment">/*!40014 SET @OLD_UNIQUE_CHECKS=@@UNIQUE_CHECKS, UNIQUE_CHECKS=0 */</span><span class="token punctuation">;</span>\n<span class="token comment">/*!40014 SET @OLD_FOREIGN_KEY_CHECKS=@@FOREIGN_KEY_CHECKS, FOREIGN_KEY_CHECKS=0 */</span><span class="token punctuation">;</span>\n<span class="token comment">/*!40101 SET @OLD_SQL_MODE=@@SQL_MODE, SQL_MODE=&#39;NO_AUTO_VALUE_ON_ZERO&#39; */</span><span class="token punctuation">;</span>\n<span class="token comment">/*!40111 SET @OLD_SQL_NOTES=@@SQL_NOTES, SQL_NOTES=0 */</span><span class="token punctuation">;</span>\n<span class="token keyword">CREATE</span> <span class="token keyword">DATABASE</span> <span class="token comment">/*!32312 IF NOT EXISTS*/</span><span class="token identifier"><span class="token punctuation">`</span>postfix<span class="token punctuation">`</span></span> <span class="token comment">/*!40100 DEFAULT CHARACTER SET utf8 */</span><span class="token punctuation">;</span>\n\n<span class="token keyword">USE</span> <span class="token identifier"><span class="token punctuation">`</span>postfix<span class="token punctuation">`</span></span><span class="token punctuation">;</span>\n\n<span class="token comment">/*Table structure for table `admin` */</span>\n\n<span class="token keyword">DROP</span> <span class="token keyword">TABLE</span> <span class="token keyword">IF</span> <span class="token keyword">EXISTS</span> <span class="token identifier"><span class="token punctuation">`</span>admin<span class="token punctuation">`</span></span><span class="token punctuation">;</span>\n\n<span class="token keyword">CREATE</span> <span class="token keyword">TABLE</span> <span class="token identifier"><span class="token punctuation">`</span>admin<span class="token punctuation">`</span></span> <span class="token punctuation">(</span>\n  <span class="token identifier"><span class="token punctuation">`</span>username<span class="token punctuation">`</span></span> <span class="token keyword">varchar</span><span class="token punctuation">(</span><span class="token number">255</span><span class="token punctuation">)</span> <span class="token operator">NOT</span> <span class="token boolean">NULL</span><span class="token punctuation">,</span>\n  <span class="token identifier"><span class="token punctuation">`</span>password<span class="token punctuation">`</span></span> <span class="token keyword">varchar</span><span class="token punctuation">(</span><span class="token number">255</span><span class="token punctuation">)</span> <span class="token operator">NOT</span> <span class="token boolean">NULL</span><span class="token punctuation">,</span>\n  <span class="token identifier"><span class="token punctuation">`</span>superadmin<span class="token punctuation">`</span></span> <span class="token keyword">tinyint</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token operator">NOT</span> <span class="token boolean">NULL</span> <span class="token keyword">DEFAULT</span> <span class="token string">&#39;0&#39;</span><span class="token punctuation">,</span>\n  <span class="token identifier"><span class="token punctuation">`</span>created<span class="token punctuation">`</span></span> <span class="token keyword">datetime</span> <span class="token operator">NOT</span> <span class="token boolean">NULL</span> <span class="token keyword">DEFAULT</span> <span class="token string">&#39;2000-01-01 00:00:00&#39;</span><span class="token punctuation">,</span>\n  <span class="token identifier"><span class="token punctuation">`</span>modified<span class="token punctuation">`</span></span> <span class="token keyword">datetime</span> <span class="token operator">NOT</span> <span class="token boolean">NULL</span> <span class="token keyword">DEFAULT</span> <span class="token string">&#39;2000-01-01 00:00:00&#39;</span><span class="token punctuation">,</span>\n  <span class="token identifier"><span class="token punctuation">`</span>active<span class="token punctuation">`</span></span> <span class="token keyword">tinyint</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token operator">NOT</span> <span class="token boolean">NULL</span> <span class="token keyword">DEFAULT</span> <span class="token string">&#39;1&#39;</span><span class="token punctuation">,</span>\n  <span class="token keyword">PRIMARY</span> <span class="token keyword">KEY</span> <span class="token punctuation">(</span><span class="token identifier"><span class="token punctuation">`</span>username<span class="token punctuation">`</span></span><span class="token punctuation">)</span>\n<span class="token punctuation">)</span> <span class="token keyword">ENGINE</span><span class="token operator">=</span>MyISAM <span class="token keyword">DEFAULT</span> <span class="token keyword">CHARSET</span><span class="token operator">=</span>latin1 <span class="token keyword">COMMENT</span><span class="token operator">=</span><span class="token string">&#39;Postfix Admin - Virtual Admins&#39;</span><span class="token punctuation">;</span>\n\n<span class="token comment">/*Data for the table `admin` */</span>\n\n<span class="token keyword">insert</span>  <span class="token keyword">into</span> <span class="token identifier"><span class="token punctuation">`</span>admin<span class="token punctuation">`</span></span><span class="token punctuation">(</span><span class="token identifier"><span class="token punctuation">`</span>username<span class="token punctuation">`</span></span><span class="token punctuation">,</span><span class="token identifier"><span class="token punctuation">`</span>password<span class="token punctuation">`</span></span><span class="token punctuation">,</span><span class="token identifier"><span class="token punctuation">`</span>superadmin<span class="token punctuation">`</span></span><span class="token punctuation">,</span><span class="token identifier"><span class="token punctuation">`</span>created<span class="token punctuation">`</span></span><span class="token punctuation">,</span><span class="token identifier"><span class="token punctuation">`</span>modified<span class="token punctuation">`</span></span><span class="token punctuation">,</span><span class="token identifier"><span class="token punctuation">`</span>active<span class="token punctuation">`</span></span><span class="token punctuation">)</span> <span class="token keyword">values</span> \n<span class="token punctuation">(</span><span class="token string">&#39;cs@cs.com&#39;</span><span class="token punctuation">,</span><span class="token string">&#39;123123&#39;</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token string">&#39;2023-07-14 15:52:23&#39;</span><span class="token punctuation">,</span><span class="token string">&#39;2023-07-14 15:52:23&#39;</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n\n<span class="token comment">/*Table structure for table `alias` */</span>\n\n<span class="token keyword">DROP</span> <span class="token keyword">TABLE</span> <span class="token keyword">IF</span> <span class="token keyword">EXISTS</span> <span class="token identifier"><span class="token punctuation">`</span>alias<span class="token punctuation">`</span></span><span class="token punctuation">;</span>\n\n<span class="token keyword">CREATE</span> <span class="token keyword">TABLE</span> <span class="token identifier"><span class="token punctuation">`</span>alias<span class="token punctuation">`</span></span> <span class="token punctuation">(</span>\n  <span class="token identifier"><span class="token punctuation">`</span>address<span class="token punctuation">`</span></span> <span class="token keyword">varchar</span><span class="token punctuation">(</span><span class="token number">255</span><span class="token punctuation">)</span> <span class="token operator">NOT</span> <span class="token boolean">NULL</span><span class="token punctuation">,</span>\n  <span class="token identifier"><span class="token punctuation">`</span>goto<span class="token punctuation">`</span></span> <span class="token keyword">text</span> <span class="token operator">NOT</span> <span class="token boolean">NULL</span><span class="token punctuation">,</span>\n  <span class="token identifier"><span class="token punctuation">`</span>domain<span class="token punctuation">`</span></span> <span class="token keyword">varchar</span><span class="token punctuation">(</span><span class="token number">255</span><span class="token punctuation">)</span> <span class="token operator">NOT</span> <span class="token boolean">NULL</span><span class="token punctuation">,</span>\n  <span class="token identifier"><span class="token punctuation">`</span>created<span class="token punctuation">`</span></span> <span class="token keyword">datetime</span> <span class="token operator">NOT</span> <span class="token boolean">NULL</span> <span class="token keyword">DEFAULT</span> <span class="token string">&#39;2000-01-01 00:00:00&#39;</span><span class="token punctuation">,</span>\n  <span class="token identifier"><span class="token punctuation">`</span>modified<span class="token punctuation">`</span></span> <span class="token keyword">datetime</span> <span class="token operator">NOT</span> <span class="token boolean">NULL</span> <span class="token keyword">DEFAULT</span> <span class="token string">&#39;2000-01-01 00:00:00&#39;</span><span class="token punctuation">,</span>\n  <span class="token identifier"><span class="token punctuation">`</span>active<span class="token punctuation">`</span></span> <span class="token keyword">tinyint</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token operator">NOT</span> <span class="token boolean">NULL</span> <span class="token keyword">DEFAULT</span> <span class="token string">&#39;1&#39;</span><span class="token punctuation">,</span>\n  <span class="token keyword">PRIMARY</span> <span class="token keyword">KEY</span> <span class="token punctuation">(</span><span class="token identifier"><span class="token punctuation">`</span>address<span class="token punctuation">`</span></span><span class="token punctuation">)</span><span class="token punctuation">,</span>\n  <span class="token keyword">KEY</span> <span class="token identifier"><span class="token punctuation">`</span>domain<span class="token punctuation">`</span></span> <span class="token punctuation">(</span><span class="token identifier"><span class="token punctuation">`</span>domain<span class="token punctuation">`</span></span><span class="token punctuation">)</span>\n<span class="token punctuation">)</span> <span class="token keyword">ENGINE</span><span class="token operator">=</span>MyISAM <span class="token keyword">DEFAULT</span> <span class="token keyword">CHARSET</span><span class="token operator">=</span>latin1 <span class="token keyword">COMMENT</span><span class="token operator">=</span><span class="token string">&#39;Postfix Admin - Virtual Aliases&#39;</span><span class="token punctuation">;</span>\n\n<span class="token comment">/*Data for the table `alias` */</span>\n\n<span class="token keyword">insert</span>  <span class="token keyword">into</span> <span class="token identifier"><span class="token punctuation">`</span>alias<span class="token punctuation">`</span></span><span class="token punctuation">(</span><span class="token identifier"><span class="token punctuation">`</span>address<span class="token punctuation">`</span></span><span class="token punctuation">,</span><span class="token identifier"><span class="token punctuation">`</span>goto<span class="token punctuation">`</span></span><span class="token punctuation">,</span><span class="token identifier"><span class="token punctuation">`</span>domain<span class="token punctuation">`</span></span><span class="token punctuation">,</span><span class="token identifier"><span class="token punctuation">`</span>created<span class="token punctuation">`</span></span><span class="token punctuation">,</span><span class="token identifier"><span class="token punctuation">`</span>modified<span class="token punctuation">`</span></span><span class="token punctuation">,</span><span class="token identifier"><span class="token punctuation">`</span>active<span class="token punctuation">`</span></span><span class="token punctuation">)</span> <span class="token keyword">values</span> <span class="token punctuation">(</span><span class="token string">&#39;cs@cs.com&#39;</span><span class="token punctuation">,</span><span class="token string">&#39;cs@cs.com&#39;</span><span class="token punctuation">,</span><span class="token string">&#39;cs.com&#39;</span><span class="token punctuation">,</span><span class="token string">&#39;2023-07-17 13:59:18&#39;</span><span class="token punctuation">,</span><span class="token string">&#39;2023-07-17 13:59:18&#39;</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n\n<span class="token comment">/*Table structure for table `alias_domain` */</span>\n\n<span class="token keyword">DROP</span> <span class="token keyword">TABLE</span> <span class="token keyword">IF</span> <span class="token keyword">EXISTS</span> <span class="token identifier"><span class="token punctuation">`</span>alias_domain<span class="token punctuation">`</span></span><span class="token punctuation">;</span>\n\n<span class="token keyword">CREATE</span> <span class="token keyword">TABLE</span> <span class="token identifier"><span class="token punctuation">`</span>alias_domain<span class="token punctuation">`</span></span> <span class="token punctuation">(</span>\n  <span class="token identifier"><span class="token punctuation">`</span>alias_domain<span class="token punctuation">`</span></span> <span class="token keyword">varchar</span><span class="token punctuation">(</span><span class="token number">255</span><span class="token punctuation">)</span> <span class="token operator">NOT</span> <span class="token boolean">NULL</span> <span class="token keyword">DEFAULT</span> <span class="token string">&#39;&#39;</span><span class="token punctuation">,</span>\n  <span class="token identifier"><span class="token punctuation">`</span>target_domain<span class="token punctuation">`</span></span> <span class="token keyword">varchar</span><span class="token punctuation">(</span><span class="token number">255</span><span class="token punctuation">)</span> <span class="token operator">NOT</span> <span class="token boolean">NULL</span> <span class="token keyword">DEFAULT</span> <span class="token string">&#39;&#39;</span><span class="token punctuation">,</span>\n  <span class="token identifier"><span class="token punctuation">`</span>created<span class="token punctuation">`</span></span> <span class="token keyword">datetime</span> <span class="token operator">NOT</span> <span class="token boolean">NULL</span> <span class="token keyword">DEFAULT</span> <span class="token string">&#39;2000-01-01 00:00:00&#39;</span><span class="token punctuation">,</span>\n  <span class="token identifier"><span class="token punctuation">`</span>modified<span class="token punctuation">`</span></span> <span class="token keyword">datetime</span> <span class="token operator">NOT</span> <span class="token boolean">NULL</span> <span class="token keyword">DEFAULT</span> <span class="token string">&#39;2000-01-01 00:00:00&#39;</span><span class="token punctuation">,</span>\n  <span class="token identifier"><span class="token punctuation">`</span>active<span class="token punctuation">`</span></span> <span class="token keyword">tinyint</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token operator">NOT</span> <span class="token boolean">NULL</span> <span class="token keyword">DEFAULT</span> <span class="token string">&#39;1&#39;</span><span class="token punctuation">,</span>\n  <span class="token keyword">PRIMARY</span> <span class="token keyword">KEY</span> <span class="token punctuation">(</span><span class="token identifier"><span class="token punctuation">`</span>alias_domain<span class="token punctuation">`</span></span><span class="token punctuation">)</span><span class="token punctuation">,</span>\n  <span class="token keyword">KEY</span> <span class="token identifier"><span class="token punctuation">`</span>active<span class="token punctuation">`</span></span> <span class="token punctuation">(</span><span class="token identifier"><span class="token punctuation">`</span>active<span class="token punctuation">`</span></span><span class="token punctuation">)</span><span class="token punctuation">,</span>\n  <span class="token keyword">KEY</span> <span class="token identifier"><span class="token punctuation">`</span>target_domain<span class="token punctuation">`</span></span> <span class="token punctuation">(</span><span class="token identifier"><span class="token punctuation">`</span>target_domain<span class="token punctuation">`</span></span><span class="token punctuation">)</span>\n<span class="token punctuation">)</span> <span class="token keyword">ENGINE</span><span class="token operator">=</span>MyISAM <span class="token keyword">DEFAULT</span> <span class="token keyword">CHARSET</span><span class="token operator">=</span>latin1 <span class="token keyword">COMMENT</span><span class="token operator">=</span><span class="token string">&#39;Postfix Admin - Domain Aliases&#39;</span><span class="token punctuation">;</span>\n\n<span class="token comment">/*Data for the table `alias_domain` */</span>\n\n<span class="token comment">/*Table structure for table `config` */</span>\n\n<span class="token keyword">DROP</span> <span class="token keyword">TABLE</span> <span class="token keyword">IF</span> <span class="token keyword">EXISTS</span> <span class="token identifier"><span class="token punctuation">`</span>config<span class="token punctuation">`</span></span><span class="token punctuation">;</span>\n\n<span class="token keyword">CREATE</span> <span class="token keyword">TABLE</span> <span class="token identifier"><span class="token punctuation">`</span>config<span class="token punctuation">`</span></span> <span class="token punctuation">(</span>\n  <span class="token identifier"><span class="token punctuation">`</span>id<span class="token punctuation">`</span></span> <span class="token keyword">int</span><span class="token punctuation">(</span><span class="token number">11</span><span class="token punctuation">)</span> <span class="token operator">NOT</span> <span class="token boolean">NULL</span> <span class="token keyword">AUTO_INCREMENT</span><span class="token punctuation">,</span>\n  <span class="token identifier"><span class="token punctuation">`</span>name<span class="token punctuation">`</span></span> <span class="token keyword">varchar</span><span class="token punctuation">(</span><span class="token number">20</span><span class="token punctuation">)</span> <span class="token keyword">CHARACTER</span> <span class="token keyword">SET</span> latin1 <span class="token operator">NOT</span> <span class="token boolean">NULL</span> <span class="token keyword">DEFAULT</span> <span class="token string">&#39;&#39;</span><span class="token punctuation">,</span>\n  <span class="token identifier"><span class="token punctuation">`</span>value<span class="token punctuation">`</span></span> <span class="token keyword">varchar</span><span class="token punctuation">(</span><span class="token number">20</span><span class="token punctuation">)</span> <span class="token keyword">CHARACTER</span> <span class="token keyword">SET</span> latin1 <span class="token operator">NOT</span> <span class="token boolean">NULL</span> <span class="token keyword">DEFAULT</span> <span class="token string">&#39;&#39;</span><span class="token punctuation">,</span>\n  <span class="token keyword">PRIMARY</span> <span class="token keyword">KEY</span> <span class="token punctuation">(</span><span class="token identifier"><span class="token punctuation">`</span>id<span class="token punctuation">`</span></span><span class="token punctuation">)</span><span class="token punctuation">,</span>\n  <span class="token keyword">UNIQUE</span> <span class="token keyword">KEY</span> <span class="token identifier"><span class="token punctuation">`</span>name<span class="token punctuation">`</span></span> <span class="token punctuation">(</span><span class="token identifier"><span class="token punctuation">`</span>name<span class="token punctuation">`</span></span><span class="token punctuation">)</span>\n<span class="token punctuation">)</span> <span class="token keyword">ENGINE</span><span class="token operator">=</span>MyISAM <span class="token keyword">AUTO_INCREMENT</span><span class="token operator">=</span><span class="token number">2</span> <span class="token keyword">DEFAULT</span> <span class="token keyword">CHARSET</span><span class="token operator">=</span>utf8 <span class="token keyword">COMMENT</span><span class="token operator">=</span><span class="token string">&#39;PostfixAdmin settings&#39;</span><span class="token punctuation">;</span>\n\n<span class="token comment">/*Data for the table `config` */</span>\n\n<span class="token keyword">insert</span>  <span class="token keyword">into</span> <span class="token identifier"><span class="token punctuation">`</span>config<span class="token punctuation">`</span></span><span class="token punctuation">(</span><span class="token identifier"><span class="token punctuation">`</span>id<span class="token punctuation">`</span></span><span class="token punctuation">,</span><span class="token identifier"><span class="token punctuation">`</span>name<span class="token punctuation">`</span></span><span class="token punctuation">,</span><span class="token identifier"><span class="token punctuation">`</span>value<span class="token punctuation">`</span></span><span class="token punctuation">)</span> <span class="token keyword">values</span> \n<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token string">&#39;version&#39;</span><span class="token punctuation">,</span><span class="token string">&#39;1836&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n\n<span class="token comment">/*Table structure for table `domain` */</span>\n\n<span class="token keyword">DROP</span> <span class="token keyword">TABLE</span> <span class="token keyword">IF</span> <span class="token keyword">EXISTS</span> <span class="token identifier"><span class="token punctuation">`</span>domain<span class="token punctuation">`</span></span><span class="token punctuation">;</span>\n\n<span class="token keyword">CREATE</span> <span class="token keyword">TABLE</span> <span class="token identifier"><span class="token punctuation">`</span>domain<span class="token punctuation">`</span></span> <span class="token punctuation">(</span>\n  <span class="token identifier"><span class="token punctuation">`</span>domain<span class="token punctuation">`</span></span> <span class="token keyword">varchar</span><span class="token punctuation">(</span><span class="token number">255</span><span class="token punctuation">)</span> <span class="token operator">NOT</span> <span class="token boolean">NULL</span><span class="token punctuation">,</span>\n  <span class="token identifier"><span class="token punctuation">`</span>description<span class="token punctuation">`</span></span> <span class="token keyword">varchar</span><span class="token punctuation">(</span><span class="token number">255</span><span class="token punctuation">)</span> <span class="token keyword">CHARACTER</span> <span class="token keyword">SET</span> utf8 <span class="token operator">NOT</span> <span class="token boolean">NULL</span><span class="token punctuation">,</span>\n  <span class="token identifier"><span class="token punctuation">`</span>aliases<span class="token punctuation">`</span></span> <span class="token keyword">int</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span> <span class="token operator">NOT</span> <span class="token boolean">NULL</span> <span class="token keyword">DEFAULT</span> <span class="token string">&#39;0&#39;</span><span class="token punctuation">,</span>\n  <span class="token identifier"><span class="token punctuation">`</span>mailboxes<span class="token punctuation">`</span></span> <span class="token keyword">int</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span> <span class="token operator">NOT</span> <span class="token boolean">NULL</span> <span class="token keyword">DEFAULT</span> <span class="token string">&#39;0&#39;</span><span class="token punctuation">,</span>\n  <span class="token identifier"><span class="token punctuation">`</span>maxquota<span class="token punctuation">`</span></span> <span class="token keyword">bigint</span><span class="token punctuation">(</span><span class="token number">20</span><span class="token punctuation">)</span> <span class="token operator">NOT</span> <span class="token boolean">NULL</span> <span class="token keyword">DEFAULT</span> <span class="token string">&#39;0&#39;</span><span class="token punctuation">,</span>\n  <span class="token identifier"><span class="token punctuation">`</span>quota<span class="token punctuation">`</span></span> <span class="token keyword">bigint</span><span class="token punctuation">(</span><span class="token number">20</span><span class="token punctuation">)</span> <span class="token operator">NOT</span> <span class="token boolean">NULL</span> <span class="token keyword">DEFAULT</span> <span class="token string">&#39;0&#39;</span><span class="token punctuation">,</span>\n  <span class="token identifier"><span class="token punctuation">`</span>transport<span class="token punctuation">`</span></span> <span class="token keyword">varchar</span><span class="token punctuation">(</span><span class="token number">255</span><span class="token punctuation">)</span> <span class="token operator">NOT</span> <span class="token boolean">NULL</span><span class="token punctuation">,</span>\n  <span class="token identifier"><span class="token punctuation">`</span>backupmx<span class="token punctuation">`</span></span> <span class="token keyword">tinyint</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token operator">NOT</span> <span class="token boolean">NULL</span> <span class="token keyword">DEFAULT</span> <span class="token string">&#39;0&#39;</span><span class="token punctuation">,</span>\n  <span class="token identifier"><span class="token punctuation">`</span>created<span class="token punctuation">`</span></span> <span class="token keyword">datetime</span> <span class="token operator">NOT</span> <span class="token boolean">NULL</span> <span class="token keyword">DEFAULT</span> <span class="token string">&#39;2000-01-01 00:00:00&#39;</span><span class="token punctuation">,</span>\n  <span class="token identifier"><span class="token punctuation">`</span>modified<span class="token punctuation">`</span></span> <span class="token keyword">datetime</span> <span class="token operator">NOT</span> <span class="token boolean">NULL</span> <span class="token keyword">DEFAULT</span> <span class="token string">&#39;2000-01-01 00:00:00&#39;</span><span class="token punctuation">,</span>\n  <span class="token identifier"><span class="token punctuation">`</span>active<span class="token punctuation">`</span></span> <span class="token keyword">tinyint</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token operator">NOT</span> <span class="token boolean">NULL</span> <span class="token keyword">DEFAULT</span> <span class="token string">&#39;1&#39;</span><span class="token punctuation">,</span>\n  <span class="token keyword">PRIMARY</span> <span class="token keyword">KEY</span> <span class="token punctuation">(</span><span class="token identifier"><span class="token punctuation">`</span>domain<span class="token punctuation">`</span></span><span class="token punctuation">)</span>\n<span class="token punctuation">)</span> <span class="token keyword">ENGINE</span><span class="token operator">=</span>MyISAM <span class="token keyword">DEFAULT</span> <span class="token keyword">CHARSET</span><span class="token operator">=</span>latin1 <span class="token keyword">COMMENT</span><span class="token operator">=</span><span class="token string">&#39;Postfix Admin - Virtual Domains&#39;</span><span class="token punctuation">;</span>\n\n<span class="token comment">/*Data for the table `domain` */</span>\n\n<span class="token keyword">insert</span>  <span class="token keyword">into</span> <span class="token identifier"><span class="token punctuation">`</span>domain<span class="token punctuation">`</span></span><span class="token punctuation">(</span><span class="token identifier"><span class="token punctuation">`</span>domain<span class="token punctuation">`</span></span><span class="token punctuation">,</span><span class="token identifier"><span class="token punctuation">`</span>description<span class="token punctuation">`</span></span><span class="token punctuation">,</span><span class="token identifier"><span class="token punctuation">`</span>aliases<span class="token punctuation">`</span></span><span class="token punctuation">,</span><span class="token identifier"><span class="token punctuation">`</span>mailboxes<span class="token punctuation">`</span></span><span class="token punctuation">,</span><span class="token identifier"><span class="token punctuation">`</span>maxquota<span class="token punctuation">`</span></span><span class="token punctuation">,</span><span class="token identifier"><span class="token punctuation">`</span>quota<span class="token punctuation">`</span></span><span class="token punctuation">,</span><span class="token identifier"><span class="token punctuation">`</span>transport<span class="token punctuation">`</span></span><span class="token punctuation">,</span><span class="token identifier"><span class="token punctuation">`</span>backupmx<span class="token punctuation">`</span></span><span class="token punctuation">,</span><span class="token identifier"><span class="token punctuation">`</span>created<span class="token punctuation">`</span></span><span class="token punctuation">,</span><span class="token identifier"><span class="token punctuation">`</span>modified<span class="token punctuation">`</span></span><span class="token punctuation">,</span><span class="token identifier"><span class="token punctuation">`</span>active<span class="token punctuation">`</span></span><span class="token punctuation">)</span> <span class="token keyword">values</span> \n<span class="token punctuation">(</span><span class="token string">&#39;ALL&#39;</span><span class="token punctuation">,</span><span class="token string">&#39;&#39;</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token string">&#39;&#39;</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token string">&#39;2023-07-14 15:52:22&#39;</span><span class="token punctuation">,</span><span class="token string">&#39;2023-07-14 15:52:22&#39;</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">,</span>\n<span class="token punctuation">(</span><span class="token string">&#39;cs.com&#39;</span><span class="token punctuation">,</span><span class="token string">&#39;æµ‹è¯•é‚®ç®±&#39;</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">10</span><span class="token punctuation">,</span><span class="token number">2048</span><span class="token punctuation">,</span><span class="token string">&#39;virtual&#39;</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token string">&#39;2023-07-14 16:16:11&#39;</span><span class="token punctuation">,</span><span class="token string">&#39;2023-07-14 16:16:11&#39;</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n\n<span class="token comment">/*Table structure for table `domain_admins` */</span>\n\n<span class="token keyword">DROP</span> <span class="token keyword">TABLE</span> <span class="token keyword">IF</span> <span class="token keyword">EXISTS</span> <span class="token identifier"><span class="token punctuation">`</span>domain_admins<span class="token punctuation">`</span></span><span class="token punctuation">;</span>\n\n<span class="token keyword">CREATE</span> <span class="token keyword">TABLE</span> <span class="token identifier"><span class="token punctuation">`</span>domain_admins<span class="token punctuation">`</span></span> <span class="token punctuation">(</span>\n  <span class="token identifier"><span class="token punctuation">`</span>username<span class="token punctuation">`</span></span> <span class="token keyword">varchar</span><span class="token punctuation">(</span><span class="token number">255</span><span class="token punctuation">)</span> <span class="token operator">NOT</span> <span class="token boolean">NULL</span><span class="token punctuation">,</span>\n  <span class="token identifier"><span class="token punctuation">`</span>domain<span class="token punctuation">`</span></span> <span class="token keyword">varchar</span><span class="token punctuation">(</span><span class="token number">255</span><span class="token punctuation">)</span> <span class="token operator">NOT</span> <span class="token boolean">NULL</span><span class="token punctuation">,</span>\n  <span class="token identifier"><span class="token punctuation">`</span>created<span class="token punctuation">`</span></span> <span class="token keyword">datetime</span> <span class="token operator">NOT</span> <span class="token boolean">NULL</span> <span class="token keyword">DEFAULT</span> <span class="token string">&#39;2000-01-01 00:00:00&#39;</span><span class="token punctuation">,</span>\n  <span class="token identifier"><span class="token punctuation">`</span>active<span class="token punctuation">`</span></span> <span class="token keyword">tinyint</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token operator">NOT</span> <span class="token boolean">NULL</span> <span class="token keyword">DEFAULT</span> <span class="token string">&#39;1&#39;</span><span class="token punctuation">,</span>\n  <span class="token keyword">KEY</span> <span class="token identifier"><span class="token punctuation">`</span>username<span class="token punctuation">`</span></span> <span class="token punctuation">(</span><span class="token identifier"><span class="token punctuation">`</span>username<span class="token punctuation">`</span></span><span class="token punctuation">)</span>\n<span class="token punctuation">)</span> <span class="token keyword">ENGINE</span><span class="token operator">=</span>MyISAM <span class="token keyword">DEFAULT</span> <span class="token keyword">CHARSET</span><span class="token operator">=</span>latin1 <span class="token keyword">COMMENT</span><span class="token operator">=</span><span class="token string">&#39;Postfix Admin - Domain Admins&#39;</span><span class="token punctuation">;</span>\n\n<span class="token comment">/*Data for the table `domain_admins` */</span>\n\n<span class="token keyword">insert</span>  <span class="token keyword">into</span> <span class="token identifier"><span class="token punctuation">`</span>domain_admins<span class="token punctuation">`</span></span><span class="token punctuation">(</span><span class="token identifier"><span class="token punctuation">`</span>username<span class="token punctuation">`</span></span><span class="token punctuation">,</span><span class="token identifier"><span class="token punctuation">`</span>domain<span class="token punctuation">`</span></span><span class="token punctuation">,</span><span class="token identifier"><span class="token punctuation">`</span>created<span class="token punctuation">`</span></span><span class="token punctuation">,</span><span class="token identifier"><span class="token punctuation">`</span>active<span class="token punctuation">`</span></span><span class="token punctuation">)</span> <span class="token keyword">values</span> \n<span class="token punctuation">(</span><span class="token string">&#39;cs@cs.com&#39;</span><span class="token punctuation">,</span><span class="token string">&#39;ALL&#39;</span><span class="token punctuation">,</span><span class="token string">&#39;2023-07-14 15:52:24&#39;</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n\n<span class="token comment">/*Table structure for table `fetchmail` */</span>\n\n<span class="token keyword">DROP</span> <span class="token keyword">TABLE</span> <span class="token keyword">IF</span> <span class="token keyword">EXISTS</span> <span class="token identifier"><span class="token punctuation">`</span>fetchmail<span class="token punctuation">`</span></span><span class="token punctuation">;</span>\n\n<span class="token keyword">CREATE</span> <span class="token keyword">TABLE</span> <span class="token identifier"><span class="token punctuation">`</span>fetchmail<span class="token punctuation">`</span></span> <span class="token punctuation">(</span>\n  <span class="token identifier"><span class="token punctuation">`</span>id<span class="token punctuation">`</span></span> <span class="token keyword">int</span><span class="token punctuation">(</span><span class="token number">11</span><span class="token punctuation">)</span> <span class="token keyword">unsigned</span> <span class="token operator">NOT</span> <span class="token boolean">NULL</span> <span class="token keyword">AUTO_INCREMENT</span><span class="token punctuation">,</span>\n  <span class="token identifier"><span class="token punctuation">`</span>domain<span class="token punctuation">`</span></span> <span class="token keyword">varchar</span><span class="token punctuation">(</span><span class="token number">255</span><span class="token punctuation">)</span> <span class="token keyword">DEFAULT</span> <span class="token string">&#39;&#39;</span><span class="token punctuation">,</span>\n  <span class="token identifier"><span class="token punctuation">`</span>mailbox<span class="token punctuation">`</span></span> <span class="token keyword">varchar</span><span class="token punctuation">(</span><span class="token number">255</span><span class="token punctuation">)</span> <span class="token operator">NOT</span> <span class="token boolean">NULL</span><span class="token punctuation">,</span>\n  <span class="token identifier"><span class="token punctuation">`</span>src_server<span class="token punctuation">`</span></span> <span class="token keyword">varchar</span><span class="token punctuation">(</span><span class="token number">255</span><span class="token punctuation">)</span> <span class="token operator">NOT</span> <span class="token boolean">NULL</span><span class="token punctuation">,</span>\n  <span class="token identifier"><span class="token punctuation">`</span>src_auth<span class="token punctuation">`</span></span> <span class="token keyword">enum</span><span class="token punctuation">(</span><span class="token string">&#39;password&#39;</span><span class="token punctuation">,</span><span class="token string">&#39;kerberos_v5&#39;</span><span class="token punctuation">,</span><span class="token string">&#39;kerberos&#39;</span><span class="token punctuation">,</span><span class="token string">&#39;kerberos_v4&#39;</span><span class="token punctuation">,</span><span class="token string">&#39;gssapi&#39;</span><span class="token punctuation">,</span><span class="token string">&#39;cram-md5&#39;</span><span class="token punctuation">,</span><span class="token string">&#39;otp&#39;</span><span class="token punctuation">,</span><span class="token string">&#39;ntlm&#39;</span><span class="token punctuation">,</span><span class="token string">&#39;msn&#39;</span><span class="token punctuation">,</span><span class="token string">&#39;ssh&#39;</span><span class="token punctuation">,</span><span class="token string">&#39;any&#39;</span><span class="token punctuation">)</span> <span class="token keyword">CHARACTER</span> <span class="token keyword">SET</span> utf8 <span class="token keyword">DEFAULT</span> <span class="token boolean">NULL</span><span class="token punctuation">,</span>\n  <span class="token identifier"><span class="token punctuation">`</span>src_user<span class="token punctuation">`</span></span> <span class="token keyword">varchar</span><span class="token punctuation">(</span><span class="token number">255</span><span class="token punctuation">)</span> <span class="token operator">NOT</span> <span class="token boolean">NULL</span><span class="token punctuation">,</span>\n  <span class="token identifier"><span class="token punctuation">`</span>src_password<span class="token punctuation">`</span></span> <span class="token keyword">varchar</span><span class="token punctuation">(</span><span class="token number">255</span><span class="token punctuation">)</span> <span class="token operator">NOT</span> <span class="token boolean">NULL</span><span class="token punctuation">,</span>\n  <span class="token identifier"><span class="token punctuation">`</span>src_folder<span class="token punctuation">`</span></span> <span class="token keyword">varchar</span><span class="token punctuation">(</span><span class="token number">255</span><span class="token punctuation">)</span> <span class="token operator">NOT</span> <span class="token boolean">NULL</span><span class="token punctuation">,</span>\n  <span class="token identifier"><span class="token punctuation">`</span>poll_time<span class="token punctuation">`</span></span> <span class="token keyword">int</span><span class="token punctuation">(</span><span class="token number">11</span><span class="token punctuation">)</span> <span class="token keyword">unsigned</span> <span class="token operator">NOT</span> <span class="token boolean">NULL</span> <span class="token keyword">DEFAULT</span> <span class="token string">&#39;10&#39;</span><span class="token punctuation">,</span>\n  <span class="token identifier"><span class="token punctuation">`</span>fetchall<span class="token punctuation">`</span></span> <span class="token keyword">tinyint</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token keyword">unsigned</span> <span class="token operator">NOT</span> <span class="token boolean">NULL</span> <span class="token keyword">DEFAULT</span> <span class="token string">&#39;0&#39;</span><span class="token punctuation">,</span>\n  <span class="token identifier"><span class="token punctuation">`</span>keep<span class="token punctuation">`</span></span> <span class="token keyword">tinyint</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token keyword">unsigned</span> <span class="token operator">NOT</span> <span class="token boolean">NULL</span> <span class="token keyword">DEFAULT</span> <span class="token string">&#39;0&#39;</span><span class="token punctuation">,</span>\n  <span class="token identifier"><span class="token punctuation">`</span>protocol<span class="token punctuation">`</span></span> <span class="token keyword">enum</span><span class="token punctuation">(</span><span class="token string">&#39;POP3&#39;</span><span class="token punctuation">,</span><span class="token string">&#39;IMAP&#39;</span><span class="token punctuation">,</span><span class="token string">&#39;POP2&#39;</span><span class="token punctuation">,</span><span class="token string">&#39;ETRN&#39;</span><span class="token punctuation">,</span><span class="token string">&#39;AUTO&#39;</span><span class="token punctuation">)</span> <span class="token keyword">CHARACTER</span> <span class="token keyword">SET</span> utf8 <span class="token keyword">DEFAULT</span> <span class="token boolean">NULL</span><span class="token punctuation">,</span>\n  <span class="token identifier"><span class="token punctuation">`</span>usessl<span class="token punctuation">`</span></span> <span class="token keyword">tinyint</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token keyword">unsigned</span> <span class="token operator">NOT</span> <span class="token boolean">NULL</span> <span class="token keyword">DEFAULT</span> <span class="token string">&#39;0&#39;</span><span class="token punctuation">,</span>\n  <span class="token identifier"><span class="token punctuation">`</span>sslcertck<span class="token punctuation">`</span></span> <span class="token keyword">tinyint</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token operator">NOT</span> <span class="token boolean">NULL</span> <span class="token keyword">DEFAULT</span> <span class="token string">&#39;0&#39;</span><span class="token punctuation">,</span>\n  <span class="token identifier"><span class="token punctuation">`</span>sslcertpath<span class="token punctuation">`</span></span> <span class="token keyword">varchar</span><span class="token punctuation">(</span><span class="token number">255</span><span class="token punctuation">)</span> <span class="token keyword">CHARACTER</span> <span class="token keyword">SET</span> utf8 <span class="token keyword">DEFAULT</span> <span class="token string">&#39;&#39;</span><span class="token punctuation">,</span>\n  <span class="token identifier"><span class="token punctuation">`</span>sslfingerprint<span class="token punctuation">`</span></span> <span class="token keyword">varchar</span><span class="token punctuation">(</span><span class="token number">255</span><span class="token punctuation">)</span> <span class="token keyword">DEFAULT</span> <span class="token string">&#39;&#39;</span><span class="token punctuation">,</span>\n  <span class="token identifier"><span class="token punctuation">`</span>extra_options<span class="token punctuation">`</span></span> <span class="token keyword">text</span><span class="token punctuation">,</span>\n  <span class="token identifier"><span class="token punctuation">`</span>returned_text<span class="token punctuation">`</span></span> <span class="token keyword">text</span><span class="token punctuation">,</span>\n  <span class="token identifier"><span class="token punctuation">`</span>mda<span class="token punctuation">`</span></span> <span class="token keyword">varchar</span><span class="token punctuation">(</span><span class="token number">255</span><span class="token punctuation">)</span> <span class="token operator">NOT</span> <span class="token boolean">NULL</span><span class="token punctuation">,</span>\n  <span class="token identifier"><span class="token punctuation">`</span>date<span class="token punctuation">`</span></span> <span class="token keyword">timestamp</span> <span class="token operator">NOT</span> <span class="token boolean">NULL</span> <span class="token keyword">DEFAULT</span> <span class="token string">&#39;2000-01-01 00:00:00&#39;</span><span class="token punctuation">,</span>\n  <span class="token identifier"><span class="token punctuation">`</span>created<span class="token punctuation">`</span></span> <span class="token keyword">timestamp</span> <span class="token operator">NOT</span> <span class="token boolean">NULL</span> <span class="token keyword">DEFAULT</span> <span class="token string">&#39;2000-01-01 00:00:00&#39;</span><span class="token punctuation">,</span>\n  <span class="token identifier"><span class="token punctuation">`</span>modified<span class="token punctuation">`</span></span> <span class="token keyword">timestamp</span> <span class="token operator">NOT</span> <span class="token boolean">NULL</span> <span class="token keyword">DEFAULT</span> <span class="token keyword">CURRENT_TIMESTAMP</span><span class="token punctuation">,</span>\n  <span class="token identifier"><span class="token punctuation">`</span>active<span class="token punctuation">`</span></span> <span class="token keyword">tinyint</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token operator">NOT</span> <span class="token boolean">NULL</span> <span class="token keyword">DEFAULT</span> <span class="token string">&#39;0&#39;</span><span class="token punctuation">,</span>\n  <span class="token keyword">PRIMARY</span> <span class="token keyword">KEY</span> <span class="token punctuation">(</span><span class="token identifier"><span class="token punctuation">`</span>id<span class="token punctuation">`</span></span><span class="token punctuation">)</span>\n<span class="token punctuation">)</span> <span class="token keyword">ENGINE</span><span class="token operator">=</span><span class="token keyword">InnoDB</span> <span class="token keyword">DEFAULT</span> <span class="token keyword">CHARSET</span><span class="token operator">=</span>latin1<span class="token punctuation">;</span>\n\n<span class="token comment">/*Data for the table `fetchmail` */</span>\n\n<span class="token comment">/*Table structure for table `log` */</span>\n\n<span class="token keyword">DROP</span> <span class="token keyword">TABLE</span> <span class="token keyword">IF</span> <span class="token keyword">EXISTS</span> <span class="token identifier"><span class="token punctuation">`</span>log<span class="token punctuation">`</span></span><span class="token punctuation">;</span>\n\n<span class="token keyword">CREATE</span> <span class="token keyword">TABLE</span> <span class="token identifier"><span class="token punctuation">`</span>log<span class="token punctuation">`</span></span> <span class="token punctuation">(</span>\n  <span class="token identifier"><span class="token punctuation">`</span>timestamp<span class="token punctuation">`</span></span> <span class="token keyword">datetime</span> <span class="token operator">NOT</span> <span class="token boolean">NULL</span> <span class="token keyword">DEFAULT</span> <span class="token string">&#39;2000-01-01 00:00:00&#39;</span><span class="token punctuation">,</span>\n  <span class="token identifier"><span class="token punctuation">`</span>username<span class="token punctuation">`</span></span> <span class="token keyword">varchar</span><span class="token punctuation">(</span><span class="token number">255</span><span class="token punctuation">)</span> <span class="token operator">NOT</span> <span class="token boolean">NULL</span><span class="token punctuation">,</span>\n  <span class="token identifier"><span class="token punctuation">`</span>domain<span class="token punctuation">`</span></span> <span class="token keyword">varchar</span><span class="token punctuation">(</span><span class="token number">255</span><span class="token punctuation">)</span> <span class="token operator">NOT</span> <span class="token boolean">NULL</span><span class="token punctuation">,</span>\n  <span class="token identifier"><span class="token punctuation">`</span>action<span class="token punctuation">`</span></span> <span class="token keyword">varchar</span><span class="token punctuation">(</span><span class="token number">255</span><span class="token punctuation">)</span> <span class="token operator">NOT</span> <span class="token boolean">NULL</span><span class="token punctuation">,</span>\n  <span class="token identifier"><span class="token punctuation">`</span>data<span class="token punctuation">`</span></span> <span class="token keyword">text</span> <span class="token operator">NOT</span> <span class="token boolean">NULL</span><span class="token punctuation">,</span>\n  <span class="token keyword">KEY</span> <span class="token identifier"><span class="token punctuation">`</span>timestamp<span class="token punctuation">`</span></span> <span class="token punctuation">(</span><span class="token identifier"><span class="token punctuation">`</span>timestamp<span class="token punctuation">`</span></span><span class="token punctuation">)</span><span class="token punctuation">,</span>\n  <span class="token keyword">KEY</span> <span class="token identifier"><span class="token punctuation">`</span>domain_timestamp<span class="token punctuation">`</span></span> <span class="token punctuation">(</span><span class="token identifier"><span class="token punctuation">`</span>domain<span class="token punctuation">`</span></span><span class="token punctuation">,</span><span class="token identifier"><span class="token punctuation">`</span>timestamp<span class="token punctuation">`</span></span><span class="token punctuation">)</span>\n<span class="token punctuation">)</span> <span class="token keyword">ENGINE</span><span class="token operator">=</span>MyISAM <span class="token keyword">DEFAULT</span> <span class="token keyword">CHARSET</span><span class="token operator">=</span>latin1 <span class="token keyword">COMMENT</span><span class="token operator">=</span><span class="token string">&#39;Postfix Admin - Log&#39;</span><span class="token punctuation">;</span>\n\n<span class="token comment">/*Data for the table `log` */</span>\n\n<span class="token keyword">insert</span>  <span class="token keyword">into</span> <span class="token identifier"><span class="token punctuation">`</span>log<span class="token punctuation">`</span></span><span class="token punctuation">(</span><span class="token identifier"><span class="token punctuation">`</span>timestamp<span class="token punctuation">`</span></span><span class="token punctuation">,</span><span class="token identifier"><span class="token punctuation">`</span>username<span class="token punctuation">`</span></span><span class="token punctuation">,</span><span class="token identifier"><span class="token punctuation">`</span>domain<span class="token punctuation">`</span></span><span class="token punctuation">,</span><span class="token identifier"><span class="token punctuation">`</span>action<span class="token punctuation">`</span></span><span class="token punctuation">,</span><span class="token identifier"><span class="token punctuation">`</span>data<span class="token punctuation">`</span></span><span class="token punctuation">)</span> <span class="token keyword">values</span> \n<span class="token punctuation">(</span><span class="token string">&#39;2023-07-14 16:20:05&#39;</span><span class="token punctuation">,</span><span class="token string">&#39;cs@cs.com (172.16.10.1)&#39;</span><span class="token punctuation">,</span><span class="token string">&#39;cs.com&#39;</span><span class="token punctuation">,</span><span class="token string">&#39;create_alias&#39;</span><span class="token punctuation">,</span><span class="token string">&#39;cs@cs.com&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n\n<span class="token comment">/*Table structure for table `mailbox` */</span>\n\n<span class="token keyword">DROP</span> <span class="token keyword">TABLE</span> <span class="token keyword">IF</span> <span class="token keyword">EXISTS</span> <span class="token identifier"><span class="token punctuation">`</span>mailbox<span class="token punctuation">`</span></span><span class="token punctuation">;</span>\n\n<span class="token keyword">CREATE</span> <span class="token keyword">TABLE</span> <span class="token identifier"><span class="token punctuation">`</span>mailbox<span class="token punctuation">`</span></span> <span class="token punctuation">(</span>\n  <span class="token identifier"><span class="token punctuation">`</span>username<span class="token punctuation">`</span></span> <span class="token keyword">varchar</span><span class="token punctuation">(</span><span class="token number">255</span><span class="token punctuation">)</span> <span class="token operator">NOT</span> <span class="token boolean">NULL</span><span class="token punctuation">,</span>\n  <span class="token identifier"><span class="token punctuation">`</span>password<span class="token punctuation">`</span></span> <span class="token keyword">varchar</span><span class="token punctuation">(</span><span class="token number">255</span><span class="token punctuation">)</span> <span class="token operator">NOT</span> <span class="token boolean">NULL</span><span class="token punctuation">,</span>\n  <span class="token identifier"><span class="token punctuation">`</span>name<span class="token punctuation">`</span></span> <span class="token keyword">varchar</span><span class="token punctuation">(</span><span class="token number">255</span><span class="token punctuation">)</span> <span class="token keyword">CHARACTER</span> <span class="token keyword">SET</span> utf8 <span class="token operator">NOT</span> <span class="token boolean">NULL</span><span class="token punctuation">,</span>\n  <span class="token identifier"><span class="token punctuation">`</span>maildir<span class="token punctuation">`</span></span> <span class="token keyword">varchar</span><span class="token punctuation">(</span><span class="token number">255</span><span class="token punctuation">)</span> <span class="token operator">NOT</span> <span class="token boolean">NULL</span><span class="token punctuation">,</span>\n  <span class="token identifier"><span class="token punctuation">`</span>quota<span class="token punctuation">`</span></span> <span class="token keyword">bigint</span><span class="token punctuation">(</span><span class="token number">20</span><span class="token punctuation">)</span> <span class="token operator">NOT</span> <span class="token boolean">NULL</span> <span class="token keyword">DEFAULT</span> <span class="token string">&#39;0&#39;</span><span class="token punctuation">,</span>\n  <span class="token identifier"><span class="token punctuation">`</span>local_part<span class="token punctuation">`</span></span> <span class="token keyword">varchar</span><span class="token punctuation">(</span><span class="token number">255</span><span class="token punctuation">)</span> <span class="token operator">NOT</span> <span class="token boolean">NULL</span><span class="token punctuation">,</span>\n  <span class="token identifier"><span class="token punctuation">`</span>domain<span class="token punctuation">`</span></span> <span class="token keyword">varchar</span><span class="token punctuation">(</span><span class="token number">255</span><span class="token punctuation">)</span> <span class="token operator">NOT</span> <span class="token boolean">NULL</span><span class="token punctuation">,</span>\n  <span class="token identifier"><span class="token punctuation">`</span>created<span class="token punctuation">`</span></span> <span class="token keyword">datetime</span> <span class="token operator">NOT</span> <span class="token boolean">NULL</span> <span class="token keyword">DEFAULT</span> <span class="token string">&#39;2000-01-01 00:00:00&#39;</span><span class="token punctuation">,</span>\n  <span class="token identifier"><span class="token punctuation">`</span>modified<span class="token punctuation">`</span></span> <span class="token keyword">datetime</span> <span class="token operator">NOT</span> <span class="token boolean">NULL</span> <span class="token keyword">DEFAULT</span> <span class="token string">&#39;2000-01-01 00:00:00&#39;</span><span class="token punctuation">,</span>\n  <span class="token identifier"><span class="token punctuation">`</span>active<span class="token punctuation">`</span></span> <span class="token keyword">tinyint</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token operator">NOT</span> <span class="token boolean">NULL</span> <span class="token keyword">DEFAULT</span> <span class="token string">&#39;1&#39;</span><span class="token punctuation">,</span>\n  <span class="token keyword">PRIMARY</span> <span class="token keyword">KEY</span> <span class="token punctuation">(</span><span class="token identifier"><span class="token punctuation">`</span>username<span class="token punctuation">`</span></span><span class="token punctuation">)</span><span class="token punctuation">,</span>\n  <span class="token keyword">KEY</span> <span class="token identifier"><span class="token punctuation">`</span>domain<span class="token punctuation">`</span></span> <span class="token punctuation">(</span><span class="token identifier"><span class="token punctuation">`</span>domain<span class="token punctuation">`</span></span><span class="token punctuation">)</span>\n<span class="token punctuation">)</span> <span class="token keyword">ENGINE</span><span class="token operator">=</span>MyISAM <span class="token keyword">DEFAULT</span> <span class="token keyword">CHARSET</span><span class="token operator">=</span>latin1 <span class="token keyword">COMMENT</span><span class="token operator">=</span><span class="token string">&#39;Postfix Admin - Virtual Mailboxes&#39;</span><span class="token punctuation">;</span>\n\n<span class="token comment">/*Data for the table `mailbox` */</span>\n\n<span class="token keyword">insert</span>  <span class="token keyword">into</span> <span class="token identifier"><span class="token punctuation">`</span>mailbox<span class="token punctuation">`</span></span><span class="token punctuation">(</span><span class="token identifier"><span class="token punctuation">`</span>username<span class="token punctuation">`</span></span><span class="token punctuation">,</span><span class="token identifier"><span class="token punctuation">`</span>password<span class="token punctuation">`</span></span><span class="token punctuation">,</span><span class="token identifier"><span class="token punctuation">`</span>name<span class="token punctuation">`</span></span><span class="token punctuation">,</span><span class="token identifier"><span class="token punctuation">`</span>maildir<span class="token punctuation">`</span></span><span class="token punctuation">,</span><span class="token identifier"><span class="token punctuation">`</span>quota<span class="token punctuation">`</span></span><span class="token punctuation">,</span><span class="token identifier"><span class="token punctuation">`</span>local_part<span class="token punctuation">`</span></span><span class="token punctuation">,</span><span class="token identifier"><span class="token punctuation">`</span>domain<span class="token punctuation">`</span></span><span class="token punctuation">,</span><span class="token identifier"><span class="token punctuation">`</span>created<span class="token punctuation">`</span></span><span class="token punctuation">,</span><span class="token identifier"><span class="token punctuation">`</span>modified<span class="token punctuation">`</span></span><span class="token punctuation">,</span><span class="token identifier"><span class="token punctuation">`</span>active<span class="token punctuation">`</span></span><span class="token punctuation">)</span> <span class="token keyword">values</span> \n<span class="token punctuation">(</span><span class="token string">&#39;cs@cs.com&#39;</span><span class="token punctuation">,</span><span class="token string">&#39;123123&#39;</span><span class="token punctuation">,</span><span class="token string">&#39;æµ‹è¯•&#39;</span><span class="token punctuation">,</span><span class="token string">&#39;cs.com/cs/&#39;</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token string">&#39;cs&#39;</span><span class="token punctuation">,</span><span class="token string">&#39;cs.com&#39;</span><span class="token punctuation">,</span><span class="token string">&#39;2023-07-14 16:20:05&#39;</span><span class="token punctuation">,</span><span class="token string">&#39;2023-07-14 16:20:05&#39;</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n\n<span class="token comment">/*Table structure for table `quota` */</span>\n\n<span class="token keyword">DROP</span> <span class="token keyword">TABLE</span> <span class="token keyword">IF</span> <span class="token keyword">EXISTS</span> <span class="token identifier"><span class="token punctuation">`</span>quota<span class="token punctuation">`</span></span><span class="token punctuation">;</span>\n\n<span class="token keyword">CREATE</span> <span class="token keyword">TABLE</span> <span class="token identifier"><span class="token punctuation">`</span>quota<span class="token punctuation">`</span></span> <span class="token punctuation">(</span>\n  <span class="token identifier"><span class="token punctuation">`</span>username<span class="token punctuation">`</span></span> <span class="token keyword">varchar</span><span class="token punctuation">(</span><span class="token number">255</span><span class="token punctuation">)</span> <span class="token keyword">CHARACTER</span> <span class="token keyword">SET</span> latin1 <span class="token operator">NOT</span> <span class="token boolean">NULL</span><span class="token punctuation">,</span>\n  <span class="token identifier"><span class="token punctuation">`</span>path<span class="token punctuation">`</span></span> <span class="token keyword">varchar</span><span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">)</span> <span class="token keyword">CHARACTER</span> <span class="token keyword">SET</span> latin1 <span class="token operator">NOT</span> <span class="token boolean">NULL</span><span class="token punctuation">,</span>\n  <span class="token identifier"><span class="token punctuation">`</span>current<span class="token punctuation">`</span></span> <span class="token keyword">bigint</span><span class="token punctuation">(</span><span class="token number">20</span><span class="token punctuation">)</span> <span class="token operator">NOT</span> <span class="token boolean">NULL</span> <span class="token keyword">DEFAULT</span> <span class="token string">&#39;0&#39;</span><span class="token punctuation">,</span>\n  <span class="token keyword">PRIMARY</span> <span class="token keyword">KEY</span> <span class="token punctuation">(</span><span class="token identifier"><span class="token punctuation">`</span>username<span class="token punctuation">`</span></span><span class="token punctuation">,</span><span class="token identifier"><span class="token punctuation">`</span>path<span class="token punctuation">`</span></span><span class="token punctuation">)</span>\n<span class="token punctuation">)</span> <span class="token keyword">ENGINE</span><span class="token operator">=</span>MyISAM <span class="token keyword">DEFAULT</span> <span class="token keyword">CHARSET</span><span class="token operator">=</span>utf8<span class="token punctuation">;</span>\n\n<span class="token comment">/*Data for the table `quota` */</span>\n\n<span class="token comment">/*Table structure for table `quota2` */</span>\n\n<span class="token keyword">DROP</span> <span class="token keyword">TABLE</span> <span class="token keyword">IF</span> <span class="token keyword">EXISTS</span> <span class="token identifier"><span class="token punctuation">`</span>quota2<span class="token punctuation">`</span></span><span class="token punctuation">;</span>\n\n<span class="token keyword">CREATE</span> <span class="token keyword">TABLE</span> <span class="token identifier"><span class="token punctuation">`</span>quota2<span class="token punctuation">`</span></span> <span class="token punctuation">(</span>\n  <span class="token identifier"><span class="token punctuation">`</span>username<span class="token punctuation">`</span></span> <span class="token keyword">varchar</span><span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">)</span> <span class="token keyword">CHARACTER</span> <span class="token keyword">SET</span> latin1 <span class="token operator">NOT</span> <span class="token boolean">NULL</span><span class="token punctuation">,</span>\n  <span class="token identifier"><span class="token punctuation">`</span>bytes<span class="token punctuation">`</span></span> <span class="token keyword">bigint</span><span class="token punctuation">(</span><span class="token number">20</span><span class="token punctuation">)</span> <span class="token operator">NOT</span> <span class="token boolean">NULL</span> <span class="token keyword">DEFAULT</span> <span class="token string">&#39;0&#39;</span><span class="token punctuation">,</span>\n  <span class="token identifier"><span class="token punctuation">`</span>messages<span class="token punctuation">`</span></span> <span class="token keyword">int</span><span class="token punctuation">(</span><span class="token number">11</span><span class="token punctuation">)</span> <span class="token operator">NOT</span> <span class="token boolean">NULL</span> <span class="token keyword">DEFAULT</span> <span class="token string">&#39;0&#39;</span><span class="token punctuation">,</span>\n  <span class="token keyword">PRIMARY</span> <span class="token keyword">KEY</span> <span class="token punctuation">(</span><span class="token identifier"><span class="token punctuation">`</span>username<span class="token punctuation">`</span></span><span class="token punctuation">)</span>\n<span class="token punctuation">)</span> <span class="token keyword">ENGINE</span><span class="token operator">=</span>MyISAM <span class="token keyword">DEFAULT</span> <span class="token keyword">CHARSET</span><span class="token operator">=</span>utf8<span class="token punctuation">;</span>\n\n<span class="token comment">/*Data for the table `quota2` */</span>\n\n<span class="token comment">/*Table structure for table `vacation` */</span>\n\n<span class="token keyword">DROP</span> <span class="token keyword">TABLE</span> <span class="token keyword">IF</span> <span class="token keyword">EXISTS</span> <span class="token identifier"><span class="token punctuation">`</span>vacation<span class="token punctuation">`</span></span><span class="token punctuation">;</span>\n\n<span class="token keyword">CREATE</span> <span class="token keyword">TABLE</span> <span class="token identifier"><span class="token punctuation">`</span>vacation<span class="token punctuation">`</span></span> <span class="token punctuation">(</span>\n  <span class="token identifier"><span class="token punctuation">`</span>email<span class="token punctuation">`</span></span> <span class="token keyword">varchar</span><span class="token punctuation">(</span><span class="token number">255</span><span class="token punctuation">)</span> <span class="token operator">NOT</span> <span class="token boolean">NULL</span><span class="token punctuation">,</span>\n  <span class="token identifier"><span class="token punctuation">`</span>subject<span class="token punctuation">`</span></span> <span class="token keyword">varchar</span><span class="token punctuation">(</span><span class="token number">255</span><span class="token punctuation">)</span> <span class="token keyword">CHARACTER</span> <span class="token keyword">SET</span> utf8 <span class="token operator">NOT</span> <span class="token boolean">NULL</span><span class="token punctuation">,</span>\n  <span class="token identifier"><span class="token punctuation">`</span>body<span class="token punctuation">`</span></span> <span class="token keyword">text</span> <span class="token keyword">CHARACTER</span> <span class="token keyword">SET</span> utf8 <span class="token operator">NOT</span> <span class="token boolean">NULL</span><span class="token punctuation">,</span>\n  <span class="token identifier"><span class="token punctuation">`</span>activefrom<span class="token punctuation">`</span></span> <span class="token keyword">timestamp</span> <span class="token operator">NOT</span> <span class="token boolean">NULL</span> <span class="token keyword">DEFAULT</span> <span class="token string">&#39;2000-01-01 00:00:00&#39;</span><span class="token punctuation">,</span>\n  <span class="token identifier"><span class="token punctuation">`</span>activeuntil<span class="token punctuation">`</span></span> <span class="token keyword">timestamp</span> <span class="token operator">NOT</span> <span class="token boolean">NULL</span> <span class="token keyword">DEFAULT</span> <span class="token string">&#39;2000-01-01 00:00:00&#39;</span><span class="token punctuation">,</span>\n  <span class="token identifier"><span class="token punctuation">`</span>cache<span class="token punctuation">`</span></span> <span class="token keyword">text</span> <span class="token operator">NOT</span> <span class="token boolean">NULL</span><span class="token punctuation">,</span>\n  <span class="token identifier"><span class="token punctuation">`</span>domain<span class="token punctuation">`</span></span> <span class="token keyword">varchar</span><span class="token punctuation">(</span><span class="token number">255</span><span class="token punctuation">)</span> <span class="token operator">NOT</span> <span class="token boolean">NULL</span><span class="token punctuation">,</span>\n  <span class="token identifier"><span class="token punctuation">`</span>interval_time<span class="token punctuation">`</span></span> <span class="token keyword">int</span><span class="token punctuation">(</span><span class="token number">11</span><span class="token punctuation">)</span> <span class="token operator">NOT</span> <span class="token boolean">NULL</span> <span class="token keyword">DEFAULT</span> <span class="token string">&#39;0&#39;</span><span class="token punctuation">,</span>\n  <span class="token identifier"><span class="token punctuation">`</span>created<span class="token punctuation">`</span></span> <span class="token keyword">datetime</span> <span class="token operator">NOT</span> <span class="token boolean">NULL</span> <span class="token keyword">DEFAULT</span> <span class="token string">&#39;2000-01-01 00:00:00&#39;</span><span class="token punctuation">,</span>\n  <span class="token identifier"><span class="token punctuation">`</span>modified<span class="token punctuation">`</span></span> <span class="token keyword">timestamp</span> <span class="token operator">NOT</span> <span class="token boolean">NULL</span> <span class="token keyword">DEFAULT</span> <span class="token keyword">CURRENT_TIMESTAMP</span><span class="token punctuation">,</span>\n  <span class="token identifier"><span class="token punctuation">`</span>active<span class="token punctuation">`</span></span> <span class="token keyword">tinyint</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token operator">NOT</span> <span class="token boolean">NULL</span> <span class="token keyword">DEFAULT</span> <span class="token string">&#39;1&#39;</span><span class="token punctuation">,</span>\n  <span class="token keyword">PRIMARY</span> <span class="token keyword">KEY</span> <span class="token punctuation">(</span><span class="token identifier"><span class="token punctuation">`</span>email<span class="token punctuation">`</span></span><span class="token punctuation">)</span><span class="token punctuation">,</span>\n  <span class="token keyword">KEY</span> <span class="token identifier"><span class="token punctuation">`</span>email<span class="token punctuation">`</span></span> <span class="token punctuation">(</span><span class="token identifier"><span class="token punctuation">`</span>email<span class="token punctuation">`</span></span><span class="token punctuation">)</span>\n<span class="token punctuation">)</span> <span class="token keyword">ENGINE</span><span class="token operator">=</span><span class="token keyword">InnoDB</span> <span class="token keyword">DEFAULT</span> <span class="token keyword">CHARSET</span><span class="token operator">=</span>latin1 <span class="token keyword">COMMENT</span><span class="token operator">=</span><span class="token string">&#39;Postfix Admin - Virtual Vacation&#39;</span><span class="token punctuation">;</span>\n\n<span class="token comment">/*Data for the table `vacation` */</span>\n\n<span class="token comment">/*Table structure for table `vacation_notification` */</span>\n\n<span class="token keyword">DROP</span> <span class="token keyword">TABLE</span> <span class="token keyword">IF</span> <span class="token keyword">EXISTS</span> <span class="token identifier"><span class="token punctuation">`</span>vacation_notification<span class="token punctuation">`</span></span><span class="token punctuation">;</span>\n\n<span class="token keyword">CREATE</span> <span class="token keyword">TABLE</span> <span class="token identifier"><span class="token punctuation">`</span>vacation_notification<span class="token punctuation">`</span></span> <span class="token punctuation">(</span>\n  <span class="token identifier"><span class="token punctuation">`</span>on_vacation<span class="token punctuation">`</span></span> <span class="token keyword">varchar</span><span class="token punctuation">(</span><span class="token number">255</span><span class="token punctuation">)</span> <span class="token keyword">CHARACTER</span> <span class="token keyword">SET</span> latin1 <span class="token operator">NOT</span> <span class="token boolean">NULL</span><span class="token punctuation">,</span>\n  <span class="token identifier"><span class="token punctuation">`</span>notified<span class="token punctuation">`</span></span> <span class="token keyword">varchar</span><span class="token punctuation">(</span><span class="token number">255</span><span class="token punctuation">)</span> <span class="token keyword">CHARACTER</span> <span class="token keyword">SET</span> latin1 <span class="token operator">NOT</span> <span class="token boolean">NULL</span> <span class="token keyword">DEFAULT</span> <span class="token string">&#39;&#39;</span><span class="token punctuation">,</span>\n  <span class="token identifier"><span class="token punctuation">`</span>notified_at<span class="token punctuation">`</span></span> <span class="token keyword">timestamp</span> <span class="token operator">NOT</span> <span class="token boolean">NULL</span> <span class="token keyword">DEFAULT</span> <span class="token keyword">CURRENT_TIMESTAMP</span><span class="token punctuation">,</span>\n  <span class="token keyword">PRIMARY</span> <span class="token keyword">KEY</span> <span class="token punctuation">(</span><span class="token identifier"><span class="token punctuation">`</span>on_vacation<span class="token punctuation">`</span></span><span class="token punctuation">,</span><span class="token identifier"><span class="token punctuation">`</span>notified<span class="token punctuation">`</span></span><span class="token punctuation">)</span><span class="token punctuation">,</span>\n  <span class="token keyword">CONSTRAINT</span> <span class="token identifier"><span class="token punctuation">`</span>vacation_notification_pkey<span class="token punctuation">`</span></span> <span class="token keyword">FOREIGN</span> <span class="token keyword">KEY</span> <span class="token punctuation">(</span><span class="token identifier"><span class="token punctuation">`</span>on_vacation<span class="token punctuation">`</span></span><span class="token punctuation">)</span> <span class="token keyword">REFERENCES</span> <span class="token identifier"><span class="token punctuation">`</span>vacation<span class="token punctuation">`</span></span> <span class="token punctuation">(</span><span class="token identifier"><span class="token punctuation">`</span>email<span class="token punctuation">`</span></span><span class="token punctuation">)</span> <span class="token keyword">ON</span> <span class="token keyword">DELETE</span> <span class="token keyword">CASCADE</span>\n<span class="token punctuation">)</span> <span class="token keyword">ENGINE</span><span class="token operator">=</span><span class="token keyword">InnoDB</span> <span class="token keyword">DEFAULT</span> <span class="token keyword">CHARSET</span><span class="token operator">=</span>utf8 <span class="token keyword">COMMENT</span><span class="token operator">=</span><span class="token string">&#39;Postfix Admin - Virtual Vacation Notifications&#39;</span><span class="token punctuation">;</span>\n\n<span class="token comment">/*Data for the table `vacation_notification` */</span>\n\n<span class="token comment">/*!40101 SET SQL_MODE=@OLD_SQL_MODE */</span><span class="token punctuation">;</span>\n<span class="token comment">/*!40014 SET FOREIGN_KEY_CHECKS=@OLD_FOREIGN_KEY_CHECKS */</span><span class="token punctuation">;</span>\n<span class="token comment">/*!40014 SET UNIQUE_CHECKS=@OLD_UNIQUE_CHECKS */</span><span class="token punctuation">;</span>\n<span class="token comment">/*!40111 SET SQL_NOTES=@OLD_SQL_NOTES */</span><span class="token punctuation">;</span>\n</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>æ·»åŠ æ–°ç”¨æˆ·éƒ½æ·»åŠ åˆ°mailboxè¡¨ä¸­å³å¯ï¼›<br> å­—æ®µè§£æï¼š</p><table><thead><tr><th>username</th><th>password</th><th>name</th><th>maildir</th><th>quota</th><th>local_part</th><th>domain</th><th>created</th><th>modified</th><th>active</th></tr></thead><tbody><tr><td>ç”¨æˆ·é‚®ç®±åœ°å€</td><td>ç”¨æˆ·é‚®ç®±å¯†ç </td><td>ç”¨æˆ·å</td><td>ç”¨æˆ·æ•°æ®å­˜å‚¨è·¯å¾„ï¼ˆæœåŠ¡å™¨ä¸Šï¼‰</td><td>é‚®ä»¶å¤§å°é™åˆ¶ï¼ˆ0ä¸ºä¸é™åˆ¶ï¼Œå•ä½ä¸º KBï¼‰</td><td>ç”¨æˆ·é‚®ç®±å¤´éƒ¨</td><td>æ‰€å±åŸŸ</td><td>åˆ›å»ºæ—¶é—´</td><td>ä¿®æ”¹æ—¶é—´</td><td>æ˜¯å¦æ¿€æ´»</td></tr></tbody></table><p>å­—æ®µå®ä¾‹ï¼š</p>',48),M=n("thead",null,[n("tr",null,[n("th",null,"username"),n("th",null,"password"),n("th",null,"name"),n("th",null,"maildir"),n("th",null,"quota"),n("th",null,"local_part"),n("th",null,"domain"),n("th",null,"created"),n("th",null,"modified"),n("th",null,"active")])],-1),H=n("td",null,[n("a",{href:"mailto:cs@cs.com"},"cs@cs.com")],-1),P=n("td",null,"123123",-1),K=n("td",null,"æµ‹è¯•ç”¨æˆ·",-1),B={href:"http://cs.com/cs",target:"_blank",rel:"noopener noreferrer"},Y=n("td",null,"0",-1),j=n("td",null,"cs",-1),z={href:"http://cs.com",target:"_blank",rel:"noopener noreferrer"},$=n("td",null,"2023-07-21 00:00:00",-1),Q=n("td",null,"2023-07-21 00:00:00",-1),G=n("td",null,"1",-1),X=p(`<h2 id="ä¸‰ã€å®‰è£…åŠé…ç½®-postfix-é‚®å±€" tabindex="-1"><a class="header-anchor" href="#ä¸‰ã€å®‰è£…åŠé…ç½®-postfix-é‚®å±€" aria-hidden="true">#</a> ä¸‰ã€å®‰è£…åŠé…ç½® postfix é‚®å±€</h2><p>1)å®‰è£…</p><blockquote><p>linux æœåŠ¡å™¨ä¸€èˆ¬éƒ½è‡ªå¸¦postfix centOS8 è‡ªå¸¦çš„åº”è¯¥æ˜¯2.10.xå·¦å³çš„ç‰ˆæœ¬ æ­¤æ–‡æ¡£ç›®å‰ä½¿ç”¨çš„æ˜¯ 2.10.1ç‰ˆæœ¬çš„postfix</p></blockquote><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token function">wget</span> <span class="token parameter variable">-P</span> /etc/yum.repos.d https://repos.fedorapeople.org/repos/mstevens/postfix/epel-postfix.repo

yum <span class="token parameter variable">-y</span> <span class="token function">install</span> postfix
<span class="token comment">#æŸ¥çœ‹postfixç‰ˆæœ¬ </span>
postconf <span class="token parameter variable">-d</span> <span class="token operator">|</span> <span class="token function">grep</span> mail_version
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><figure><img src="https://lcy-blog.oss-cn-beijing.aliyuncs.com/blog/202412181616941.png" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><p>å®‰è£…å¥½ä»¥å , å¼€å§‹é…ç½®postfixçš„ä¸»é…ç½®æ–‡ä»¶</p><p>2)é…ç½®</p><p>å…ˆå¤‡ä»½é…ç½®ï¼š</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token function">cp</span> <span class="token parameter variable">-ar</span> /etc/postfix/main.cf /etc/postfix/main.cf-bak
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div>`,9),V=p(`<div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token function">vim</span> /etc/postfix/main.cf

<span class="token comment">#å›ºå®šå†™æ³•</span>
queue_directory <span class="token operator">=</span> /var/spool/postfix
command_directory <span class="token operator">=</span> /usr/sbin
daemon_directory <span class="token operator">=</span> /usr/libexec/postfix
data_directory <span class="token operator">=</span> /var/lib/postfix
mail_owner <span class="token operator">=</span> postfix

<span class="token comment">#é…ç½®è‡ªå·±çš„é‚®ä»¶æœåŠ¡ä¸»æœºåç§°</span>
myhostname <span class="token operator">=</span> mail.cs.com
<span class="token comment">#é…ç½®è‡ªå·±é‚®ä»¶æœåŠ¡å™¨çš„åŸŸå</span>
mydomain <span class="token operator">=</span> cs.com
<span class="token comment">#é…ç½®è‡ªå·±å‘é€é‚®ä»¶ä½¿ç”¨çš„åŸŸå</span>
myorigin <span class="token operator">=</span> <span class="token variable">$mydomain</span>
<span class="token comment">#é…ç½®ç›‘å¬çš„ç«¯å£</span>
inet_interfaces <span class="token operator">=</span> all
<span class="token comment">#é…ç½®è‡ªå·±å¯ä»¥æ”¯æŒæ¥æ”¶çš„æ‰€æœ‰åŸŸå</span>
mydestination <span class="token operator">=</span> <span class="token variable">$myhostname</span>, localhost.<span class="token variable">$mydomain</span>, localhost
<span class="token comment">#è¿™é‡Œè¿™ä¸ªé…ç½®å°±æ˜¯è¿™æ ·ç¼ºçœçš„ æˆ‘ä¹Ÿä¸çŸ¥é“ä¸ºä»€ä¹ˆ</span>
local_recipient_maps <span class="token operator">=</span>
<span class="token comment">#è¿™ä¸ªæ³¨é‡Šæ˜¯ä¸ºäº†å‘Šè¯‰ä½¿ç”¨è€… ä¸‹é¢è¿™ä¸ªå’Œä¸Šé¢è¿™ä¸ªä¸æ˜¯åŒä¸€è¡Œ</span>
unknown_local_recipient_reject_code <span class="token operator">=</span> <span class="token number">550</span>
<span class="token comment">#å›ºå®šå†™æ³•</span>
alias_maps <span class="token operator">=</span> hash:/etc/aliases
alias_database <span class="token operator">=</span> hash:/etc/aliases
debug_peer_level <span class="token operator">=</span> <span class="token number">2</span>
debugger_command <span class="token operator">=</span>
		<span class="token assign-left variable"><span class="token environment constant">PATH</span></span><span class="token operator">=</span>/bin:/usr/bin:/usr/local/bin:/usr/X11R6/bin
		ddd <span class="token variable">$daemon_directory</span>/<span class="token variable">$process_name</span> <span class="token variable">$process_id</span> <span class="token operator">&amp;</span> <span class="token function">sleep</span> <span class="token number">5</span>
sendmail_path <span class="token operator">=</span> /usr/sbin/sendmail.postfix
newaliases_path <span class="token operator">=</span> /usr/bin/newaliases.postfix
mailq_path <span class="token operator">=</span> /usr/bin/mailq.postfix
setgid_group <span class="token operator">=</span> postdrop
html_directory <span class="token operator">=</span> no
manpage_directory <span class="token operator">=</span> /usr/share/man
<span class="token comment">#è¿™é‡Œçš„è¿™ä¸ª postfix-2.10.1 éœ€è¦æ”¹æˆä½ è‡ªå·±çš„ç‰ˆæœ¬ è‡ªå·±æ˜¯ä»€ä¹ˆç‰ˆæœ¬ æ‰§è¡Œ postconf -d | grep mail_version è·å–</span>
sample_directory <span class="token operator">=</span> /usr/share/doc/postfix-2.10.1/samples
readme_directory <span class="token operator">=</span> /usr/share/doc/postfix-2.10.1/README_FILES
<span class="token comment">#å¯ç”¨smtpè®¤è¯</span>
<span class="token comment">#ç¡®å®šä½¿ç”¨dovecot è¿›è¡Œç”¨æˆ·éªŒè¯  ä¸‹é¢éƒ½æ˜¯å›ºå®šå†™æ³•</span>
smtpd_sasl_type <span class="token operator">=</span> dovecot
smtpd_sasl_path <span class="token operator">=</span> /var/spool/postfix/private/auth
smtpd_sasl_auth_enable <span class="token operator">=</span> <span class="token function">yes</span> 
smtpd_sasl_local_domain <span class="token operator">=</span> <span class="token variable">$myhostname</span>
smtpd_sasl_security_options <span class="token operator">=</span> noanonymous
smtpd_client_restrictions <span class="token operator">=</span> permit_sasl_authenticated
<span class="token comment">#smtpd_sasl_application_name = smtpd</span>
broken_sasl_auth_clients <span class="token operator">=</span> <span class="token function">yes</span>
smtpd_recipient_restrictions <span class="token operator">=</span> permit_mynetworks,permit_sasl_authenticated,reject_unauth_destination,reject_unknown_sender_domain
<span class="token comment">#smtpd_sasl_security_restrictions = permit_mynetworks,permit_sasl_authenticated,reject_unauth_destination</span>
proxy_read_maps <span class="token operator">=</span> <span class="token variable">$local_recipient_maps</span> <span class="token variable">$mydestination</span> <span class="token variable">$virtual_alias_domains</span> <span class="token variable">$virtual_mailbox_maps</span> <span class="token variable">$virtual_mailbox_domains</span> <span class="token variable">$relay_recipient_maps</span> <span class="token variable">$relay_domains</span> <span class="token variable">$canonical_maps</span> <span class="token variable">$sender_canonical_maps</span> <span class="token variable">$recipient_canonical_maps</span> <span class="token variable">$relocated_maps</span> <span class="token variable">$transport_maps</span> <span class="token variable">$mynetworks</span>
<span class="token comment">#$virtual_alias_maps</span>
<span class="token comment">#$virtual_mailbox_limit_maps</span>
<span class="token comment">#å¯ç”¨è™šæ‹Ÿç”¨æˆ·</span>
<span class="token comment">#ç¡®å®šè™šæ‹Ÿç”¨æˆ·çš„åŸºç¡€å­˜å‚¨ç›®å½• </span>
virtual_mailbox_base <span class="token operator">=</span> /home/vmail/
<span class="token comment">#è¿™é‡Œé…ç½®è™šæ‹ŸåŸŸ , å› ä¸ºæˆ‘åªéœ€è¦ä½¿ç”¨ä¸€ä¸ªè™šæ‹ŸåŸŸ , å°±æ˜¯å½“å‰ä¸»æœºçš„åŸŸå æ‰€ä»¥å°±ç›´æ¥å†™æ­»äº†</span>
virtual_mailbox_domains <span class="token operator">=</span> <span class="token variable">$mydomain</span>
<span class="token comment">#å¦‚æœä¸æƒ³å†™æ­» å°±ç”¨ä¸‹é¢è¿™ä¸ª </span>
<span class="token comment">#virtual_mailbox_domains = proxy:mysql:/etc/postfix/sql/mysql_virtual_domains_maps.cf</span>
<span class="token comment">#virtual_alias_maps =</span>
<span class="token comment">#	proxy:mysql:/etc/postfix/sql/mysql_virtual_alias_maps.cf,</span>
<span class="token comment">#	proxy:mysql:/etc/postfix/sql/mysql_virtual_alias_domain_maps.cf,</span>
<span class="token comment">#	proxy:mysql:/etc/postfix/sql/mysql_virtual_alias_domain_catchall_maps.cf</span>
virtual_mailbox_maps <span class="token operator">=</span> proxy:mysql:/etc/postfix/sql/mysql_virtual_mailbox_maps.cf
<span class="token comment">#	proxy:mysql:/etc/postfix/sql/mysql_virtual_alias_domain_mailbox_maps.cf</span>
<span class="token comment">#è¿™é‡Œæ˜¯åˆ›å»ºäº†ä¸€ä¸ª å«åšvmail çš„ç”¨æˆ· æ‰‹åŠ¨ç»™å®ƒåˆ’åˆ†çš„gidå’Œuid ä¹‹æ‰€ä»¥å«vmail æ˜¯å› ä¸ºä¸€èˆ¬è™šæ‹Ÿç”¨æˆ·éƒ½æ˜¯æ­é…postfixadmin æ¥ä½¿ç”¨çš„ , è¦ä¸ç„¶ä½ ä¸çŸ¥é“è¡¨ç»“æ„ ä¹Ÿä¸çŸ¥é“è¡¨é‡Œé¢å­˜æ”¾äº›ä»€ä¹ˆæ•°æ® , ä¹‹åæˆ‘ä¼šè´´å‡ºæ¥ , vmailæ˜¯é»˜è®¤é…ç½®é¡¹é‡Œå¸¸ç”¨çš„ç”¨æˆ·</span>
virtual_uid_maps <span class="token operator">=</span> static:5000
virtual_gid_maps <span class="token operator">=</span> static:5000
<span class="token comment">#ä¸‹é¢æ˜¯å›ºå®šå†™æ³•</span>
virtual_transport <span class="token operator">=</span> dovecot
<span class="token comment">#dovecot_destination_recipient_limit = 1</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>å…ˆå¤‡ä»½é…ç½®ï¼š</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token function">cp</span> <span class="token parameter variable">-ar</span> /etc/postfix/master.cf /etc/postfix/master.cf-bak
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>vim /etc/postfix/master.cf</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token comment">#åœ¨æœ«å°¾æ·»åŠ ä¸€è¡Œ</span>
dovecot   unix  -       n       n       -       -       pipe
	<span class="token assign-left variable">flags</span><span class="token operator">=</span>DRhu <span class="token assign-left variable">user</span><span class="token operator">=</span>vmail:vmail <span class="token assign-left variable">argv</span><span class="token operator">=</span>/usr/libexec/dovecot/dovecot-lda <span class="token parameter variable">-f</span> <span class="token variable">\${sender}</span> <span class="token parameter variable">-d</span> <span class="token variable">\${recipient}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div>`,5),W=p(`<div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token comment">#åˆ›å»ºsqlæ–‡ä»¶å¤¹</span>
<span class="token function">mkdir</span> /etc/postfix/sql

<span class="token comment">#åˆ›å»º mysql_virtual_alias_maps.cf æ–‡ä»¶</span>
<span class="token function">vim</span> mysql_virtual_alias_maps.cf
<span class="token comment">#å†…å®¹å¦‚ä¸‹</span>
user <span class="token operator">=</span> root <span class="token comment">#(æ•°æ®åº“ç”¨æˆ·å)</span>
password <span class="token operator">=</span> <span class="token number">123123</span>	<span class="token comment">#(æ•°æ®åº“å¯†ç )</span>
hosts <span class="token operator">=</span> <span class="token number">172.16</span>.10.11:3333	<span class="token comment">#(æ•°æ®åº“åœ°å€åŠç«¯å£å·)</span>
dbname <span class="token operator">=</span> postfix				<span class="token comment">#(æ•°æ®åº“åç§°)</span>
query <span class="token operator">=</span> SELECT goto FROM <span class="token builtin class-name">alias</span> WHERE <span class="token assign-left variable">address</span><span class="token operator">=</span><span class="token string">&#39;%s&#39;</span> AND active <span class="token operator">=</span> <span class="token string">&#39;1&#39;</span>


<span class="token comment">#åˆ›å»º mysql_virtual_alias_domain_catchall_maps.cf æ–‡ä»¶</span>
<span class="token function">vim</span> mysql_virtual_alias_domain_catchall_maps.cf
<span class="token comment">#å†…å®¹å¦‚ä¸‹</span>
user <span class="token operator">=</span> root
password <span class="token operator">=</span> <span class="token number">123123</span>
hosts <span class="token operator">=</span> <span class="token number">172.16</span>.10.11:3333
dbname <span class="token operator">=</span> postfix
query <span class="token operator">=</span> SELECT goto FROM alias,alias_domain WHERE alias_domain.alias_domain <span class="token operator">=</span> <span class="token string">&#39;%d&#39;</span> and alias.address <span class="token operator">=</span> CONCAT<span class="token punctuation">(</span><span class="token string">&#39;@&#39;</span>, alias_domain.target_domain<span class="token punctuation">)</span> AND alias.active <span class="token operator">=</span> <span class="token number">1</span> AND <span class="token assign-left variable">alias_domain.active</span><span class="token operator">=</span><span class="token string">&#39;1&#39;</span>

<span class="token comment">#åˆ›å»º mysql_virtual_alias_domain_mailbox_maps.cf æ–‡ä»¶</span>
<span class="token function">vim</span> mysql_virtual_alias_domain_mailbox_maps.cf
<span class="token comment">#å†…å®¹å¦‚ä¸‹</span>
user <span class="token operator">=</span> root
password <span class="token operator">=</span> <span class="token number">123123</span>
hosts <span class="token operator">=</span> <span class="token number">172.16</span>.10.11:3333
dbname <span class="token operator">=</span> postfix
query <span class="token operator">=</span> SELECT maildir FROM mailbox,alias_domain WHERE alias_domain.alias_domain <span class="token operator">=</span> <span class="token string">&#39;%d&#39;</span> and mailbox.username <span class="token operator">=</span> CONCAT<span class="token punctuation">(</span><span class="token string">&#39;%u&#39;</span>,<span class="token string">&#39;@&#39;</span>,alias_domain.target_domain<span class="token punctuation">)</span> AND mailbox.active <span class="token operator">=</span> <span class="token number">1</span> AND <span class="token assign-left variable">alias_domain.active</span><span class="token operator">=</span><span class="token string">&#39;1&#39;</span><span class="token punctuation">;</span>

<span class="token comment">#åˆ›å»º mysql_virtual_mailbox_maps.cf æ–‡ä»¶</span>
<span class="token function">vim</span> mysql_virtual_mailbox_maps.cf
<span class="token comment">#å†…å®¹å¦‚ä¸‹</span>
user <span class="token operator">=</span> root
password <span class="token operator">=</span> <span class="token number">123123</span>
hosts <span class="token operator">=</span> <span class="token number">172.16</span>.10.11:3333
dbname <span class="token operator">=</span> postfix
query <span class="token operator">=</span> SELECT maildir FROM mailbox WHERE <span class="token assign-left variable">username</span><span class="token operator">=</span><span class="token string">&#39;%s&#39;</span> AND active <span class="token operator">=</span> <span class="token string">&#39;1&#39;</span>

<span class="token comment">#åˆ›å»º mysql_virtual_alias_domain_maps.cf æ–‡ä»¶</span>
<span class="token function">vim</span> mysql_virtual_alias_domain_maps.cf
<span class="token comment">#å†…å®¹å¦‚ä¸‹</span>
user <span class="token operator">=</span> root
password <span class="token operator">=</span> <span class="token number">123123</span>
hosts <span class="token operator">=</span> <span class="token number">172.16</span>.10.11:3333
dbname <span class="token operator">=</span> postfix
query <span class="token operator">=</span> SELECT goto FROM alias,alias_domain WHERE alias_domain.alias_domain <span class="token operator">=</span> <span class="token string">&#39;%d&#39;</span> and alias.address <span class="token operator">=</span> CONCAT<span class="token punctuation">(</span><span class="token string">&#39;%u&#39;</span>, <span class="token string">&#39;@&#39;</span>, alias_domain.target_domain<span class="token punctuation">)</span> AND alias.active <span class="token operator">=</span> <span class="token number">1</span> AND <span class="token assign-left variable">alias_domain.active</span><span class="token operator">=</span><span class="token string">&#39;1&#39;</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>æµ‹è¯•æ˜¯å¦æˆåŠŸé“¾æ¥æ•°æ®åº“ï¼š</p><blockquote><p>å‰æï¼š<br> 1ã€æ•°æ®åº“é‡Œå¿…é¡»æœ‰æ•°æ®ï¼›<br> 2ã€å¦‚æœä½¿ç”¨å‘½ä»¤æ‰§è¡Œæ²¡æœ‰è¿”å›ä»»ä½•ç»“æœï¼Œå¯æŸ¥çœ‹æ–‡ä»¶å¹¶æ‰“å¼€æ•°æ®åº“å»æ‰§è¡Œé‚£æ¡è¯­å¥ï¼Œå¦‚æœæœ‰ä½†æ˜¯é‡Œé¢æ˜¯ç©ºå€¼é‚£å°±æ²¡é—®é¢˜ï¼Œå¦‚æœæ²¡æœ‰å°±æ˜¯å†™é”™äº†ï¼›<br> 3ã€å¿…é¡»å¯¹å¥½æ•°æ®åº“çš„è¿æ¥ç”¨æˆ·åã€å¯†ç ã€æ•°æ®åº“åã€‚</p></blockquote><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code>postmap <span class="token parameter variable">-q</span> cs@cs.com mysql:/etc/postfix/sql/mysql_virtual_alias_maps.cf
postmap <span class="token parameter variable">-q</span> cs@cs.com mysql:/etc/postfix/sql/mysql_virtual_alias_domain_catchall_maps.cf
postmap <span class="token parameter variable">-q</span> cs@cs.com mysql:/etc/postfix/sql/mysql_virtual_alias_domain_mailbox_maps.cf
postmap <span class="token parameter variable">-q</span> cs@cs.com mysql:/etc/postfix/sql/mysql_virtual_mailbox_maps.cf
postmap <span class="token parameter variable">-q</span> cs@cs.com mysql:/etc/postfix/sql/mysql_virtual_alias_domain_maps.cf
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>æµ‹è¯•å®Œä¹‹åæ²¡æœ‰é—®é¢˜å°±å¯ä»¥å¯åŠ¨postfixå•¦ï¼ï¼ï¼</p><p>3)å¯åŠ¨</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code>systemctl restart postfix
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>4)æ—¥å¿—</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code>tailf /var/log/maillog
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h2 id="å››-ã€å®‰è£…åŠé…ç½®-dovecot" tabindex="-1"><a class="header-anchor" href="#å››-ã€å®‰è£…åŠé…ç½®-dovecot" aria-hidden="true">#</a> å›› ã€å®‰è£…åŠé…ç½® dovecot</h2><p>1)å®‰è£… å®‰è£…çš„æ—¶å€™å¿…é¡»è¦ä¿è¯è¿™äº›ç»„ä»¶å…¨éƒ½åœ¨</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code>yum <span class="token parameter variable">-y</span> <span class="token function">install</span> dovecot dovecot-devel dovecot-mysql pam-devel
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>å®‰è£…å®Œå¯ä»¥ä½¿ç”¨rpmå‘½ä»¤çœ‹ä¸€ä¸‹è¿™äº›å®‰è£…åŒ…éƒ½è£…ä¸Šäº†æ²¡ï¼›</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token function">rpm</span> <span class="token parameter variable">-qa</span> <span class="token operator">|</span> <span class="token function">grep</span> dovecot
<span class="token function">rpm</span> <span class="token parameter variable">-qa</span> <span class="token operator">|</span> <span class="token function">grep</span> pam-devel
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><figure><img src="https://lcy-blog.oss-cn-beijing.aliyuncs.com/blog/202412181616617.png" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><p>å¯ä»¥çœ‹åˆ°éƒ½å®‰è£…ä¸Šäº†ï¼›</p><p>2)æŸ¥çœ‹ç‰ˆæœ¬å·</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code>dovecot <span class="token parameter variable">--version</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><figure><img src="https://lcy-blog.oss-cn-beijing.aliyuncs.com/blog/202412181616440.png" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><p>3)é…ç½®</p><p>å…ˆå¤‡ä»½é…ç½®ï¼š</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token function">cp</span> <span class="token parameter variable">-ar</span> /etc/dovecot/dovecot.conf /etc/dovecot/dovecot.conf-bak
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>ç›´æ¥æ¸…ç©ºæ–‡ä»¶å†…å®¹ï¼š<br> vim /etc/dovecot/dovecot.conf</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token comment">#æ”¯æŒpop3 å’Œ imap</span>
protocols <span class="token operator">=</span> imap pop3
<span class="token comment">#æ‰“å¼€ç›‘å¬</span>
listen <span class="token operator">=</span> *
<span class="token comment">#é‚®ä»¶å­˜æ”¾è·¯å¾„ %d è¡¨ç¤ºåŸŸå %nè¡¨ç¤ºç”¨æˆ·å</span>
mail_location <span class="token operator">=</span> maildir:/home/vmail/%d/%n/Maildir
<span class="token operator">!</span>include conf.d/*.conf
<span class="token comment">#å¯†ç éªŒè¯æ–¹å¼  è¿™é‡Œçš„ dovecot-sql.conf.ext ä¹Ÿæ˜¯éœ€è¦åˆ›å»ºçš„</span>
passdb <span class="token punctuation">{</span>
  driver <span class="token operator">=</span> sql
  args <span class="token operator">=</span> /etc/dovecot/dovecot-sql.conf.ext
<span class="token punctuation">}</span>
<span class="token comment">#è¿™é‡Œä½¿ç”¨é™æ€éªŒè¯çš„æ–¹å¼ è¿™é‡Œçš„uid  å’Œ  gid æ˜¯ å¼€å¤´åˆ›å»ºvmail çš„uid å’Œ gid</span>
userdb <span class="token punctuation">{</span>
  driver <span class="token operator">=</span> static
  args <span class="token operator">=</span> <span class="token assign-left variable">uid</span><span class="token operator">=</span><span class="token number">5000</span> <span class="token assign-left variable">gid</span><span class="token operator">=</span><span class="token number">5000</span> <span class="token assign-left variable">home</span><span class="token operator">=</span>/home/vmail/%d/%n
<span class="token punctuation">}</span>
<span class="token operator">!</span>include_try local.conf
<span class="token comment">#è¿™é‡Œå¼€å¯æ—¥å¿— æ–¹ä¾¿æ’æŸ¥é”™è¯¯</span>
<span class="token assign-left variable">auth_debug_passwords</span><span class="token operator">=</span>yes
<span class="token assign-left variable">mail_debug</span><span class="token operator">=</span>yes
<span class="token assign-left variable">auth_verbose</span><span class="token operator">=</span>yes
<span class="token assign-left variable">auth_verbose_passwords</span><span class="token operator">=</span>plain
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>vim /etc/dovecot/conf.d/10-ssl.conf</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token comment">#å…³é—­sslè®¤è¯</span>
ssl <span class="token operator">=</span> no
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><p>é€€å‡ºç¼–è¾‘å™¨åˆ›å»ºdovecotæ—¥å¿—æ–‡ä»¶ï¼š</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token comment">#ç¡®å®šlogçš„ä½ç½® è¿™é‡Œçš„æƒé™å¿…é¡»ç»™ vmail è¦ä¸ç„¶æŠ¥é”™  chown vmail:vmail  info_log_path = /var/log/dovecot_info.log  chown vmail:vmail  info_log_path = /var/log/dovecot_debug.logï¼Œç›®å‰æ²¡æœ‰è¿™ä¸¤ä¸ªæ–‡ä»¶ï¼Œå¯ä»¥å…ˆå»åˆ›å»ºï¼›</span>
<span class="token function">touch</span> /var/log/<span class="token punctuation">{</span>dovecot_info.log,dovecot_debug.log<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><figure><img src="https://lcy-blog.oss-cn-beijing.aliyuncs.com/blog/202412181616000.png" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><p>å°†ä»–ä»¬ä¿®æ”¹ä¸ºvmail:vmail ç”¨æˆ·:ç”¨æˆ·ç»„</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token builtin class-name">cd</span> /var/log/
<span class="token function">chown</span> vmail:vmail dovecot_info.log dovecot_debug.log
<span class="token function">chmod</span> <span class="token number">777</span> dovecot_info.log dovecot_debug.log 
ll <span class="token operator">|</span> <span class="token function">grep</span> dovecot
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><figure><img src="https://lcy-blog.oss-cn-beijing.aliyuncs.com/blog/202412181616627.png" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><p>vim /etc/dovecot/conf.d/10-logging.conf</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token comment">#ç›´æ¥æ·»åŠ åˆ°æœ€åä¸€è¡Œï¼š</span>
<span class="token comment">#è®¾ç½®æ”¶ä»¶ç®±dovecotçš„æ—¥å¿—è·¯å¾„</span>
info_log_path <span class="token operator">=</span> /var/log/dovecot_info.log
debug_log_path <span class="token operator">=</span> /var/log/dovecot_debug.log
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>vim /etc/dovecot/conf.d/10-auth.conf</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token comment">#è¿™é‡Œåšä¿®æ”¹</span>
disable_plaintext_auth <span class="token operator">=</span> no
auth_mechanisms <span class="token operator">=</span> plain
<span class="token comment">#ç»“å°¾å¤„ æŠŠ!include auth-system.conf.ext æ³¨é‡Šæ‰  </span>
<span class="token comment">#!include auth-system.conf.ext</span>
<span class="token comment"># æŠŠ!include auth-sql.conf.ext æ‰“å¼€æ³¨é‡Š</span>
<span class="token operator">!</span>include auth-sql.conf.ext
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>vim /etc/dovecot/conf.d/10-master.conf</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token comment">#è¿™é‡Œåšä¿®æ”¹</span>
<span class="token function">service</span> pop3-login <span class="token punctuation">{</span>
  inet_listener pop3 <span class="token punctuation">{</span>
	port <span class="token operator">=</span> <span class="token number">110</span>
  <span class="token punctuation">}</span>
  inet_listener pop3s <span class="token punctuation">{</span>
	<span class="token comment">#port = 995</span>
	<span class="token comment">#ssl = yes</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token function">service</span> lmtp <span class="token punctuation">{</span>
  unix_listener lmtp <span class="token punctuation">{</span>
	<span class="token comment">#mode = 0666</span>
  <span class="token punctuation">}</span>
  unix_listener /var/spool/postfix/private/dovecot-lmtp <span class="token punctuation">{</span>
		mode <span class="token operator">=</span> 0600
		user <span class="token operator">=</span> vmail
		group <span class="token operator">=</span> vmail

  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token function">service</span> auth <span class="token punctuation">{</span>
  unix_listener auth-userdb <span class="token punctuation">{</span>
	mode <span class="token operator">=</span> 0666
	user <span class="token operator">=</span> vmail
	group <span class="token operator">=</span> vmail
  <span class="token punctuation">}</span>
  unix_listener /var/spool/postfix/private/auth <span class="token punctuation">{</span>
	mode <span class="token operator">=</span> 0666
	<span class="token assign-left variable">user</span><span class="token operator">=</span> postfix
	<span class="token comment">#group =postfix</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>3)è®¾ç½®æƒé™ è¿™é‡Œä¹Ÿæ˜¯å¾ˆé‡è¦çš„ä¸€æ­¥ è¦ä¸ç„¶æ—¥å¿—ä¸€ç›´æŠ¥é”™<br> é¦–å…ˆæŸ¥çœ‹ dovecot-lda çš„æ‰§è¡Œæƒé™ å¦‚æœä¸æ˜¯ vmail åˆ™è®¾ç½®ä¸ºvmail</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code>ll /usr/libexec/dovecot/dovecot-lda
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><figure><img src="https://lcy-blog.oss-cn-beijing.aliyuncs.com/blog/202412181616755.png" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><p>å¯ä»¥çœ‹å‡ºæ¥æ˜¯rootæƒé™ï¼Œæ‰€ä»¥è¦è®¾ç½®dovecot-ldaçš„æ‰§è¡Œæƒé™ï¼›</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token function">chown</span> vmail:vmail /usr/libexec/dovecot/dovecot-lda
<span class="token function">chmod</span> <span class="token number">777</span> /usr/libexec/dovecot/dovecot-lda
<span class="token comment">#å†æ¬¡æŸ¥çœ‹æƒé™</span>
ll /usr/libexec/dovecot/dovecot-lda
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><figure><img src="https://lcy-blog.oss-cn-beijing.aliyuncs.com/blog/202412181616772.png" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><p>ç»™/var/spool/mail/ æˆæƒ</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token comment">#å…ˆæŸ¥çœ‹/var/spool/mail/æƒé™</span>
ll /var/spool/ <span class="token operator">|</span> <span class="token function">grep</span> mail
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><figure><img src="https://lcy-blog.oss-cn-beijing.aliyuncs.com/blog/202412181616262.png" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><p>æ˜¯root:mailæƒé™ï¼Œç»™ä»–è®¾ç½®ä¸ºvmail:vmailæƒé™</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token function">chown</span> <span class="token parameter variable">-R</span> vmail:vmail /var/spool/mail/
<span class="token comment">#è®¾ç½®å®Œå†ç¡®è®¤ä¸€ä¸‹</span>
ll /var/spool/ <span class="token operator">|</span> <span class="token function">grep</span> mail
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><figure><img src="https://lcy-blog.oss-cn-beijing.aliyuncs.com/blog/202412181616865.png" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><ol start="4"><li>åœ¨/etc/dovecot/ ä¸‹åˆ›å»ºä¸€ä¸ªdovecot-sql.conf.ext æ–‡ä»¶</li></ol><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token function">vim</span> /etc/dovecot/dovecot-sql.conf.ext

<span class="token comment">#å†…å®¹å¦‚ä¸‹</span>
<span class="token comment">#(é©±åŠ¨ç±»å‹)</span>
driver <span class="token operator">=</span> mysql 
<span class="token comment">#connect = host=æ•°æ®åº“åœ°å€ dbname=æ•°æ®åº“åç§° user=ç”¨æˆ·å password=å¯†ç  port=ç«¯å£</span>
connect <span class="token operator">=</span> <span class="token assign-left variable">host</span><span class="token operator">=</span><span class="token number">172.16</span>.10.11 <span class="token assign-left variable">dbname</span><span class="token operator">=</span>postfix <span class="token assign-left variable">user</span><span class="token operator">=</span>root <span class="token assign-left variable">password</span><span class="token operator">=</span><span class="token number">123123</span> <span class="token assign-left variable">port</span><span class="token operator">=</span><span class="token number">3333</span>
<span class="token comment">#(è¿™é‡Œå¯†ç é‡‡ç”¨æ˜æ–‡éªŒè¯ å’Œ auth_verbose_passwords è¿™ä¸ªé…ç½®ç›¸äº’å¯¹åº”)</span>
default_pass_scheme <span class="token operator">=</span> plain 
password_query <span class="token operator">=</span> SELECT username AS user,password FROM mailbox WHERE username <span class="token operator">=</span> <span class="token string">&#39;%u&#39;</span>
<span class="token comment">#è¿™é‡Œå…¶å®å¯ä»¥ä¸å†™ å› ä¸ºå¤–é¢ç”¨çš„æ˜¯é™æ€ç”¨æˆ· , è¿™é‡Œå†™äº†æ—¥å¿—ä¼šæŠ¥ä¸€ä¸ªwaring ä½†æ˜¯ä¸å½±å“ä½¿ç”¨</span>
user_query <span class="token operator">=</span> SELECT maildir, <span class="token number">5000</span> AS uid, <span class="token number">5000</span> AS gid FROM mailbox WHERE username <span class="token operator">=</span> <span class="token string">&#39;%u&#39;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>5)åˆ›å»ºmaster.pid</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token function">touch</span> /var/run/dovecot/master.pid
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>6)é‡æ–°å¯åŠ¨postfixã€dovecotæœåŠ¡</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code>systemctl restart postfix dovecot
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h2 id="äº”ã€é‚®ç®±æµ‹è¯•" tabindex="-1"><a class="header-anchor" href="#äº”ã€é‚®ç®±æµ‹è¯•" aria-hidden="true">#</a> äº”ã€é‚®ç®±æµ‹è¯•</h2><p>æˆ‘è¿™é‡Œä½¿ç”¨<code>Foxmailé‚®ç®±</code></p><p><img src="https://lcy-blog.oss-cn-beijing.aliyuncs.com/blog/202412181616594.png" alt="" loading="lazy"><br><img src="https://lcy-blog.oss-cn-beijing.aliyuncs.com/blog/202412181616795.png" alt="" loading="lazy"></p><p>è¾“å…¥è‡ªå·±çš„emailåœ°å€ï¼Œä¹Ÿå°±æ˜¯æ•°æ®åº“é‡Œçš„é‚®ä»¶åœ°å€å’Œå¯†ç ï¼›</p><figure><img src="https://lcy-blog.oss-cn-beijing.aliyuncs.com/blog/202412181616522.png" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><figure><img src="https://lcy-blog.oss-cn-beijing.aliyuncs.com/blog/202412181616027.png" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><figure><img src="https://lcy-blog.oss-cn-beijing.aliyuncs.com/blog/202412181616538.png" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><p>ç„¶åè‡ªå·±å°±å¯ä»¥ç›´æ¥æµ‹è¯•æ”¶å‘é‚®ä»¶äº†ï¼›</p><p>å‘é€é‚®ä»¶æˆåŠŸæ”¶åˆ°ï¼›</p><figure><img src="https://lcy-blog.oss-cn-beijing.aliyuncs.com/blog/202412181615784.png" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><p>æ”¶å–é‚®ä»¶æˆåŠŸï¼›</p><p><img src="https://lcy-blog.oss-cn-beijing.aliyuncs.com/blog/202412181615718.png" alt="" loading="lazy"><br><img src="https://lcy-blog.oss-cn-beijing.aliyuncs.com/blog/202412181615312.png" alt="" loading="lazy"><br><img src="https://lcy-blog.oss-cn-beijing.aliyuncs.com/blog/202412181615660.png" alt="" loading="lazy"></p><p>éƒ¨ç½²å®Œæˆï¼ï¼ï¼</p><h2 id="æ€»ç»“" tabindex="-1"><a class="header-anchor" href="#æ€»ç»“" aria-hidden="true">#</a> æ€»ç»“</h2><blockquote><p>é‚®ä»¶æ•°æ®å­˜å‚¨è·¯å¾„ï¼š/home/vmail<br> postfixé…ç½®æ–‡ä»¶è·¯å¾„ï¼š/etc/postfix<br> dovecoté…ç½®æ–‡ä»¶è·¯å¾„ï¼š/etc/dovecot</p></blockquote>`,71);function Z(J,nn){const e=i("ExternalLinkIcon"),t=i("font");return l(),u("div",null,[n("blockquote",null,[k,n("p",null,[s("â€ƒâ€ƒğŸ…"),n("a",d,[s("äº‘è®¡ç®—é¢†åŸŸä¼˜è´¨åˆ›ä½œè€…"),a(e)]),m,s(" â€ƒâ€ƒğŸ…"),n("a",v,[s("åä¸ºäº‘å¼€å‘è€…ç¤¾åŒºä¸“å®¶åšä¸»"),a(e)]),b,s(" â€ƒâ€ƒğŸ…"),n("a",g,[s("é˜¿é‡Œäº‘å¼€å‘è€…ç¤¾åŒºä¸“å®¶åšä¸»"),a(e)]),f,s(" ğŸ’Š"),y,n("a",_,[s("è¿ç»´äº¤æµç¤¾åŒº"),a(e)]),s(" æ¬¢è¿å¤§å®¶çš„åŠ å…¥ï¼")])]),h,w,E,a(t,{color:"red"},{default:o(()=>[s("è¿™é‡Œä¸æ¨èä½¿ç”¨äº‘æœåŠ¡å™¨ï¼Œå› ä¸ºäº‘æœåŠ¡å™¨ä¼šé™åˆ¶25ç«¯å£ï¼Œä¼šå¯¼è‡´é‚®ä»¶ç³»ç»Ÿæ”¶å‘ä¸äº†ï¼›")]),_:1}),T,L,N,x,A,U,n("ul",null,[n("li",null,[s("å‘ä»¶äººï¼šme@qq.com æ”¶ä»¶äººï¼šyou@gmail.com"),O,q,s(" ç”¨é‚®ä»¶å®¢æˆ·ç«¯ï¼ˆæ¯”å¦‚outlookï¼‰å†™äº†ä¸€å°é‚®ä»¶ç»™you@gmail.comï¼Œç‚¹ä¸‹å‘é€æŒ‰é’®åï¼Œ"),n("a",D,[s("é‚®ä»¶é¦–å…ˆä¼šå‘é€åˆ°smtp.qq.com"),a(e)])]),n("li",null,[n("a",R,[s("smtp.qq.com"),a(e)]),s(),n("a",S,[s("æ£€ç´¢åˆ°è¿™å°é‚®ä»¶çš„æ”¶ä»¶äººåŸŸåæ˜¯gmail.com"),a(e)]),s("ï¼Œäºæ˜¯é€šè¿‡äº’è”ç½‘(WAN)"),n("a",C,[s("å°†é‚®ä»¶å‘é€åˆ°smtp.gmail.com"),a(e)])]),F]),I,n("table",null,[M,n("tbody",null,[n("tr",null,[H,P,K,n("td",null,[n("a",B,[s("cs.com/cs"),a(e)])]),Y,j,n("td",null,[n("a",z,[s("cs.com"),a(e)])]),$,Q,G])])]),X,n("p",null,[s("ç¼–è¾‘é…ç½®æ–‡ä»¶ï¼ˆç›´æ¥é‡æ–°å†™ï¼Œ"),a(t,{color:"red"},{default:o(()=>[s("éœ€è¦æ”¹çš„åªæœ‰æœåŠ¡å™¨ä¸»æœºåç§°ä¸åŸŸå")]),_:1}),s("ï¼‰ï¼š")]),V,n("p",null,[s("åœ¨postfixç›®å½•ä¸­ åˆ›å»ºä¸€ä¸ªåä¸ºsqlçš„æ–‡ä»¶å¤¹ é‡Œé¢è¦å­˜æ”¾ä¸Šé¢ä½¿ç”¨åˆ°çš„è¿™äº›sql æ–‡ä»¶ï¼›"),a(t,{color:"red"},{default:o(()=>[s("mysql_virtual_mailbox_maps.cfä¸ºæœ€é‡è¦")]),_:1})]),W])}const en=c(r,[["render",Z],["__file","ã€Linuxã€‘é‚®ä»¶æœåŠ¡å™¨æ­å»º postfix_dovecot_mysql ï¼ˆç»ˆæç‰ˆ è¶…è¯¦ç»† äº²æµ‹å¤šéæ— é—®é¢˜ï¼‰.html.vue"]]);export{en as default};
