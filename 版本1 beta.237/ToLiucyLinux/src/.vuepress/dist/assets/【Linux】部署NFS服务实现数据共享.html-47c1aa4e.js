import{_ as r}from"./plugin-vue_export-helper-c27b6911.js";import{r as d,o,c,a as e,b as n,d as s,w as t,e as l}from"./app-6706a352.js";const u={},p=e("figure",null,[e("img",{src:"https://lcy-blog.oss-cn-beijing.aliyuncs.com/blog/202412181441583.png",alt:"",tabindex:"0",loading:"lazy"}),e("figcaption")],-1),b=e("p",null,[n("ğŸ‘¨â€ğŸ“"),e("strong",null,"åšä¸»ç®€ä»‹")],-1),m={href:"https://blog.csdn.net/liu_chen_yang?type=blog",target:"_blank",rel:"noopener noreferrer"},h=e("br",null,null,-1),v={href:"https://blog.csdn.net/liu_chen_yang?type=blog",target:"_blank",rel:"noopener noreferrer"},_=e("br",null,null,-1),g={href:"https://bbs.huaweicloud.com/community/myblog",target:"_blank",rel:"noopener noreferrer"},f=e("br",null,null,-1),k={href:"https://developer.aliyun.com/my?spm=a2c6h.13148508.setting.3.21fc4f0eCmz1v3#/article?_k=zooqoz",target:"_blank",rel:"noopener noreferrer"},x=e("br",null,null,-1),y=e("strong",null,"äº¤æµç¤¾åŒºï¼š",-1),N={href:"https://bbs.csdn.net/forums/lcy",target:"_blank",rel:"noopener noreferrer"},S=e("br",null,null,-1),F=e("br",null,null,-1),P=e("hr",null,null,-1),C=e("h2",{id:"ä¸€ã€nfsç®€ä»‹ä¸rpcç®€ä»‹",tabindex:"-1"},[e("a",{class:"header-anchor",href:"#ä¸€ã€nfsç®€ä»‹ä¸rpcç®€ä»‹","aria-hidden":"true"},"#"),n(" ä¸€ã€NFSç®€ä»‹ä¸RPCç®€ä»‹")],-1),R=e("h3",{id:"_1-nfsæœåŠ¡ç®€ä»‹",tabindex:"-1"},[e("a",{class:"header-anchor",href:"#_1-nfsæœåŠ¡ç®€ä»‹","aria-hidden":"true"},"#"),n(" 1. NFSæœåŠ¡ç®€ä»‹")],-1),w=e("p",null,"NFSæ˜¯ä¸€ç§ç½‘ç»œåè®®ï¼ŒNFSä¾èµ–RPCæ‰èƒ½å·¥ä½œã€‚ï¼ˆRHEL5.0ä¸Šæ˜¯NFS V3è€ŒRHEL6.0ä¸Šæ˜¯NFS V4ï¼‰",-1),q=e("p",null,"NFS çš„åŸºæœ¬åŸåˆ™æ˜¯â€œå®¹è®¸ä¸åŒçš„å®¢æˆ·ç«¯åŠæœåŠ¡ç«¯é€šè¿‡ä¸€ç»„RPCåˆ†äº«ç›¸åŒçš„æ–‡ä»¶ç³»ç»Ÿâ€ï¼Œå®ƒæ˜¯ç‹¬ç«‹äºæ“ä½œç³»ç»Ÿï¼Œå®¹è®¸ä¸åŒç¡¬ä»¶åŠæ“ä½œç³»ç»Ÿçš„ç³»ç»Ÿå…±åŒè¿›è¡Œæ–‡ä»¶çš„åˆ†äº«ã€‚",-1),I=l(`<h3 id="_2-rpcåè®®ç®€ä»‹" tabindex="-1"><a class="header-anchor" href="#_2-rpcåè®®ç®€ä»‹" aria-hidden="true">#</a> 2. RPCåè®®ç®€ä»‹</h3><p>RPCï¼ˆRemote Procedure Callï¼‰è¿œç¨‹è¿‡ç¨‹è°ƒç”¨ï¼Œå®ƒæ˜¯ä¸€ç§é€šè¿‡ç½‘ç»œä»è¿œç¨‹è®¡ç®—æœºç¨‹åºä¸Šè¯·æ±‚æœåŠ¡ï¼Œè€Œä¸éœ€è¦äº†è§£åº•å±‚ç½‘ç»œæŠ€æœ¯çš„åè®®ã€‚å…¶å·¥ä½œåœ¨TCP/UDPçš„111ç«¯å£ã€‚å»ºç«‹åœ¨Socketä¹‹ä¸Šçš„ï¼Œä¸»è¦æ˜¯ç®€åŒ–ç¼–ç¨‹çš„å·¥ä½œåœ¨åº•å±‚æä¾›ç½‘ç»œä¹‹é—´çš„é€šä¿¡ã€‚</p><p>RPCé‡‡ç”¨å®¢æˆ·æœº/æœåŠ¡å™¨æ¨¡å¼ã€‚è¯·æ±‚ç¨‹åºå°±æ˜¯ä¸€ä¸ªå®¢æˆ·æœºï¼Œè€ŒæœåŠ¡æä¾›ç¨‹åºå°±æ˜¯ä¸€ä¸ªæœåŠ¡å™¨ã€‚é¦–å…ˆï¼Œå®¢æˆ·æœºè°ƒç”¨è¿›ç¨‹å‘é€ä¸€ä¸ªæœ‰è¿›ç¨‹å‚æ•°çš„è°ƒç”¨ä¿¡æ¯åˆ°æœåŠ¡è¿›ç¨‹ï¼Œç„¶åç­‰å¾…åº”ç­”ä¿¡æ¯ã€‚åœ¨æœåŠ¡å™¨ç«¯ï¼Œè¿›ç¨‹ä¿æŒç¡çœ çŠ¶æ€ç›´åˆ°è°ƒç”¨ä¿¡æ¯çš„åˆ°è¾¾ä¸ºæ­¢ã€‚å½“ä¸€ä¸ªè°ƒç”¨ä¿¡æ¯åˆ°è¾¾ï¼ŒæœåŠ¡å™¨è·å¾—è¿›ç¨‹å‚æ•°ï¼Œè®¡ç®—ç»“æœï¼Œå‘é€ç­”å¤ä¿¡æ¯ï¼Œç„¶åç­‰å¾…ä¸‹ä¸€ä¸ªè°ƒç”¨ä¿¡æ¯ï¼Œæœ€åï¼Œå®¢æˆ·ç«¯è°ƒç”¨è¿›ç¨‹æ¥æ”¶ç­”å¤ä¿¡æ¯ï¼Œè·å¾—è¿›ç¨‹ç»“æœï¼Œç„¶åè°ƒç”¨æ‰§è¡Œç»§ç»­è¿›è¡Œã€‚</p><p>RPCè¿œç¨‹è¿‡ç¨‹è°ƒåº¦ï¼š</p><ul><li>NFS åè®®æœ¬èº«å¹¶æ²¡æœ‰ç½‘ç»œä¼ è¾“åŠŸèƒ½ï¼Œè€Œæ˜¯åŸºäºè¿œç¨‹è¿‡ç¨‹è°ƒç”¨åè®®å®ç°çš„</li><li>æä¾›ä¸€ä¸ªé¢å‘è¿‡ç¨‹çš„è¿œç¨‹æœåŠ¡çš„æ¥å£</li><li>å¯ä»¥é€šè¿‡ç½‘ç»œä»è¿œç¨‹ä¸»æœºç¨‹åºä¸Šè¯·æ±‚æœåŠ¡ï¼Œè€Œä¸éœ€è¦äº†è§£åº•å±‚ç½‘ç»œæŠ€æœ¯çš„åè®®</li><li>å·¥ä½œåœ¨ OSI æ¨¡å‹çš„ä¼šè¯å±‚ï¼Œå®ƒå¯ä»¥ä¸ºéµä» RPC åè®®åº”ç”¨å±‚åè®®æä¾›ç«¯å£æ³¨å†ŒåŠŸèƒ½</li><li>äº‹å®ä¸Šï¼Œæœ‰å¾ˆå¤šæœåŠ¡ï¼ˆNFS å’Œ NIS ç­‰ï¼‰éƒ½å¯ä»¥å‘ RPC æ³¨å†Œç«¯å£</li><li>RPC ä½¿ç”¨ç½‘ç»œç«¯å£ 111 æ¥ç›‘å¬å®¢æˆ·ç«¯çš„è¯·æ±‚</li></ul><h3 id="_3-nfså·¥ä½œæµç¨‹" tabindex="-1"><a class="header-anchor" href="#_3-nfså·¥ä½œæµç¨‹" aria-hidden="true">#</a> 3. NFSå·¥ä½œæµç¨‹</h3><p>1.é¦–å…ˆæœåŠ¡å™¨ç«¯å¯åŠ¨RPCæœåŠ¡ï¼Œå¹¶å¼€å¯111ç«¯å£<br> 2.ç„¶åè¿˜éœ€è¦æœåŠ¡å™¨ç«¯å¯åŠ¨NFSæœåŠ¡ï¼Œå¹¶å‘RPCæ³¨å†Œç«¯å£ä¿¡æ¯<br> 3.å®¢æˆ·ç«¯å¯åŠ¨RPCï¼ˆportmapæœåŠ¡ï¼‰ï¼Œå‘æœåŠ¡ç«¯çš„RPC(portmap)æœåŠ¡è¯·æ±‚æœåŠ¡ç«¯çš„NFSç«¯å£<br> 4.æœåŠ¡ç«¯çš„RPC(portmap)æœåŠ¡åé¦ˆNFSç«¯å£ä¿¡æ¯ç»™å®¢æˆ·ç«¯ã€‚<br> 5.å®¢æˆ·ç«¯é€šè¿‡è·å–çš„NFSç«¯å£æ¥å»ºç«‹å’ŒæœåŠ¡ç«¯çš„NFSè¿æ¥å¹¶è¿›è¡Œæ•°æ®çš„ä¼ è¾“ã€‚</p><figure><img src="https://lcy-blog.oss-cn-beijing.aliyuncs.com/blog/202412181441484.png" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><ul class="task-list-container"><li class="task-list-item"><input type="checkbox" class="task-list-item-checkbox" id="task-item-0" checked="checked" disabled="disabled"><label class="task-list-item-label" for="task-item-0"> æŒ‚è½½åŸç†</label></li></ul><blockquote><p>â€ƒâ€ƒå½“æˆ‘ä»¬åœ¨NFSæœåŠ¡å™¨è®¾ç½®å¥½ä¸€ä¸ªå…±äº«ç›®å½•/opt åï¼Œå…¶ä»–äººæ˜¯æœ‰æƒè®¿é—®/optè¿™ä¸ªå…±äº«ç›®å½•çš„ï¼ŒNFSå®¢æˆ·ç«¯å°±å¯ä»¥å°†è¿™ä¸ªç›®å½•æŒ‚è½½åˆ°è‡ªå·±æ–‡ä»¶ç³»ç»Ÿçš„æŸä¸ªæŒ‚è½½ç‚¹ï¼ˆè¿™ä¸ªæŒ‚è½½ç‚¹å¯ä»¥è‡ªå·±å®šä¹‰ï¼‰ï¼Œè·¯å¾„ä¸åŒä¹Ÿå¯ä»¥ï¼›å¦‚ä¸‹å›¾å®¢æˆ·ç«¯Aä¸å®¢æˆ·ç«¯BæŒ‚è½½çš„ç›®å½•å°±ä¸ç›¸åŒã€‚å¹¶ä¸”æŒ‚è½½å¥½åæˆ‘ä»¬åœ¨æœ¬åœ°èƒ½å¤Ÿçœ‹åˆ°æœåŠ¡ç«¯/optä¸‹çš„æ‰€æœ‰æ•°æ®ã€‚</p></blockquote><figure><img src="https://lcy-blog.oss-cn-beijing.aliyuncs.com/blog/202412181440917.png" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><h2 id="äºŒã€å‡†å¤‡å·¥ä½œ" tabindex="-1"><a class="header-anchor" href="#äºŒã€å‡†å¤‡å·¥ä½œ" aria-hidden="true">#</a> äºŒã€å‡†å¤‡å·¥ä½œ</h2><h3 id="_2-1-æœåŠ¡å™¨ä¿¡æ¯" tabindex="-1"><a class="header-anchor" href="#_2-1-æœåŠ¡å™¨ä¿¡æ¯" aria-hidden="true">#</a> 2.1 æœåŠ¡å™¨ä¿¡æ¯</h3><table><thead><tr><th style="text-align:center;">ä¸»æœº</th><th style="text-align:center;">IP</th><th style="text-align:center;">æœåŠ¡</th><th style="text-align:center;">ç«¯å£</th></tr></thead><tbody><tr><td style="text-align:center;">æœåŠ¡ç«¯</td><td style="text-align:center;">172.16.11.201</td><td style="text-align:center;">nfsã€rpc</td><td style="text-align:center;">2049ã€111</td></tr><tr><td style="text-align:center;">å®¢æˆ·ç«¯</td><td style="text-align:center;">172.16.11.202</td><td style="text-align:center;">nfsã€rpc</td><td style="text-align:center;">2049ã€111</td></tr></tbody></table><h3 id="_2-2-é˜²ç«å¢™é…ç½®" tabindex="-1"><a class="header-anchor" href="#_2-2-é˜²ç«å¢™é…ç½®" aria-hidden="true">#</a> 2.2 é˜²ç«å¢™é…ç½®</h3><ul><li>å…³é—­é˜²ç«å¢™æœåŠ¡</li></ul><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token comment"># å…³é—­é˜²ç«å¢™</span>
systemctl stop firewalld
<span class="token comment"># ç¦æ­¢é˜²ç«å¢™å¼€æœºè‡ªå¯</span>
systemctl disable firewalld
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>å¦‚æœæ˜¯å¿…é¡»è¦å¼€å¯é˜²ç«å¢™ï¼Œå¯ä»¥ä½¿ç”¨ä¸¤ç§æ–¹æ³•ï¼Œå¼€ç«¯å£æˆ–æœåŠ¡</li></ul><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token comment"># å¼€å¯nfså’ŒrpcæœåŠ¡</span>
firewall-cmd <span class="token parameter variable">--permanent</span> --add-service<span class="token operator">=</span>nfs
firewall-cmd <span class="token parameter variable">--permanent</span> --add-service<span class="token operator">=</span>rpc-bind
<span class="token comment"># é‡è½½é˜²ç«å¢™è§„åˆ™</span>
firewall-cmd <span class="token parameter variable">--reload</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token comment"># æ”¾è¡Œç«¯å£</span>
<span class="token comment"># nfsç«¯å£ä¸ºï¼š2049ã€rpcç«¯å£ä¸ºï¼š111</span>
firewall-cmd <span class="token parameter variable">--permanent</span> --add-port<span class="token operator">=</span><span class="token number">2049</span>/tcp
firewall-cmd <span class="token parameter variable">--permanent</span> --add-port<span class="token operator">=</span><span class="token number">111</span>/tcp
firewall-cmd <span class="token parameter variable">--permanent</span> --add-port<span class="token operator">=</span><span class="token number">111</span>/udp
<span class="token comment"># é‡è½½é˜²ç«å¢™è§„åˆ™</span>
firewall-cmd <span class="token parameter variable">--reload</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>å¦‚æœä½¿ç”¨çš„æ˜¯<code>iptables</code>é˜²ç«å¢™ï¼Œå¯ä»¥ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤ï¼š</li></ul><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code>iptables <span class="token parameter variable">-A</span> INPUT <span class="token parameter variable">-p</span> tcp <span class="token parameter variable">--dport</span> <span class="token number">2049</span> <span class="token parameter variable">-j</span> ACCEPT
iptables <span class="token parameter variable">-A</span> INPUT <span class="token parameter variable">-p</span> tcp <span class="token parameter variable">--dport</span> <span class="token number">111</span> <span class="token parameter variable">-j</span> ACCEPT
iptables <span class="token parameter variable">-A</span> INPUT <span class="token parameter variable">-p</span> udp <span class="token parameter variable">--dport</span> <span class="token number">111</span> <span class="token parameter variable">-j</span> ACCEPT
iptables-save <span class="token operator">&gt;</span> /etc/sysconfig/iptables
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_2-3-selinuxæ²™ç›’" tabindex="-1"><a class="header-anchor" href="#_2-3-selinuxæ²™ç›’" aria-hidden="true">#</a> 2.3 selinuxæ²™ç›’</h3><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token comment"># ä¸´æ—¶å…³é—­</span>
setenforce <span class="token number">0</span>

<span class="token comment"># æ°¸ä¹…å…³é—­</span>
<span class="token function">vim</span> /etc/selinux/config

<span class="token comment"># å°†selinux=ä¿®æ”¹ä¸ºdisabled</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><figure><img src="https://lcy-blog.oss-cn-beijing.aliyuncs.com/blog/202412181440694.png" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure>`,25),E=l(`<h2 id="ä¸‰ã€éƒ¨ç½²-nfs-å’Œ-rpc-æœåŠ¡" tabindex="-1"><a class="header-anchor" href="#ä¸‰ã€éƒ¨ç½²-nfs-å’Œ-rpc-æœåŠ¡" aria-hidden="true">#</a> ä¸‰ã€éƒ¨ç½² NFS å’Œ RPC æœåŠ¡</h2><p>ä¸¤å°éƒ½å®‰è£…</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code>yum <span class="token function">install</span> <span class="token parameter variable">-y</span> nfs-utils rpcbind

<span class="token comment"># å¯åŠ¨å¹¶è®¾ç½®å¼€æœºè‡ªå¯</span>
systemctl start rpcbind
systemctl start nfs-server
systemctl <span class="token builtin class-name">enable</span> rpcbind
systemctl <span class="token builtin class-name">enable</span> nfs-server
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>æŸ¥çœ‹æœåŠ¡çŠ¶æ€</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code>systemctl status nfs
systemctl status rpcbind
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><figure><img src="https://lcy-blog.oss-cn-beijing.aliyuncs.com/blog/202412181440383.png" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><h2 id="å››ã€é…ç½®å…±äº«ç›®å½•" tabindex="-1"><a class="header-anchor" href="#å››ã€é…ç½®å…±äº«ç›®å½•" aria-hidden="true">#</a> å››ã€é…ç½®å…±äº«ç›®å½•</h2>`,7),j=e("code",null,"/data/test/",-1),z=l(`<div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token comment"># æœåŠ¡ç«¯</span>
<span class="token function">mkdir</span> <span class="token parameter variable">-p</span> /data/test
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div>`,1),T=l(`<div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token comment"># å®¢æˆ·ç«¯</span>
<span class="token function">mkdir</span> <span class="token parameter variable">-p</span> /data/test
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div>`,1),A=e("p",null,[n("NFSé…ç½®æ–‡ä»¶æ ¼å¼ï¼š"),e("code",null,"å…±äº«ç›®å½• [å®¢æˆ·ç«¯1(å‚æ•°)] [å®¢æˆ·ç«¯2ï¼ˆå‚æ•°ï¼‰] ")],-1),L=e("blockquote",null,[e("p",null,[n("å…±äº«ç›®å½•ï¼šNFSæœåŠ¡å™¨éœ€è¦å…±äº«çš„å®é™…è·¯å¾„ï¼ˆç»å¯¹è·¯å¾„ï¼‰ï¼›"),e("br"),n(" å®¢æˆ·ç«¯ï¼šå¯ä»¥è®¿é—®å…±äº«ç›®å½•çš„æœåŠ¡å™¨åœ°å€æˆ–ç½‘æ®µã€‚")])],-1),V=e("ul",null,[e("li",null,"å®¢æˆ·ç«¯å¸¸ç”¨å½¢å¼ï¼š")],-1),U=e("thead",null,[e("tr",null,[e("th",{style:{"text-align":"left"}},"å®¢æˆ·ç«¯"),e("th",null,"è¯´æ˜")])],-1),B=e("tr",null,[e("td",{style:{"text-align":"left"}},"172.16.11.202"),e("td",null,"æŒ‡å®šIPåœ°å€çš„ä¸»æœº")],-1),D=e("tr",null,[e("td",{style:{"text-align":"left"}},"172.16.10.1/24"),e("td",null,"æŒ‡å®šå­ç½‘çš„æ‰€æœ‰ä¸»æœº")],-1),H=e("tr",null,[e("td",{style:{"text-align":"left"}},"172.16.10.*"),e("td",null,"æŒ‡å®šå­ç½‘çš„æ‰€æœ‰ä¸»æœº")],-1),G={style:{"text-align":"left"}},O={href:"http://www.xxx.com",target:"_blank",rel:"noopener noreferrer"},J=e("td",null,"æŒ‡å®šåŸŸåçš„ä¸»æœº",-1),K=e("tr",null,[e("td",{style:{"text-align":"left"}},"*.xxx.com"),e("td",null,"æŒ‡å®šåŸŸä¸­çš„æ‰€æœ‰ä¸»æœº")],-1),M=e("tr",null,[e("td",{style:{"text-align":"left"}},"*"),e("td",null,"æ‰€æœ‰ä¸»æœº")],-1),Q=l(`<div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token function">vim</span> /etc/exports

/data/test *<span class="token punctuation">(</span>rw,sync,no_root_squash<span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>è§£æï¼š</p><table><thead><tr><th>å‚æ•°</th><th>å‚æ•°è§£æ</th></tr></thead><tbody><tr><td>/data/test</td><td>è¦å…±äº«çš„ç›®å½•</td></tr><tr><td>*</td><td>è¦å…±äº«ç»™è°ï¼Œå¯ä»¥æ˜¯ç½‘æ®µï¼Œå¯ä»¥æ˜¯ipï¼Œ*ä»£è¡¨æ˜¯æ‰€æœ‰éƒ½å¯ä»¥å…±äº«</td></tr><tr><td>----æ‹¬å·å†…ï¼ŒNFSè®¿é—®æƒé™å‚æ•°----</td><td>---------------æ‹¬å·å†…ï¼ŒNFSè®¿é—®æƒé™å‚æ•°---------------</td></tr><tr><td>ro</td><td>åªè¯»</td></tr><tr><td>rw</td><td>è¯»å†™</td></tr><tr><td>sync</td><td>åŒæ—¶å°†æ•°æ®å†™å…¥åˆ°å†…å­˜ä¸ç¡¬ç›˜ä¸­ï¼Œä¿è¯ä¸ä¸¢å¤±æ•°æ®</td></tr><tr><td>async</td><td>ä¼˜å…ˆå°†æ•°æ®ä¿å­˜åˆ°å†…å­˜ï¼Œç„¶åå†å†™å…¥ç¡¬ç›˜ï¼›æ•ˆç‡æ›´é«˜ï¼Œä½†å¯èƒ½ä¼šä¸¢å¤±æ•°æ®</td></tr><tr><td>root_squash</td><td>å½“NFSå®¢æˆ·ç«¯ä»¥rootç®¡ç†å‘˜è®¿é—®æ—¶ï¼Œæ˜ å°„ä¸ºNFSæœåŠ¡å™¨çš„åŒ¿åç”¨æˆ·</td></tr><tr><td>no_root_squash</td><td>å½“NFSå®¢æˆ·ç«¯ä»¥rootç®¡ç†å‘˜è®¿é—®æ—¶ï¼Œæ˜ å°„ä¸ºNFSæœåŠ¡å™¨çš„rootç®¡ç†å‘˜</td></tr><tr><td>all_squash</td><td>æ— è®ºNFSå®¢æˆ·ç«¯ä½¿ç”¨ä»€ä¹ˆè´¦æˆ·è®¿é—®ï¼Œå‡æ˜ å°„ä¸ºNFSæœåŠ¡å™¨çš„åŒ¿åç”¨æˆ·</td></tr><tr><td>no_all_squash</td><td>ä¿ç•™å…±äº«æ–‡ä»¶çš„UIDå’ŒGIDï¼ˆé»˜è®¤ï¼‰</td></tr></tbody></table>`,3),W=e("div",{class:"language-bash line-numbers-mode","data-ext":"sh"},[e("pre",{class:"language-bash"},[e("code",null,`systemctl restart nfs rpcbind
`)]),e("div",{class:"line-numbers","aria-hidden":"true"},[e("div",{class:"line-number"})])],-1),X=l(`<p>showmount [é€‰é¡¹] (å‚æ•°/æœåŠ¡ç«¯IP)</p><blockquote><p>-dï¼šä»…æ˜¾ç¤ºå·²è¢«NFSå®¢æˆ·ç«¯åŠ è½½çš„å…±äº«ç›®å½•ï¼›<br> -eï¼šæ˜¾ç¤ºNFSæœåŠ¡å™¨ä¸Šæ‰€æœ‰çš„å…±äº«ç›®å½•ã€‚</p></blockquote><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># showmount -e 172.16.11.201</span>
Export list <span class="token keyword">for</span> <span class="token number">172.16</span>.11.201:
/data/test *
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="äº”ã€æŒ‚è½½å…±äº«ç›®å½•åŠé…ç½®æ°¸ä¹…æŒ‚è½½" tabindex="-1"><a class="header-anchor" href="#äº”ã€æŒ‚è½½å…±äº«ç›®å½•åŠé…ç½®æ°¸ä¹…æŒ‚è½½" aria-hidden="true">#</a> äº”ã€æŒ‚è½½å…±äº«ç›®å½•åŠé…ç½®æ°¸ä¹…æŒ‚è½½</h2>`,4),Y=e("code",null,"mount",-1),Z=e("hr",null,null,-1),$=e("p",null,[n("2ã€å¦‚æœå¸è½½æŒ‚è½½ï¼Œæç¤ºï¼šè®¾å¤‡æ­£å¿™ï¼ˆumount.nfs4: /data/test: device is busyï¼‰ï¼Œå¯ä»¥ä½¿ç”¨"),e("code",null,"umount -l /data/test"),n("ï¼Œä¸è¿‡å­˜åœ¨ä¸€å®šé£é™©ï¼Œå®¹æ˜“ä¸¢å¤±æ•°æ®")],-1),ee=e("ul",null,[e("li",null,"ä¸´æ—¶æŒ‚è½½")],-1),ne=l(`<div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token function">mount</span> <span class="token parameter variable">-t</span> nfs <span class="token number">172.16</span>.11.201:/data/test /data/test/
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>å¦‚æœé‡åˆ°ä»¥ä¸‹æŠ¥é”™ï¼Œæœ‰å¯èƒ½æ˜¯ï¼šç›®å½•æƒé™é—®é¢˜ã€æœåŠ¡ç«¯é…ç½®æ–‡ä»¶ipèŒƒå›´å†™çš„æœ‰é—®é¢˜ã€é˜²ç«å¢™ã€selinuxé—®é¢˜ï¼›</p><blockquote><p>mount.nfs: access denied by server while mounting 172.16.11.201:/data/test</p></blockquote><ul><li>æ°¸ä¹…æŒ‚è½½</li></ul>`,4),se=l(`<div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token function">vim</span> /etc/fstab

<span class="token number">172.16</span>.11.201:/data/test /data/test nfs defaults <span class="token number">0</span> <span class="token number">0</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>ä¿å­˜é€€å‡ºä¹‹åï¼Œé‡å¯æœåŠ¡å™¨å¯ä»¥è¿›è¡Œæµ‹è¯•ï¼Œä¸€æ—¦å†™é”™ï¼Œé‡å¯æœåŠ¡å™¨å°†é€ æˆå¯åŠ¨ä¸äº†æœåŠ¡å™¨ï¼Œæ‰€ä»¥è¦è°¨æ…ï¼›</p><hr>`,3),ae=l(`<div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token function">umount</span> æŒ‚è½½ç‚¹

ä¸¾ä¾‹ï¼š
<span class="token function">umount</span> /data/test
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><hr><blockquote><p>æ•°æ®æµ‹è¯•çš„è¯å¯è‡ªè¡Œæµ‹è¯•ï¼›</p></blockquote>`,3);function te(le,ie){const i=d("ExternalLinkIcon"),a=d("font");return o(),c("div",null,[p,e("blockquote",null,[b,e("p",null,[n("â€ƒâ€ƒğŸ…"),e("a",m,[n("CSDNåšå®¢ä¸“å®¶"),s(i)]),h,n(" â€ƒâ€ƒğŸ…"),e("a",v,[n("äº‘è®¡ç®—é¢†åŸŸä¼˜è´¨åˆ›ä½œè€…"),s(i)]),_,n(" â€ƒâ€ƒğŸ…"),e("a",g,[n("åä¸ºäº‘å¼€å‘è€…ç¤¾åŒºä¸“å®¶åšä¸»"),s(i)]),f,n(" â€ƒâ€ƒğŸ…"),e("a",k,[n("é˜¿é‡Œäº‘å¼€å‘è€…ç¤¾åŒºä¸“å®¶åšä¸»"),s(i)]),x,n(" ğŸ’Š"),y,e("a",N,[n("è¿ç»´äº¤æµç¤¾åŒº"),s(i)]),n(" æ¬¢è¿å¤§å®¶çš„åŠ å…¥ï¼"),S,n(" ğŸ‹ å¸Œæœ›å¤§å®¶å¤šå¤šæ”¯æŒï¼Œæˆ‘ä»¬ä¸€èµ·è¿›æ­¥ï¼ğŸ˜„"),F,n(" ğŸ‰å¦‚æœæ–‡ç« å¯¹ä½ æœ‰å¸®åŠ©çš„è¯ï¼Œæ¬¢è¿ ç‚¹èµ ğŸ‘ğŸ» è¯„è®º ğŸ’¬ æ”¶è— â­ï¸ åŠ å…³æ³¨+ğŸ’—")])]),P,C,R,w,q,e("p",null,[n("NFSåœ¨æ–‡ä»¶ä¼ é€æˆ–ä¿¡æ¯ä¼ é€è¿‡ç¨‹ä¸­ä¾èµ–äºRPCåè®®ã€‚RPCï¼Œè¿œç¨‹è¿‡ç¨‹è°ƒç”¨ (Remote Procedure Call) æ˜¯èƒ½ä½¿å®¢æˆ·ç«¯æ‰§è¡Œå…¶ä»–ç³»ç»Ÿä¸­ç¨‹åºçš„ä¸€ç§æœºåˆ¶ã€‚NFSæœ¬èº«æ˜¯æ²¡æœ‰æä¾›ä¿¡æ¯ä¼ è¾“çš„åè®®å’ŒåŠŸèƒ½çš„ï¼Œä½†NFSå´èƒ½è®©æˆ‘ä»¬é€šè¿‡ç½‘ç»œè¿›è¡Œèµ„æ–™çš„åˆ†äº«ï¼Œè¿™æ˜¯å› ä¸ºNFSä½¿ç”¨äº†ä¸€äº›å…¶å®ƒçš„ä¼ è¾“åè®®ã€‚è€Œè¿™äº›ä¼ è¾“åè®®ç”¨åˆ°è¿™ä¸ªRPCåŠŸèƒ½çš„ã€‚"),s(a,{color:"red"},{default:t(()=>[n("å¯ä»¥è¿™ä¹ˆç†è§£RPCå’ŒNFSçš„å…³ç³»ï¼šNFSæ˜¯ä¸€ä¸ªæ–‡ä»¶ç³»ç»Ÿï¼Œè€ŒRPCæ˜¯è´Ÿè´£ä¿¡æ¯çš„ä¼ è¾“ã€‚")]),_:1})]),I,s(a,{color:"red"},{default:t(()=>[n("ä¿®æ”¹é…ç½®æ–‡ä»¶æ°¸ä¹…ç”Ÿæ•ˆè¦é‡å¯æœåŠ¡å™¨ï¼›")]),_:1}),E,e("p",null,[n("â‘ ã€é¦–å…ˆï¼Œåœ¨"),s(a,{color:"gree"},{default:t(()=>[n("æœåŠ¡ç«¯")]),_:1}),n("éœ€è¦ç¡®è®¤å¥½è¦æŒ‚è½½çš„å…±äº«ç›®å½•ï¼›è¿™é‡Œæˆ‘ä»¬è¦æŒ‚è½½çš„å…±äº«ç›®å½•ä¸ºï¼š"),j,n("ï¼Œå°±éœ€è¦å…ˆåˆ›å»ºæ­¤ç›®å½•")]),z,e("p",null,[n("â‘¡ã€ç„¶åï¼Œéœ€è¦ç¡®è®¤å¥½å…±äº«ç›®å½•è¦æŒ‚è½½åˆ°"),s(a,{color:"blue"},{default:t(()=>[n("å®¢æˆ·ç«¯")]),_:1}),n("çš„å“ªä¸ªç›®å½•ä¸Šï¼Œè¿™é‡Œå°±åŒç›®å½•å§ï¼›")]),T,e("p",null,[n("â‘¢ã€é…ç½®"),s(a,{color:"gree"},{default:t(()=>[n("æœåŠ¡ç«¯")]),_:1}),n("NFSé…ç½®æ–‡ä»¶")]),A,L,V,e("table",null,[U,e("tbody",null,[B,D,H,e("tr",null,[e("td",G,[e("a",O,[n("www.xxx.com"),s(i)])]),J]),K,M])]),Q,e("p",null,[n("â‘£ã€é‡å¯"),s(a,{color:"gree"},{default:t(()=>[n("æœåŠ¡ç«¯")]),_:1}),n("NFSå’ŒRPCæœåŠ¡")]),W,e("p",null,[n("â‘¤ã€åœ¨"),s(a,{color:"blue"},{default:t(()=>[n("å®¢æˆ·ç«¯")]),_:1}),n("æŸ¥çœ‹NFSæœåŠ¡å…±äº«ä¿¡æ¯")]),X,s(a,{color:"red"},{default:t(()=>[n("æ³¨æ„ï¼š")]),_:1}),e("blockquote",null,[e("p",null,[n("1ã€"),e("strong",null,[n("æŒ‚è½½ç›®å½•"),s(a,{color:"gree"},{default:t(()=>[n("æœåŠ¡ç«¯")]),_:1}),n("çš„æ•°æ®ä¼šè¦†ç›–"),s(a,{color:"blue"},{default:t(()=>[n("å®¢æˆ·ç«¯")]),_:1}),n("çš„æ•°æ®ï¼›")])]),e("p",null,[n("1ã€"),e("strong",null,[n("æŒ‚è½½ç›®å½•"),s(a,{color:"gree"},{default:t(()=>[n("æœåŠ¡ç«¯")]),_:1}),n("çš„æ•°æ®ä¼šè¦†ç›–"),s(a,{color:"blue"},{default:t(()=>[n("å®¢æˆ·ç«¯")]),_:1}),n("çš„æ•°æ®ï¼›")])]),e("p",null,[n("1ã€"),e("strong",null,[n("æŒ‚è½½ç›®å½•"),s(a,{color:"gree"},{default:t(()=>[n("æœåŠ¡ç«¯")]),_:1}),n("çš„æ•°æ®ä¼šè¦†ç›–"),s(a,{color:"blue"},{default:t(()=>[n("å®¢æˆ·ç«¯")]),_:1}),n("çš„æ•°æ®ï¼›")])]),e("p",null,[n("â€‹ "),e("strong",null,[n("æ‰§è¡Œ"),Y,n("æŒ‚è½½çš„ä¸º"),s(a,{color:"blue"},{default:t(()=>[n("å®¢æˆ·ç«¯")]),_:1}),n("ï¼›")])]),Z,$]),ee,e("p",null,[n("åœ¨"),s(a,{color:"blue"},{default:t(()=>[n("å®¢æˆ·ç«¯")]),_:1}),n("æ‰§è¡ŒæŒ‚è½½ç›®å½•å‘½ä»¤")]),e("p",null,[n("mount -t "),s(a,{color:"red"},{default:t(()=>[n("æŒ‡å®šæŒ‚è½½çš„æ–‡ä»¶ç±»å‹")]),_:1}),n(),s(a,{color:"gree"},{default:t(()=>[n("nfsæœåŠ¡ç«¯çš„IP")]),_:1}),n(":"),s(a,{color:"orange"},{default:t(()=>[n("æœåŠ¡ç«¯è¦å…±äº«çš„è·¯å¾„ç›®å½•")]),_:1}),n(),s(a,{color:"blue"},{default:t(()=>[n("è¦æŒ‚è½½åˆ°æœ¬æœºçš„è·¯å¾„ç›®å½•")]),_:1})]),ne,e("p",null,[n("è¿™æ ·åªæ˜¯ä¸´æ—¶æŒ‚è½½ï¼Œé‡å¯æœåŠ¡å™¨ä¹‹åå°±ä¼šæ¶ˆæ¯ï¼Œæ‰€ä»¥å¯ä»¥é…ç½®æ°¸ä¹…æŒ‚è½½ï¼Œåœ¨"),s(a,{color:"blue"},{default:t(()=>[n("å®¢æˆ·ç«¯")]),_:1}),n("ä¸Šï¼›")]),se,e("ul",null,[e("li",null,[n("å¸è½½æŒ‚è½½ï¼ˆ"),s(a,{color:"blue"},{default:t(()=>[n("å®¢æˆ·ç«¯")]),_:1}),n("ï¼‰")])]),ae])}const oe=r(u,[["render",te],["__file","ã€Linuxã€‘éƒ¨ç½²NFSæœåŠ¡å®ç°æ•°æ®å…±äº«.html.vue"]]);export{oe as default};
