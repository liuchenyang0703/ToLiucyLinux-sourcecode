import{_ as r}from"./plugin-vue_export-helper-c27b6911.js";import{r as o,o as c,c as p,a as n,b as s,d as e,w as l,e as i}from"./app-6706a352.js";const d={},u=n("p",null,[s("ğŸ‘¨â€ğŸ“"),n("strong",null,"åšä¸»ç®€ä»‹")],-1),h={href:"https://blog.csdn.net/liu_chen_yang?type=blog",target:"_blank",rel:"noopener noreferrer"},b=n("br",null,null,-1),m={href:"https://bbs.huaweicloud.com/community/myblog",target:"_blank",rel:"noopener noreferrer"},v=n("br",null,null,-1),_={href:"https://developer.aliyun.com/my?spm=a2c6h.13148508.setting.3.21fc4f0eCmz1v3#/article?_k=zooqoz",target:"_blank",rel:"noopener noreferrer"},g=n("br",null,null,-1),k=n("strong",null,"äº¤æµç¤¾åŒºï¼š",-1),f={href:"https://bbs.csdn.net/forums/lcy",target:"_blank",rel:"noopener noreferrer"},x=n("br",null,null,-1),y=n("br",null,null,-1),q=i(`<hr><figure><img src="https://lcy-blog.oss-cn-beijing.aliyuncs.com/blog/202412161332109.jpeg" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><h2 id="ä¸¤å°æœåŠ¡å™¨" tabindex="-1"><a class="header-anchor" href="#ä¸¤å°æœåŠ¡å™¨" aria-hidden="true">#</a> ä¸¤å°æœåŠ¡å™¨ï¼š</h2><table><thead><tr><th>æœåŠ¡å™¨ip</th><th>åº”ç”¨ï¼ˆè°ç”¨ï¼‰</th></tr></thead><tbody><tr><td>172.16.10.10</td><td>çº¿ä¸Š</td></tr><tr><td>172.16.10.20</td><td>ç ”å‘</td></tr></tbody></table><h2 id="ä¸šåŠ¡éœ€æ±‚" tabindex="-1"><a class="header-anchor" href="#ä¸šåŠ¡éœ€æ±‚" aria-hidden="true">#</a> ä¸šåŠ¡éœ€æ±‚ï¼š</h2><p>æœ‰ä¸¤å°æœåŠ¡å™¨ï¼Œä¸€å°ä¾›äºçº¿ä¸Šä½¿ç”¨ï¼ˆ172.16.10.10ï¼‰ï¼Œä¸€å°ä¾›äºç ”å‘ä½¿ç”¨ï¼ˆ172.16.10.20ï¼‰</p><p>å¦‚æœçº¿ä¸Šçš„æœåŠ¡å™¨æŒ‚äº†ï¼Œéœ€è¦å°†æ‰€æœ‰è¯·æ±‚è½¬ç§»åˆ°ç ”å‘çš„æœºå™¨ä¸Šï¼Œä»¥ç¡®ä¿çº¿ä¸ŠæœåŠ¡æ­£å¸¸ä½¿ç”¨ï¼›</p><p>æ­£å¸¸æ—¶é—´è¿˜æ˜¯çº¿ä¸Šä½¿ç”¨çº¿ä¸Šçš„æœåŠ¡å™¨ï¼Œç ”å‘ç”¨ç ”å‘çš„æœåŠ¡å™¨ï¼›åªæœ‰åœ¨çº¿ä¸ŠæœåŠ¡å™¨æŒ‚äº†çš„æ—¶å€™æ‰ä¼šä½¿ç”¨å¤‡ç”¨çš„ç ”å‘æœåŠ¡å™¨ï¼›</p><h2 id="éœ€æ±‚å®ç°" tabindex="-1"><a class="header-anchor" href="#éœ€æ±‚å®ç°" aria-hidden="true">#</a> éœ€æ±‚å®ç°ï¼š</h2><blockquote><p>ä½¿ç”¨nginxè´Ÿè½½å‡è¡¡æ¥å®ç°ï¼›<code>ip_hash</code>æ–¹å¼</p></blockquote><p>åœ¨nginxæœåŠ¡å™¨é…ç½®ä¸­æ·»åŠ è´Ÿè½½ï¼šï¼ˆè®¾ç½®è´Ÿè½½å‡è¡¡æ—¶åŒå°æœåŠ¡å™¨ä¸åŒç«¯å£ä¹Ÿå¯ä»¥ï¼Œä¸åŒæœåŠ¡å™¨ï¼ŒåŒç«¯å£ä¹Ÿå¯ä»¥ï¼‰</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code>    upstream front_server<span class="token punctuation">{</span>  <span class="token comment">#å®šä¹‰ä¸€ä¸ªæœåŠ¡é…ç½®front_server</span>
            ip_hash<span class="token punctuation">;</span> <span class="token comment">#è¡¨ç¤ºé…ç½®ä¸€ä¸ªç”¨æˆ·å›ºå®šè®¿é—®ä¸€å°è®¾å¤‡</span>
            server <span class="token number">172.16</span>.10.10:8080 <span class="token assign-left variable">weight</span><span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">;</span> <span class="token comment">#ç¬¬ä¸€å°æœåŠ¡æœºå™¨ è®¾ç½®æƒé‡å€¼1</span>
            server <span class="token number">172.16</span>.10.20:8080 <span class="token assign-left variable">weight</span><span class="token operator">=</span><span class="token number">2</span><span class="token punctuation">;</span> <span class="token comment">#ç¬¬äºŒå°æœåŠ¡æœºå™¨ è®¾ç½®æƒé‡å€¼2</span>
    <span class="token punctuation">}</span>
    server <span class="token punctuation">{</span>
        listen       <span class="token number">8099</span><span class="token punctuation">;</span>	<span class="token comment">#å¦‚æœæœ‰ä¸€ä¸ªæœåŠ¡æ˜¯æœ¬å°çš„é‚£ä¹ˆ8080è‚¯å®šä¼šè¢«å ç”¨ï¼Œè¿™æ—¶å€™æˆ‘ä»¬å¯ä»¥æ”¹ä¸€ä¸ªè®¿é—®ç«¯å£å³å¯ï¼›</span>
        server_name  localhost<span class="token punctuation">;</span>

        <span class="token comment">#charset koi8-r;</span>

        <span class="token comment">#access_log  logs/host.access.log  main;</span>

        location / <span class="token punctuation">{</span>
          <span class="token comment">#  root   html;</span>
          <span class="token comment">#  index  index.html index.htm;</span>
		proxy_pass http://front_server<span class="token variable">$request_uri</span><span class="token punctuation">;</span>
		proxy_http_version <span class="token number">1.1</span><span class="token punctuation">;</span>
		proxy_set_header Uparade <span class="token variable">$http_upgrade</span><span class="token punctuation">;</span>
		proxy_set_header Connection <span class="token string">&quot;Upgrade&quot;</span><span class="token punctuation">;</span>
		proxy_set_header Host <span class="token variable">$host</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>é…ç½®å®Œè´Ÿè½½ä¹‹åï¼ŒæŠ¥é”™ä¿å­˜é€€å‡ºï¼Œæ£€æµ‹<code>nginx</code>é…ç½®è¯­æ³•æ˜¯å¦æœ‰è¯¯ï¼›</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token comment">#æ£€æµ‹nginxé…ç½®è¯­æ³•æ˜¯å¦æœ‰è¯¯ï¼Œå‰é¢è·¯å¾„å¯æ ¹æ®è‡ªå·±å®‰è£…çš„ç›®å½•æ¥å†™</span>
/usr/local/nginx/sbin/nginx <span class="token parameter variable">-t</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><p>è¿”å›è¿™ä¸ªæœ‰<code>ok</code>ï¼Œåˆ™nginxé…ç½®æ²¡æœ‰é—®é¢˜ï¼›å¦‚æœæœ‰æŠ¥é”™ä¼šæ˜¾ç¤ºå‡ è¡ŒæŠ¥é”™çš„ã€‚</p><figure><img src="https://lcy-blog.oss-cn-beijing.aliyuncs.com/blog/202412161332468.png" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><p>æ£€æµ‹æ²¡é—®é¢˜ä¹‹åï¼Œé‡æ–°å¯åŠ¨nginxæœåŠ¡</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token comment">#é‡å¯nginxæœåŠ¡ï¼Œå‰é¢è·¯å¾„å¯æ ¹æ®è‡ªå·±å®‰è£…çš„ç›®å½•æ¥å†™</span>
/usr/local/nginx/sbin/nginx <span class="token parameter variable">-s</span> reload

<span class="token comment">#å¯åŠ¨å®Œæˆï¼Œæ£€æŸ¥æ˜¯å¦å¯åŠ¨ï¼ˆpsæŸ¥çœ‹æœåŠ¡æ˜¯å¦æ­£å¸¸å¯åŠ¨ã€netstatæŸ¥çœ‹é…ç½®çš„ç«¯å£æ˜¯å¦æ­£å¸¸å¯åŠ¨ï¼‰</span>
<span class="token function">ps</span> <span class="token parameter variable">-ef</span> <span class="token operator">|</span> <span class="token function">grep</span> nginx
<span class="token function">netstat</span> <span class="token parameter variable">-anput</span> <span class="token operator">|</span> <span class="token function">grep</span> <span class="token number">8099</span>

<span class="token comment">#å®Œæˆä¹‹åå°±å¯ä»¥é¡µé¢è®¿é—®äº†ã€‚</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div>`,18),w=n("code",null,"ip:prot",-1),N=n("p",null,"è®¿é—®é¡µé¢ï¼ŒæŒç»­ç›‘æ§ä¸¤å°æœåŠ¡çš„æ—¥å¿—è¾“å‡ºï¼Œæµ‹è¯•å³å¯ï¼›",-1),L=n("h2",{id:"è´Ÿè½½å‡è¡¡æ–¹å¼-å¸¸ç”¨çš„ä¸‰ç§",tabindex:"-1"},[n("a",{class:"header-anchor",href:"#è´Ÿè½½å‡è¡¡æ–¹å¼-å¸¸ç”¨çš„ä¸‰ç§","aria-hidden":"true"},"#"),s(" è´Ÿè½½å‡è¡¡æ–¹å¼ï¼ˆå¸¸ç”¨çš„ä¸‰ç§ï¼‰ï¼š")],-1),z=i(`<ul><li>è½®è¯¢ï¼š</li></ul><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code>    upstream front_server<span class="token punctuation">{</span>  <span class="token comment">#å®šä¹‰ä¸€ä¸ªæœåŠ¡é…ç½®front_server</span>
            server <span class="token number">172.16</span>.10.10:8080<span class="token punctuation">;</span> <span class="token comment">#ç¬¬ä¸€å°æœåŠ¡æœºå™¨ï¼ˆä¸¤å°æœåŠ¡å™¨éšæœºåˆ†é…è¯·æ±‚ï¼‰</span>
            server <span class="token number">172.16</span>.10.20:8080<span class="token punctuation">;</span> <span class="token comment">#ç¬¬äºŒå°æœåŠ¡æœºå™¨ï¼ˆä¸¤å°æœåŠ¡å™¨éšæœºåˆ†é…è¯·æ±‚ï¼‰</span>
    <span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>åŠ æƒè½®è¯¢ï¼š</li></ul><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code>    upstream front_server<span class="token punctuation">{</span>  <span class="token comment">#å®šä¹‰ä¸€ä¸ªæœåŠ¡é…ç½®front_server</span>
            server <span class="token number">172.16</span>.10.10:8080 <span class="token assign-left variable">weight</span><span class="token operator">=</span><span class="token number">5</span><span class="token punctuation">;</span> <span class="token comment">#ç¬¬ä¸€å°æœåŠ¡æœºå™¨ï¼Œæƒé‡å€¼æ¯”è¾ƒé«˜ï¼Œæ‰€ä»¥å¤§éƒ¨åˆ†çš„è¯·æ±‚éƒ½ä¼šåœ¨10ä¸Šï¼›</span>
            server <span class="token number">172.16</span>.10.20:8080 <span class="token assign-left variable">weight</span><span class="token operator">=</span><span class="token number">2</span><span class="token punctuation">;</span> <span class="token comment">#ç¬¬äºŒå°æœåŠ¡æœºå™¨ï¼Œæƒé‡å€¼æ¯”è¾ƒä½ï¼Œæ‰€ä»¥å°‘éƒ¨åˆ†çš„è¯·æ±‚ä¼šåœ¨20ä¸Šï¼›</span>
    <span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>ip_hash</li></ul><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code>    upstream front_server<span class="token punctuation">{</span>  <span class="token comment">#å®šä¹‰ä¸€ä¸ªæœåŠ¡é…ç½®front_server</span>
            ip_hash<span class="token punctuation">;</span>
            server <span class="token number">172.16</span>.10.10:8080<span class="token punctuation">;</span>
            server <span class="token number">172.16</span>.10.20:8080<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="ç›¸å…³æ–‡ç« " tabindex="-1"><a class="header-anchor" href="#ç›¸å…³æ–‡ç« " aria-hidden="true">#</a> ç›¸å…³æ–‡ç« </h2>`,7),C=n("thead",null,[n("tr",null,[n("th",null,"æ–‡ç« æ ‡é¢˜"),n("th",null,"æ–‡ç« è¿æ¥")])],-1),V=n("td",null,"ã€Linuxã€‘nginxåŸºç¡€ç¯‡ -- ä»‹ç»åŠyumå®‰è£…nginx",-1),j={href:"https://liucy.blog.csdn.net/article/details/133928000",target:"_blank",rel:"noopener noreferrer"},B=n("td",null,"ã€Linuxã€‘ç¯å¢ƒä¸‹éƒ¨ç½²NginxæœåŠ¡ - äºŒè¿›åˆ¶éƒ¨ç½²æ–¹å¼",-1),E={href:"https://liucy.blog.csdn.net/article/details/132145067",target:"_blank",rel:"noopener noreferrer"},$=n("td",null,"nginxé…ç½®è´Ÿè½½å‡è¡¡--å®æˆ˜é¡¹ç›®ï¼ˆé€‚ç”¨äºè½®è¯¢ã€åŠ æƒè½®è¯¢ã€ip_hashï¼‰",-1),I={href:"https://liucy.blog.csdn.net/article/details/133986013",target:"_blank",rel:"noopener noreferrer"},U=n("td",null,"nginxå¿«é€Ÿéƒ¨ç½²ä¸€ä¸ªç½‘ç«™æœåŠ¡ + å¤šåŸŸå + å¤šç«¯å£",-1),H={href:"https://liucy.blog.csdn.net/article/details/133986102",target:"_blank",rel:"noopener noreferrer"},S=n("td",null,"ã€Linuxã€‘Nginxä¸€ä¸ªåŸŸåhttps&ä¸€ä¸ªåœ°å€é…ç½®å¤šä¸ªé¡¹ç›®ã€é¡¹ç›®å®æˆ˜ã€‘",-1),T={href:"https://liucy.blog.csdn.net/article/details/144442148",target:"_blank",rel:"noopener noreferrer"},A=i('<h2 id="ç›¸å…³ä¸“æ " tabindex="-1"><a class="header-anchor" href="#ç›¸å…³ä¸“æ " aria-hidden="true">#</a> ç›¸å…³ä¸“æ </h2><blockquote><div align="center"><a href="https://blog.csdn.net/liu_chen_yang/category_10887074.html">â€ã€ŠLinuxä»å…¥é—¨åˆ°ç²¾é€šã€‹ä¸“æ  â€</a></div><div align="center"><a href="https://blog.csdn.net/liu_chen_yang/category_12419502.html">â€ã€ŠNginxã€‹ä¸“æ  â€</a></div></blockquote><blockquote><p>ğŸ‹ å¸Œæœ›å¤§å®¶å¤šå¤šæ”¯æŒï¼Œæˆ‘ä»¬ä¸€èµ·è¿›æ­¥ï¼ğŸ˜„<br> ğŸ‰å¦‚æœæ–‡ç« å¯¹ä½ æœ‰å¸®åŠ©çš„è¯ï¼Œæ¬¢è¿ ç‚¹èµ ğŸ‘ğŸ» è¯„è®º ğŸ’¬ æ”¶è— â­ï¸ åŠ å…³æ³¨+ğŸ’—</p></blockquote>',3);function D(F,G){const a=o("ExternalLinkIcon"),t=o("font");return c(),p("div",null,[n("blockquote",null,[u,n("p",null,[s("â€ƒâ€ƒğŸ…"),n("a",h,[s("äº‘è®¡ç®—é¢†åŸŸä¼˜è´¨åˆ›ä½œè€…"),e(a)]),b,s(" â€ƒâ€ƒğŸ…"),n("a",m,[s("åä¸ºäº‘å¼€å‘è€…ç¤¾åŒºä¸“å®¶åšä¸»"),e(a)]),v,s(" â€ƒâ€ƒğŸ…"),n("a",_,[s("é˜¿é‡Œäº‘å¼€å‘è€…ç¤¾åŒºä¸“å®¶åšä¸»"),e(a)]),g,s(" ğŸ’Š"),k,n("a",f,[s("è¿ç»´äº¤æµç¤¾åŒº"),e(a)]),s(" æ¬¢è¿å¤§å®¶çš„åŠ å…¥ï¼"),x,s(" ğŸ‹ å¸Œæœ›å¤§å®¶å¤šå¤šæ”¯æŒï¼Œæˆ‘ä»¬ä¸€èµ·è¿›æ­¥ï¼ğŸ˜„"),y,s(" ğŸ‰å¦‚æœæ–‡ç« å¯¹ä½ æœ‰å¸®åŠ©çš„è¯ï¼Œæ¬¢è¿ ç‚¹èµ ğŸ‘ğŸ» è¯„è®º ğŸ’¬ æ”¶è— â­ï¸ åŠ å…³æ³¨+ğŸ’—")])]),q,n("blockquote",null,[n("p",null,[s("é…ç½®å¥½ä¹‹åï¼Œè¿™ä¸ªåªæ˜¯é…ç½®äº†è´Ÿè½½å‡è¡¡ï¼Œå¦‚æœæœåŠ¡æœ‰åç¼€ï¼Œé‚£ä¹ˆè‡ªå·±åœ¨è®¿é—®è´Ÿè½½çš„"),w,s("çš„æ—¶å€™åœ¨åé¢åŠ ä¸Šåç¼€å³å¯ã€‚"),e(t,{color:"blue"},{default:l(()=>[s("ä¾‹å¦‚ï¼š172.16.10.10:8099/cs/index/")]),_:1})])]),N,L,e(t,{color:"red"},{default:l(()=>[s("è½®è¯¢ï¼š")]),_:1}),s("ä¸¤å°æœåŠ¡å™¨ä¼šéšæœºå‘é€è¯·æ±‚ï¼›"),e(t,{color:"red"},{default:l(()=>[s("åŠ æƒè½®è¯¢ï¼š")]),_:1}),s("ä¸¤å°æœåŠ¡å™¨ä¹Ÿéƒ½ä¼šéšæœºå‘é€è¯·æ±‚ï¼Œä½†æ˜¯ä¼šæœ‰ä¸€ä¸ªæƒé‡å€¼ï¼Œè°çš„æƒé‡å€¼é«˜ï¼Œæ¥æ”¶çš„è¯·æ±‚å°±ä¼šæ¯”å¦ä¸€ä¸ªå¤šï¼›"),e(t,{color:"red"},{default:l(()=>[s("ip_hashï¼š")]),_:1}),s("ä¹Ÿæ˜¯ä¼šæœ‰æƒé‡å€¼ï¼Œè°çš„æƒé‡å€¼è¶Šé«˜ï¼Œè¯·æ±‚å°±ä¼šåœ¨æœ€é«˜çš„æƒé‡å€¼ä¸­ï¼Œåªæœ‰å½“æƒé‡å€¼æœ€é«˜çš„é‚£å°æœåŠ¡å™¨æŒ‚äº†ï¼Œå†ä¼šå»æ‰¾æƒé‡å€¼ç¬¬äºŒçš„æœåŠ¡å™¨ï¼›ï¼ˆ1ä¸ºæœ€é«˜æƒé‡å€¼ï¼‰"),z,n("table",null,[C,n("tbody",null,[n("tr",null,[V,n("td",null,[n("a",j,[s("https://liucy.blog.csdn.net/article/details/133928000"),e(a)])])]),n("tr",null,[B,n("td",null,[n("a",E,[s("https://liucy.blog.csdn.net/article/details/132145067"),e(a)])])]),n("tr",null,[$,n("td",null,[n("a",I,[s("https://liucy.blog.csdn.net/article/details/133986013"),e(a)])])]),n("tr",null,[U,n("td",null,[n("a",H,[s("https://liucy.blog.csdn.net/article/details/133986102"),e(a)])])]),n("tr",null,[S,n("td",null,[n("a",T,[s("https://liucy.blog.csdn.net/article/details/144442148"),e(a)])])])])]),A])}const M=r(d,[["render",D],["__file","nginxé…ç½®è´Ÿè½½å‡è¡¡--å®æˆ˜é¡¹ç›®ï¼ˆé€‚ç”¨äºè½®è¯¢ã€åŠ æƒè½®è¯¢ã€ip_hashï¼‰.html.vue"]]);export{M as default};
