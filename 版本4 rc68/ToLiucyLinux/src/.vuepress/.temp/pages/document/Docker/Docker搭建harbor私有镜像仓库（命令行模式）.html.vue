<template><div><h2 id="ä¸€ã€å®‰è£…docker" tabindex="-1"><a class="header-anchor" href="#ä¸€ã€å®‰è£…docker"><span>ä¸€ã€å®‰è£…docker</span></a></h2>
<p>è¿™æ˜¯å®‰è£…dockerçš„æ­¥éª¤ï¼Œå¯ä»¥å‚è€ƒï¼›<br>
<a href="https://blog.csdn.net/liu_chen_yang/article/details/123842609" target="_blank" rel="noopener noreferrer">linuxï¼ˆcentosï¼‰ä¸­éƒ¨ç½²dockerï¼ˆæ­¥éª¤è¶…å…¨ï¼Œå«å¸¦ä¸€äº›å‘å±•å²å’Œä¸€äº›æ¦‚å¿µï¼‰</a><br>
å¯åŠ¨dockerå’Œè®¾ç½®å¼€æœºè‡ªå¯</p>
<div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34"><pre v-pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">#å¯åŠ¨daemon-reload</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">systemctl</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> daemon-reload</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">#å¯åŠ¨docker</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">systemctl</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> start</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> docker</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">#è®¾ç½®å¼€æœºè‡ªå¯</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">systemctl</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> enabel</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> docker</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="äºŒã€æ­å»ºharboré•œåƒä»“åº“" tabindex="-1"><a class="header-anchor" href="#äºŒã€æ­å»ºharboré•œåƒä»“åº“"><span>äºŒã€æ­å»ºharboré•œåƒä»“åº“</span></a></h2>
<blockquote>
<p>æ‹‰å–Registryç§æœ‰é•œåƒä»“åº“ï¼Œåœ¨æˆ‘ä»¬æœ¬åœ°æ­å»ºä¸€ä¸ªå†…ç½‘çš„ä»“åº“ï¼Œé¿å…å°†ä¸€äº›ç§å¯†é¡¹ç›®æš´éœ²åœ¨å…¬ç½‘ï¼Œå¼•å‘ä¸å¿…è¦çš„é£é™©</p>
</blockquote>
<h3 id="_1ã€ä¸‹è½½registryé•œåƒ" tabindex="-1"><a class="header-anchor" href="#_1ã€ä¸‹è½½registryé•œåƒ"><span>1ã€ä¸‹è½½Registryé•œåƒ</span></a></h3>
<div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34"><pre v-pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">docker</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> pull</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> registry</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div></div></div><figure><img src="https://lcy-blog.oss-cn-beijing.aliyuncs.com/blog/202412161459324.png" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure>
<h3 id="_2ã€è¿è¡Œregistryé•œåƒå¹¶æŸ¥çœ‹" tabindex="-1"><a class="header-anchor" href="#_2ã€è¿è¡Œregistryé•œåƒå¹¶æŸ¥çœ‹"><span>2ã€è¿è¡ŒRegistryé•œåƒå¹¶æŸ¥çœ‹</span></a></h3>
<div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34"><pre v-pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">docker</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> run</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66"> -d</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66"> --name</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> registry</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66"> -p</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> 5000:5000</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66"> -v</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> /storage/registry:/tmp/registry</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> registry</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div></div></div><figure><img src="https://lcy-blog.oss-cn-beijing.aliyuncs.com/blog/202412161459908.png" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure>
<h3 id="_3ã€æŸ¥çœ‹é•œåƒä»“åº“ä¸­çš„æ‰€æœ‰é•œåƒ" tabindex="-1"><a class="header-anchor" href="#_3ã€æŸ¥çœ‹é•œåƒä»“åº“ä¸­çš„æ‰€æœ‰é•œåƒ"><span>3ã€æŸ¥çœ‹é•œåƒä»“åº“ä¸­çš„æ‰€æœ‰é•œåƒ</span></a></h3>
<div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34"><pre v-pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">curl</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> http://127.0.0.1:5000/v2/_catalog</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div></div></div><p>ä¸‹å›¾è¿”å›çš„jsonæ•°æ®ä»£è¡¨æœ‰ä¸€ä¸ªä»“åº“ï¼Œå› ä¸ºæˆ‘åšæµ‹è¯•çš„æ—¶å€™ä¸Šä¼ äº†ä¸€ä¸ªé•œåƒã€‚ï¼ˆbusyboxï¼‰<br>
<img src="https://lcy-blog.oss-cn-beijing.aliyuncs.com/blog/202412161459771.png" alt="" loading="lazy"></p>
<h2 id="ä¸‰ã€é…ç½®ä»“åº“å¯ç›´æ¥é€šè¿‡httpæ–¹å¼è®¿é—®" tabindex="-1"><a class="header-anchor" href="#ä¸‰ã€é…ç½®ä»“åº“å¯ç›´æ¥é€šè¿‡httpæ–¹å¼è®¿é—®"><span>ä¸‰ã€é…ç½®ä»“åº“å¯ç›´æ¥é€šè¿‡httpæ–¹å¼è®¿é—®</span></a></h2>
<blockquote>
<p>dockeré»˜è®¤æ˜¯ä¼ è¾“æ–¹å¼ä½¿ç”¨httpsåè®®ï¼Œæˆ‘ä»¬æ‰‹å¤´ä¸Šæ²¡æœ‰httpsè¯ä¹¦ï¼Œæ‰€ä»¥æ­¤å¤„ä¸é…ç½®httpsè¯ä¹¦ï¼Œç›´æ¥è®¾ç½®å¯ä¿¡æºï¼Œä½¿æˆ‘ä»¬å†…ç½‘å¯ä»¥é€šè¿‡httpæ–¹å¼è®¿é—®</p>
</blockquote>
<h3 id="_1ã€ä¿®æ”¹vim-etc-docker-daemon-json-æ·»åŠ ä»¥ä¸‹å†…å®¹" tabindex="-1"><a class="header-anchor" href="#_1ã€ä¿®æ”¹vim-etc-docker-daemon-json-æ·»åŠ ä»¥ä¸‹å†…å®¹"><span>1ã€ä¿®æ”¹vim /etc/docker/daemon.json,æ·»åŠ ä»¥ä¸‹å†…å®¹</span></a></h3>
<p>æ²¡æœ‰daemon.jsonæ–‡ä»¶çš„è¯ï¼Œæ–°å»ºä¸€ä¸ªå°±å¥½ã€‚</p>
<div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34"><pre v-pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">    "insecure-registries"</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> :[</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF"> </span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">         "your-server-ip:5000"</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">    ]</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>å› ä¸ºæˆ‘è¿™æ˜¯å·²ç»æœ‰äº†å“ªä¸ªæ–‡ä»¶ï¼Œè€Œä¸”é‡Œé¢è¿˜æœ‰åˆ«çš„ï¼Œæ‰€ä»¥ï¼Œåˆ°æ—¶å€™ä¸€å®šè¦çœ‹å¥½æ ¼å¼ï¼›<br>
<img src="https://lcy-blog.oss-cn-beijing.aliyuncs.com/blog/202412161459734.png" alt="" loading="lazy"></p>
<h3 id="_2ã€é‡æ–°åŠ è½½ã€é‡å¯dockerã€å¯åŠ¨é•œåƒ" tabindex="-1"><a class="header-anchor" href="#_2ã€é‡æ–°åŠ è½½ã€é‡å¯dockerã€å¯åŠ¨é•œåƒ"><span>2ã€é‡æ–°åŠ è½½ã€é‡å¯dockerã€å¯åŠ¨é•œåƒ</span></a></h3>
<div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34"><pre v-pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">#é‡æ–°åŠ è½½</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">systemctl</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> daemon-reload</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">#é‡å¯docker</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">systemctl</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> restart</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> docker</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">#å¯åŠ¨registryå®¹å™¨</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">docker</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> start</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> registry</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="å››ã€ä¸Šä¼ é•œåƒè‡³ä»“åº“" tabindex="-1"><a class="header-anchor" href="#å››ã€ä¸Šä¼ é•œåƒè‡³ä»“åº“"><span>å››ã€ä¸Šä¼ é•œåƒè‡³ä»“åº“</span></a></h2>
<h3 id="_1ã€æŸ¥çœ‹æ‰€æœ‰é•œåƒ" tabindex="-1"><a class="header-anchor" href="#_1ã€æŸ¥çœ‹æ‰€æœ‰é•œåƒ"><span>1ã€æŸ¥çœ‹æ‰€æœ‰é•œåƒ</span></a></h3>
<div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34"><pre v-pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">[root@localhost ~]# docker images</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">REPOSITORY</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379">                                  TAG</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379">                 IMAGE</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> ID</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379">            CREATED</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379">             SIZE</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">mycentos</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66">                                    0.0.1</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379">               ce509ec398c1</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66">        2</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> days</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> ago</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379">          231MB</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_2ã€ç»™è¦ä¸Šä¼ çš„é•œåƒtagæ‰“ä¸ªæ ‡ç­¾-ä¿®æ”¹é•œåƒå" tabindex="-1"><a class="header-anchor" href="#_2ã€ç»™è¦ä¸Šä¼ çš„é•œåƒtagæ‰“ä¸ªæ ‡ç­¾-ä¿®æ”¹é•œåƒå"><span>2ã€ç»™è¦ä¸Šä¼ çš„é•œåƒtagæ‰“ä¸ªæ ‡ç­¾(ä¿®æ”¹é•œåƒå)</span></a></h3>
<p><strong><font color=teal>æ ¼å¼ï¼š</font></strong></p>
<div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34"><pre v-pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">docker</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> tag</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> é•œåƒå:ç‰ˆæœ¬</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> you-ip:ç«¯å£/é•œåƒå:ç‰ˆæœ¬</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div></div></div><p><strong><font color=teal>å®ä¾‹ï¼š</font></strong></p>
<div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34"><pre v-pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">docker</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> tag</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> mycentos:0.0.1</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> 127.0.0.1:5000/mycentos:v1</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div></div></div><h3 id="_3ã€æ¨é€é•œåƒåˆ°harborä»“åº“" tabindex="-1"><a class="header-anchor" href="#_3ã€æ¨é€é•œåƒåˆ°harborä»“åº“"><span>3ã€æ¨é€é•œåƒåˆ°harborä»“åº“</span></a></h3>
<p><strong><font color=teal>æ ¼å¼ï¼š</font></strong></p>
<div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34"><pre v-pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">docker</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> push</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> ä¿®æ”¹çš„é•œåƒå</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div></div></div><p><strong><font color=teal>å®ä¾‹ï¼š</font></strong></p>
<div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34"><pre v-pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">[root@localhost ~]# docker push 127.0.0.1:5000/mycentos:v1</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">The</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> push</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> refers</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> to</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> repository</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF"> [127.0.0.1:5000/mycentos]</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">74ddd0ec08fa:</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> Pushed</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF"> </span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">v1:</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> digest:</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> sha256:d8217a445d79fb6325eb26a651d2a7a1ceb7f53c44d82cd7bb9e8fd2bdb384a9</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> size:</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66"> 529</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>è¿™æ ·è¡¨ç¤ºæ‹‰å–æˆåŠŸã€‚</p>
<h3 id="_4ã€éªŒè¯æ˜¯å¦æ¨é€æˆåŠŸ" tabindex="-1"><a class="header-anchor" href="#_4ã€éªŒè¯æ˜¯å¦æ¨é€æˆåŠŸ"><span>4ã€éªŒè¯æ˜¯å¦æ¨é€æˆåŠŸ</span></a></h3>
<div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34"><pre v-pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">[root@localhost ~]# curl http://127.0.0.1:5000/v2/_catalog</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">{</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">"repositories"</span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2">:</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379">[</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">"busybox"</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">,</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">"mycentos"</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">]}</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div></div></div><p><img src="https://lcy-blog.oss-cn-beijing.aliyuncs.com/blog/202412161458234.png" alt="" loading="lazy"><br>
è¿™é‡Œæˆ‘ä»¬å¯ä»¥çœ‹åˆ°ï¼Œå¤šäº†ä¸€ä¸ªmycentosï¼Œè¿™æ ·å°±æ˜¯æ¨é€æˆåŠŸäº†ï¼Œmycentosé•œåƒå°±å·²ç»ä¸Šä¼ ä¸Šæ¥äº†ã€‚</p>
<h2 id="äº”ã€æœ¬åœ°æ‹‰å–é•œåƒ" tabindex="-1"><a class="header-anchor" href="#äº”ã€æœ¬åœ°æ‹‰å–é•œåƒ"><span>äº”ã€æœ¬åœ°æ‹‰å–é•œåƒ</span></a></h2>
<p><strong><font color=teal>æ ¼å¼ï¼š</font></strong></p>
<div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34"><pre v-pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">docker</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> pull</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> ä¸Šä¼ æ—¶ä¿®æ”¹çš„é•œåƒå</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div></div></div><p><strong><font color=teal>å®ä¾‹ï¼š</font></strong></p>
<div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34"><pre v-pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">[root@localhost ~]# docker pull 127.0.0.1:5000/mycentos:v1</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">v1:</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> Pulling</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> from</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> mycentos</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">a1d0c7532777:</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> Already</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> exists</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF"> </span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">Digest:</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> sha256:d8217a445d79fb6325eb26a651d2a7a1ceb7f53c44d82cd7bb9e8fd2bdb384a9</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">Status:</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> Downloaded</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> newer</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> image</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> for</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> 127.0.0.1:5000/mycentos:v1</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">127.0.0.1:5000/mycentos:v1</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>æŸ¥çœ‹é•œåƒï¼Œæˆ‘ä»¬å°±å¯ä»¥çœ‹åˆ°å·²ç»æ‹‰å–äº†ã€‚ï¼ˆåˆšåˆšçš„é•œåƒå·²ç»åˆ é™¤è¿™æ˜¯é‡æ–°ä»harboré•œåƒä»“åº“æ‹‰çš„ï¼‰</strong><br>
<img src="https://lcy-blog.oss-cn-beijing.aliyuncs.com/blog/202412161458496.png" alt="" loading="lazy"><br>
<strong>è¦æƒ³æ”¹å›åŸæ¥çš„åå­—ï¼Œæˆ‘ä»¬å¯ä»¥ç»™ä»–æ‰“æ ‡ç­¾ï¼›</strong></p>
<p><strong><font color=teal>æ ¼å¼ï¼š</font></strong></p>
<div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34"><pre v-pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">docker</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> tag</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> ä¸Šä¼ æ—¶ä¿®æ”¹çš„é•œåƒå</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> ç°åœ¨æƒ³æ”¹å›å»çš„é•œåƒå:ç‰ˆæœ¬</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div></div></div><p><strong><font color=teal>å®ä¾‹ï¼š</font></strong></p>
<div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34"><pre v-pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">docker</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> tag</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> 127.0.0.1:5000/mycentos:v1</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> mycentos:v1</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div></div></div><p>è¿™æ ·å°±æ”¹å›æ¥äº†ã€‚<br>
<img src="https://lcy-blog.oss-cn-beijing.aliyuncs.com/blog/202412161458538.png" alt="" loading="lazy"></p>
<h2 id="å…­ã€å®¢æˆ·ç«¯-å¦ä¸€å°æœåŠ¡å™¨-æ‹‰å–é•œåƒ" tabindex="-1"><a class="header-anchor" href="#å…­ã€å®¢æˆ·ç«¯-å¦ä¸€å°æœåŠ¡å™¨-æ‹‰å–é•œåƒ"><span>å…­ã€å®¢æˆ·ç«¯ï¼ˆå¦ä¸€å°æœåŠ¡å™¨ï¼‰æ‹‰å–é•œåƒ</span></a></h2>
<p>å¦ä¸€å°å®¢æˆ·æœºä¹Ÿéœ€è¦dockeræ˜¯å‰æï¼Œæ³¨æ„è¦é…ç½®httpæ–¹å¼è®¿é—®ï¼Œç„¶åè®¿é—®ä¸‹è½½é•œåƒã€‚</p>
<h3 id="_1ã€1-ä¿®æ”¹vim-etc-docker-daemon-jsonæ·»åŠ ä»¥ä¸‹å†…å®¹" tabindex="-1"><a class="header-anchor" href="#_1ã€1-ä¿®æ”¹vim-etc-docker-daemon-jsonæ·»åŠ ä»¥ä¸‹å†…å®¹"><span>1ã€1. ä¿®æ”¹vim /etc/docker/daemon.jsonæ·»åŠ ä»¥ä¸‹å†…å®¹</span></a></h3>
<p>your-server-ipâ€”â€”ä½ æœåŠ¡ç«¯çš„ip</p>
<div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34"><pre v-pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">{ </span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">    "insecure-registries"</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> :[</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">     	"your-server-ip:5000"</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">     ] </span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">}</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_2ã€é‡æ–°åŠ è½½ã€é‡å¯docker" tabindex="-1"><a class="header-anchor" href="#_2ã€é‡æ–°åŠ è½½ã€é‡å¯docker"><span>2ã€é‡æ–°åŠ è½½ã€é‡å¯docker</span></a></h3>
<div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34"><pre v-pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">#é‡æ–°åŠ è½½</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">systemctl</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> daemon-reload</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">#é‡å¯docker</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">systemctl</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> restart</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> docker</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_3ã€æ‹‰å–é•œåƒ" tabindex="-1"><a class="header-anchor" href="#_3ã€æ‹‰å–é•œåƒ"><span>3ã€æ‹‰å–é•œåƒ</span></a></h3>
<p>ipè¦æœåŠ¡ç«¯è®¾ç½®çš„ipï¼Œæˆ‘é‚£è¾¹åæ¥æœ‰è®¾ç½®äº†ä¸€ä¸ªåŒç½‘æ®µçš„ipï¼Œæ‰€ä»¥ç°åœ¨æ‰å¯ä»¥è®¿é—®åˆ°ï¼›</p>
<div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34"><pre v-pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">docker</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> pull</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> 192.168.2.22:5000/registry:v1</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div></div></div><p><img src="https://lcy-blog.oss-cn-beijing.aliyuncs.com/blog/202412161458194.png" alt="" loading="lazy"><br>
è¿™é‡Œå°±å¯ä»¥çœ‹åˆ°æˆ‘ä»¬å·²ç»æ‹‰å–æˆåŠŸäº†ã€‚<br>
<img src="https://lcy-blog.oss-cn-beijing.aliyuncs.com/blog/202412161458763.gif" alt="" loading="lazy"></p>
<h2 id="ä¸ƒã€æ€»ç»“" tabindex="-1"><a class="header-anchor" href="#ä¸ƒã€æ€»ç»“"><span>ä¸ƒã€æ€»ç»“</span></a></h2>
<p><strong>ç›¸å…³æ–‡ç« ï¼š</strong></p>
<blockquote>
<p>â‘ ã€<a href="https://blog.csdn.net/liu_chen_yang/article/details/124665726?spm=1001.2014.3001.5502" target="_blank" rel="noopener noreferrer">Dockerâ€”â€”denied: requested access to the resource is deniedé—®é¢˜ä»¥åŠè§£å†³æ–¹æ³•</a><br>
â‘¡ã€<a href="https://blog.csdn.net/liu_chen_yang/article/details/124688952" target="_blank" rel="noopener noreferrer">Linuxä¸­å®‰è£…/éƒ¨ç½²docker-compose</a><br>
â‘¢ã€<a href="https://blog.csdn.net/liu_chen_yang/article/details/124623482" target="_blank" rel="noopener noreferrer">Linuxä¸­åŸºäºDockeræ­å»ºharborç§æœ‰é•œåƒä»“åº“ï¼ˆè¶…çº§è¯¦ç»†ï¼‰</a>ğŸ”¥ğŸ”¥<br>
â‘£ã€<a href="https://blog.csdn.net/liu_chen_yang/article/details/124670946?spm=1001.2014.3001.5502" target="_blank" rel="noopener noreferrer">Dockerå‘å¸ƒ/ä¸Šä¼ é•œåƒåˆ°dockerhub&amp;&amp;ä¸‹è½½/æ‹‰å–é•œåƒ&amp;&amp;åˆ é™¤dockerhubé•œåƒ</a></p>
</blockquote>
</div></template>


