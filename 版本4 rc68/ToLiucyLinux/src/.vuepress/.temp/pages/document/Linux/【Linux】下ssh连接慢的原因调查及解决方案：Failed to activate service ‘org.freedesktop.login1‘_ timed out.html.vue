<template><div><blockquote>
<p>ğŸ<strong>åšä¸»ç®€ä»‹</strong></p>
<p>â€ƒâ€ƒğŸ…<a href="https://blog.csdn.net/liu_chen_yang?type=blog" target="_blank" rel="noopener noreferrer">äº‘è®¡ç®—é¢†åŸŸä¼˜è´¨åˆ›ä½œè€…</a><br>
â€ƒâ€ƒğŸ…<a href="https://bbs.huaweicloud.com/community/myblog" target="_blank" rel="noopener noreferrer">åä¸ºäº‘å¼€å‘è€…ç¤¾åŒºä¸“å®¶åšä¸»</a><br>
â€ƒâ€ƒğŸ…<a href="https://developer.aliyun.com/my?spm=a2c6h.13148508.setting.3.21fc4f0eCmz1v3#/article?_k=zooqoz" target="_blank" rel="noopener noreferrer">é˜¿é‡Œäº‘å¼€å‘è€…ç¤¾åŒºä¸“å®¶åšä¸»</a><br>
ğŸ’Š<strong>äº¤æµç¤¾åŒºï¼š</strong><a href="https://bbs.csdn.net/forums/lcy" target="_blank" rel="noopener noreferrer">è¿ç»´äº¤æµç¤¾åŒº</a> æ¬¢è¿å¤§å®¶çš„åŠ å…¥ï¼</p>
</blockquote>
<blockquote>
<p>æœ€è¿‘æœ‰ä¸€å°çº¿ä¸Šçš„æœåŠ¡å™¨ï¼Œå‘ç°ä½¿ç”¨<code v-pre>xshell</code>ç­‰å·¥å…·è¿›è¡Œè¿æ¥çš„æ—¶å€™ç‰¹åˆ«æ…¢ï¼Œå¤§æ¦‚è¾“å…¥å¯†ç åè¦20ç§’å·¦å³æ‰èƒ½è¿ä¸Šï¼Œæœ‰çš„ç”šè‡³ä½¿ç”¨<code v-pre>finalshell</code>å·¥å…·è¿æ¥ä¼šç›´æ¥æŠ¥é”™<code v-pre>channel is not opened.</code>ï¼Œä»¥ä¸‹è®°å½•ä¸€ä¸‹æ’æŸ¥è¿‡ç¨‹åŠè§£å†³æ–¹æ³•ï¼›</p>
</blockquote>
<ul>
<li>ç½‘ä¸ŠæŸ¥è¯¢çš„ä¸€äº›è¯´æ³•</li>
</ul>
<blockquote>
<p>é€šè¿‡ç½‘ä¸Šçš„ä¸€äº›æŸ¥è¯¢ï¼Œå‘ç°å¤§éƒ½æ˜¯å› ä¸ºè®¾ç½®dnsï¼Œhostsæˆ–è€…é€šè¿‡<code v-pre>/etc/ssh/sshd_config</code>å…³é—­<code v-pre>UseDNS=no</code> å’Œ <code v-pre>GSSAPIAuthentication no</code>çš„æ–¹å¼æ¥è§£å†³ï¼Œä½†æˆ‘çš„é—®é¢˜å’Œè¿™äº›ä¸åŒï¼Œé¦–å…ˆæˆ‘æ˜¯é€šè¿‡ipè¿æ¥çš„ï¼Œä¸å­˜åœ¨dnsåŸŸåè§£æçš„é—®é¢˜ï¼Œå¹¶ä¸”sshd_configæ–‡ä»¶ä¸­çš„è¿™äº›è®¾ç½®é¡¹ä¹Ÿéƒ½æ˜¯noï¼Œå› æ­¤è‡ªå·±é€šè¿‡è°ƒæŸ¥ï¼Œå‘ç°æ˜¯ä»¥ä¸‹åŸå› å¼•èµ·çš„ï¼š</p>
</blockquote>
<h2 id="æ’æŸ¥æ€è·¯-å››ç§æ–¹æ³•é€‰ä¸€ç§å³å¯" tabindex="-1"><a class="header-anchor" href="#æ’æŸ¥æ€è·¯-å››ç§æ–¹æ³•é€‰ä¸€ç§å³å¯"><span>æ’æŸ¥æ€è·¯ï¼ˆå››ç§æ–¹æ³•é€‰ä¸€ç§å³å¯ï¼‰</span></a></h2>
<h3 id="ä½¿ç”¨ssh-v-root-ip-æ¥æŸ¥çœ‹å…·ä½“çš„è¿æ¥è¿‡ç¨‹" tabindex="-1"><a class="header-anchor" href="#ä½¿ç”¨ssh-v-root-ip-æ¥æŸ¥çœ‹å…·ä½“çš„è¿æ¥è¿‡ç¨‹"><span>ä½¿ç”¨	ssh -V root@ip æ¥æŸ¥çœ‹å…·ä½“çš„è¿æ¥è¿‡ç¨‹</span></a></h3>
<div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34"><pre v-pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">ssh</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66"> -V</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> root@ip</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">#æŒ‡å®šç«¯å£æŸ¥çœ‹è¿æ¥è¿‡ç¨‹</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">ssh</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66"> -V</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> root@ip</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66"> -p</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> port</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34"><pre v-pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">OpenSSH_6.9p1,</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> LibreSSL</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66"> 2.1.8</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">debug1:</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> Reading</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> configuration</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> data</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> /etc/ssh/ssh_config</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">debug1:</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> /etc/ssh/ssh_config</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> line</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> 21:</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> Applying</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> options</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> for</span><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B"> *</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">debug1:</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> Connecting</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> to</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> x.x.x.x</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF"> [x.x.x.x] port xx.</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">debug1:</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> Connection</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> established.</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">debug1:</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> identity</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> file</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> /Users/yyq/.ssh/id_rsa</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> type</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66"> 1</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">debug1:</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> key_load_public:</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> No</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> such</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> file</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> or</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> directory</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">debug1:</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> identity</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> file</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> /Users/yyq/.ssh/id_rsa-cert</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> type</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66"> -1</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">debug1:</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> identity</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> file</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> /Users/yyq/.ssh/id_dsa</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> type</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66"> 2</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">debug1:</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> key_load_public:</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> No</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> such</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> file</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> or</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> directory</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">debug1:</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> identity</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> file</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> /Users/yyq/.ssh/id_dsa-cert</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> type</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66"> -1</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">debug1:</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> key_load_public:</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> No</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> such</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> file</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> or</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> directory</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">debug1:</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> identity</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> file</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> /Users/yyq/.ssh/id_ecdsa</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> type</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66"> -1</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">debug1:</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> key_load_public:</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> No</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> such</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> file</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> or</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> directory</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">debug1:</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> identity</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> file</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> /Users/yyq/.ssh/id_ecdsa-cert</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> type</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66"> -1</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">debug1:</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> key_load_public:</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> No</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> such</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> file</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> or</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> directory</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">debug1:</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> identity</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> file</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> /Users/yyq/.ssh/id_ed25519</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> type</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66"> -1</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">debug1:</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> key_load_public:</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> No</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> such</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> file</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> or</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> directory</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">debug1:</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> identity</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> file</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> /Users/yyq/.ssh/id_ed25519-cert</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> type</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66"> -1</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">debug1:</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> Enabling</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> compatibility</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> mode</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> for</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> protocol</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66"> 2.0</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">debug1:</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> Local</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> version</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> string</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> SSH-2.0-OpenSSH_6.9</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">debug1:</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> Remote</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> protocol</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> version</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> 2.0,</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> remote</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> software</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> version</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> OpenSSH_7.2p2</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> Ubuntu-4ubuntu2.1</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">debug1:</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> match:</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> OpenSSH_7.2p2</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> Ubuntu-4ubuntu2.1</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> pat</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> OpenSSH</span><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B">*</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> compat</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66"> 0x04000000</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">debug1:</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> Authenticating</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> to</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> x.x.x.x:xx</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> as</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> 'root'</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">debug1:</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> SSH2_MSG_KEXINIT</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> sent</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">debug1:</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> SSH2_MSG_KEXINIT</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> received</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">debug1:</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> kex:</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> server</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">-></span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379">client</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> chacha20-poly1305@openssh.com</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF"> &#x3C;</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379">implici</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">t> </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379">none</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">debug1:</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> kex:</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> client</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">-></span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379">server</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> chacha20-poly1305@openssh.com</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF"> &#x3C;</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379">implici</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">t> </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379">none</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">debug1:</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> expecting</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> SSH2_MSG_KEX_ECDH_REPLY</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">debug1:</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> Server</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> host</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> key:</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> ecdsa-sha2-nistp256</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> SHA256:HictrRpAs7Yv495dDLNqHsFCNKXVACpX9FWUnNVenZU</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">debug1:</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> Host</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> '[x.x.x.x]:xx'</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> is</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> known</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> and</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> matches</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> the</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> ECDSA</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> host</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> key.</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">debug1:</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> Found</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> key</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> in</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> /Users/yyq/.ssh/known_hosts:38</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">debug1:</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> SSH2_MSG_NEWKEYS</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> sent</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">debug1:</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> expecting</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> SSH2_MSG_NEWKEYS</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">debug1:</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> SSH2_MSG_NEWKEYS</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> received</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">debug1:</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> SSH2_MSG_SERVICE_REQUEST</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> sent</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">debug1:</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> SSH2_MSG_SERVICE_ACCEPT</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> received</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">debug1:</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> Authentications</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> that</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> can</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> continue:</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> publickey,password</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">debug1:</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> Next</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> authentication</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> method:</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> publickey</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">debug1:</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> Offering</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> RSA</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> public</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> key:</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> /Users/yyq/.ssh/id_rsa</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">debug1:</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> Authentications</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> that</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> can</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> continue:</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> publickey,password</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">debug1:</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> Offering</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> DSA</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> public</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> key:</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> /Users/yyq/.ssh/id_dsa</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">debug1:</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> Authentications</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> that</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> can</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> continue:</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> publickey,password</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">debug1:</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> Trying</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> private</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> key:</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> /Users/yyq/.ssh/id_ecdsa</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">debug1:</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> Trying</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> private</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> key:</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> /Users/yyq/.ssh/id_ed25519</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>æ­£å¸¸æ¥è¯´æ˜¯æœ‰è¿™ä¹ˆå¤šçš„ï¼Œå¦‚æœåªæœ‰ä¸€è¡Œçš„è¯<code v-pre>OpenSSH_7.4p1, OpenSSL 1.0.2k-fips  26 Jan 2017 </code>ï¼Œå¯ä»¥ä½¿ç”¨å¦ä¸€ç§æ–¹å¼æŸ¥çœ‹sshè¿æ¥è¿‡ç¨‹ã€‚</p>
<h3 id="æŸ¥çœ‹sshè¿æ¥æ—¥å¿—" tabindex="-1"><a class="header-anchor" href="#æŸ¥çœ‹sshè¿æ¥æ—¥å¿—"><span>æŸ¥çœ‹sshè¿æ¥æ—¥å¿—</span></a></h3>
<blockquote>
<p>å¯ä»¥é€šè¿‡æŸ¥çœ‹SSHè¿æ¥çš„æ—¥å¿—æ–‡ä»¶æ¥äº†è§£SSHè¿æ¥æœŸé—´æ‰€æ‰§è¡Œçš„æ“ä½œã€‚SSHè¿æ¥çš„æ—¥å¿—æ–‡ä»¶é€šå¸¸ä½äº<code v-pre>/var/log/auth.logï¼ˆUbuntuå’ŒDebianï¼‰</code>æˆ–<code v-pre>/var/log/secureï¼ˆCentOSå’ŒRed Hatï¼‰</code>ã€‚</p>
</blockquote>
<p>å¯ä»¥ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤æ¥æŸ¥çœ‹SSHè¿æ¥çš„æ—¥å¿—æ–‡ä»¶ï¼š</p>
<div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34"><pre v-pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">sudo</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> tail</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66"> -f</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> /var/log/auth.log</span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">  # Ubuntu / Debian</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">sudo</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> tail</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66"> -f</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> /var/log/secure</span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic">   # CentOS / Red Hat</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div></div></div><blockquote>
<p>è¿™å°†æ˜¾ç¤ºå®æ—¶çš„SSHè¿æ¥æ—¥å¿—ã€‚æ‚¨å¯ä»¥æŸ¥çœ‹æ¯ä¸ªè¿æ¥çš„è¯¦ç»†ä¿¡æ¯ï¼Œä¾‹å¦‚è¿æ¥æ—¶é—´ã€æ¥æºIPåœ°å€ã€ç”¨æˆ·åã€è®¤è¯æ–¹æ³•ç­‰ã€‚å¦‚æœæ‚¨æƒ³æŸ¥çœ‹è¿æ¥æœŸé—´æ‰§è¡Œçš„æ“ä½œï¼Œå¯ä»¥æŸ¥çœ‹æ—¥å¿—æ–‡ä»¶ä¸­çš„å‘½ä»¤å†å²è®°å½•æˆ–ç³»ç»Ÿæ—¥å¿—ã€‚</p>
</blockquote>
<ul>
<li>è¿æ¥ä¸Šä¹‹åæ‰§è¡Œå‘½ä»¤ï¼ŒæŒç»­æŸ¥çœ‹æ—¥å¿—è¾“å‡ºï¼›å†å¼€ä¸€ä¸ªçª—å£å»è§‚å¯Ÿè¿æ¥éƒ½æ‰§è¡Œäº†ä»€ä¹ˆ</li>
</ul>
<p>å»å¼€ä¸€ä¸ªæ–°çª—å£è¿æ¥ï¼Œå·²è¿æ¥çš„çª—å£æŸ¥çœ‹æ—¥å¿—</p>
<div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34"><pre v-pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">[root@mail2 ~]# tail -f /var/log/secure</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">Mar</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66"> 29</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> 13:25:35</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> mail2</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> sshd[71370]:</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> Accepted</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> password</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> for</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> root</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> from</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66"> 122.22.22.1</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> port</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66"> 53431</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> ssh2</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">Mar</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66"> 29</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> 13:25:44</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> mail2</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> useradd[71439]:</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> new</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> user:</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> name=333223442,</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> UID=22123,</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> GID=1004,</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> home=/home/333223442,</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> shell=/sbin/nologin</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">Mar</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66"> 29</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> 13:25:44</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> mail2</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> passwd:</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> pam_unix</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">(</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">passwd:chauthtok</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">)</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379">:</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> password</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> changed</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> for</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66"> 333223442</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">Mar</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66"> 29</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> 13:26:00</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> mail2</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> sshd[71370]:</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> pam_systemd</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">(</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">sshd:session</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">)</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379">:</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> Failed</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> to</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> create</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> session:</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> Connection</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> timed</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> out</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">Mar</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66"> 29</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> 13:26:00</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> mail2</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> sshd[71370]:</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> pam_unix</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">(</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">sshd:session</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">)</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379">:</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> session</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> opened</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> for</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> user</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> root</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> by</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF"> (uid=0)</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">Mar</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66"> 29</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> 13:26:00</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> mail2</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> sudo:</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> pam_systemd</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">(</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">sudo:session</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">)</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379">:</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> Failed</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> to</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> create</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> session:</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> Failed</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> to</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> activate</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> service</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> 'org.freedesktop.login1':</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> timed</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> out</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">Mar</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66"> 29</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> 13:26:00</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> mail2</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> sudo:</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> pam_unix</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">(</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">sudo:session</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">)</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379">:</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> session</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> opened</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> for</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> user</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> root</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> by</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF"> (uid=0)</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">Mar</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66"> 29</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> 13:26:00</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> mail2</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> sudo:</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> pam_unix</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">(</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">sudo:session</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">)</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379">:</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> session</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> closed</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> for</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> user</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> root</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>ä»è¿™å¯ä»¥æ˜æ˜¾çš„å‘ç°ä¸­é—´æœ‰<code v-pre>timed out</code>è¿™ä¸ªå•è¯ï¼Œè¿™ä¸ªå°±æ˜¯æŠ¥é”™ä¿¡æ¯ï¼Œè¿æ¥è¿™ä¸ªè¶…æ—¶ã€‚<br>
æŠ¥é”™ä¿¡æ¯ï¼š<code v-pre>pam_systemd(sudo:session): Failed to create session: Failed to activate service 'org.freedesktop.login1': timed out</code></p>
<h3 id="é€šè¿‡æŸ¥çœ‹sshdçŠ¶æ€æŸ¥çœ‹" tabindex="-1"><a class="header-anchor" href="#é€šè¿‡æŸ¥çœ‹sshdçŠ¶æ€æŸ¥çœ‹"><span>é€šè¿‡æŸ¥çœ‹sshdçŠ¶æ€æŸ¥çœ‹</span></a></h3>
<div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34"><pre v-pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">systemctl</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> status</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> sshd</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div></div></div><p><img src="https://lcy-blog.oss-cn-beijing.aliyuncs.com/blog/202412181614044.png" alt="" loading="lazy"><br>
æ­£å¸¸æ¥è¯´æœ‰æŠ¥é”™ä¼šåœ¨è¿™é‡Œæ˜¾ç¤ºçš„ï¼Œé™¤éå·²ç»è§£å†³ï¼Œå°±æ¯”å¦‚æˆ‘å·²ç»è§£å†³äº†å°±çœ‹ä¸åˆ°äº†ã€‚</p>
<h3 id="ä¹Ÿå¯é€šè¿‡-journalctl-u-sshd-æ¥æŸ¥çœ‹æ—¥å¿—æŠ¥é”™" tabindex="-1"><a class="header-anchor" href="#ä¹Ÿå¯é€šè¿‡-journalctl-u-sshd-æ¥æŸ¥çœ‹æ—¥å¿—æŠ¥é”™"><span>ä¹Ÿå¯é€šè¿‡ journalctl -u sshd æ¥æŸ¥çœ‹æ—¥å¿—æŠ¥é”™</span></a></h3>
<div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34"><pre v-pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">journalctl</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66"> -u</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> sshd</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div></div></div><p>ç¿»åˆ°è¿™å‡ å¤©è¿æ¥ä¸åˆ°çš„æ—¥æœŸï¼Œæ¥æŸ¥çœ‹ï¼›</p>
<figure><img src="https://lcy-blog.oss-cn-beijing.aliyuncs.com/blog/202412181614100.png" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure>
<p>åŒæ ·ä¹Ÿå¯ä»¥æŸ¥çœ‹è¿™ä¸ªæŠ¥é”™ï¼š<code v-pre>â€œpam_systemd(sudo:session): Failed to create session: Failed to activate service 'org.freedesktop.login1': timed outâ€</code></p>
<h2 id="æ€»ç»“é—®é¢˜" tabindex="-1"><a class="header-anchor" href="#æ€»ç»“é—®é¢˜"><span>æ€»ç»“é—®é¢˜</span></a></h2>
<p>é€šè¿‡ä»¥ä¸Šå‡ ç§æ’æŸ¥é”™è¯¯ä¿¡æ¯çš„æ–¹å¼æ¥çœ‹ï¼Œå°±å‘ç°äº†ä¸€ä¸ªæŠ¥é”™ï¼›<br>
æŠ¥é”™ä¿¡æ¯ï¼š<code v-pre>pam_systemd(sudo:session): Failed to create session: Failed to activate service 'org.freedesktop.login1': timed out</code></p>
<h2 id="è§£å†³æ–¹å¼" tabindex="-1"><a class="header-anchor" href="#è§£å†³æ–¹å¼"><span>è§£å†³æ–¹å¼</span></a></h2>
<div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34"><pre v-pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">Failed</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> to</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> create</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> session:</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> Failed</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> to</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> activate</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> service</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> 'org.freedesktop.login1':</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> timed</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> out</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div></div></div><p>ä»¥ä¸ŠæŠ¥é”™çš„ä¿¡æ¯å¤§è‡´æ„æ€å¦‚ä¸‹ï¼š</p>
<blockquote>
<p>dbusçš„æœåŠ¡é‡å¯åï¼Œ<code v-pre>systemd-logind</code>æœåŠ¡æ²¡æœ‰é‡å¯å¯¼è‡´ï¼Œå¯ä»¥æŸ¥çœ‹<code v-pre>systemctl status systemd-logind</code>çš„çŠ¶æ€ï¼Œè§£å†³æ–¹æ³•å°±æ˜¯é‡å¯è¯¥æœåŠ¡ <code v-pre>systemctl restart systemd-logind</code><br><br>
é‡å¯<code v-pre>systemd-logind</code>æœåŠ¡åï¼Œå‘ç°sshå¯ä»¥ç§’è¿æ¥äº†</p>
</blockquote>
<ul>
<li>æ€»ç»“ï¼šé‡å¯<code v-pre>systemd-logind</code>æœåŠ¡å³å¯</li>
</ul>
<div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34"><pre v-pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">systemctl</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> restart</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> systemd-logind</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div></div></div><h2 id="é—®é¢˜è§£å†³" tabindex="-1"><a class="header-anchor" href="#é—®é¢˜è§£å†³"><span>é—®é¢˜è§£å†³</span></a></h2>
<figure><img src="https://lcy-blog.oss-cn-beijing.aliyuncs.com/blog/202412181614093.gif" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure>
</div></template>


