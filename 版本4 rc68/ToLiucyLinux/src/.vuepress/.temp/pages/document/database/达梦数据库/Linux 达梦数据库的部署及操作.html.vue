<template><div><h2 id="一、挂载并创建用户" tabindex="-1"><a class="header-anchor" href="#一、挂载并创建用户"><span>一、挂载并创建用户</span></a></h2>
<div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34"><pre v-pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic"># 上传达梦iso镜像和key到/opt/dmsetup/下</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">mkdir</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> /opt/dmsetup/</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic"># 创建dm目录</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">mkdir</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> /dm</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic"># 挂载达梦iso镜像</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">mount</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66"> -o</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> loop</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> /opt/dmsetup/dm8_20200907_FTarm_kylin4_64_ent_8.1.1.126.iso</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> /dm</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic"># 创建用户组</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">groupadd</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66"> -g</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66"> 12349</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> dinstall</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic"># 创建dmdba用户</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">useradd</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66"> -u</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66"> 12345</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66"> -g</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> dinstall</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66"> -m</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66"> -d</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> /home/dmdba</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66"> -s</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> /bin/bash</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> dmdba</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic"># 初始化用户密码</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">passwd</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> dmdba</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic"># 提前创建安装目录</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">mkdir</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66"> -p</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> /opt/dmdbms</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic"># 给目录用户权限</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">chown</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66"> -R</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> dmdba:dinstall</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> dmdbms/</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="二、安装达梦数据库-命令行-安装不能使用root用户" tabindex="-1"><a class="header-anchor" href="#二、安装达梦数据库-命令行-安装不能使用root用户"><span>二、安装达梦数据库（命令行）（安装不能使用root用户）</span></a></h2>
<blockquote>
<font color=red>**注意：需要提前申请好达梦的授权（key）并把key放到自己需要放到的目录**</font><font color=red>**注意：需要提前申请好达梦的授权（key）并把key放到自己需要放到的目录**</font><font color=red>**注意：需要提前申请好达梦的授权（key）并把key放到自己需要放到的目录**</font><font color=red>**需要使用普通用户来安装**</font><font color=red>**需要使用普通用户来安装**</font><font color=red>**需要使用普通用户来安装**</font></blockquote>
<p>1）执行安装命令</p>
<p>在终端进入到安装程序所在文件夹，执行以下命令进行命令行安装</p>
<div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34"><pre v-pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic"># 切换dmdba用户</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">sudo</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> dmdba</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic"># 进入dm目录安装</span></span>
<span class="line"><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2">cd</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> /dm</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">./DMInstall.bin</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66"> -i</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>2）选择安装语言</p>
<p>根据系统配置选择相应语言，输入选项，回车进行下一步。</p>
<div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34"><pre v-pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">请选择安装语言(C/c:中文</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> E/e:英文</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">) [C/c]：C</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">解压安装程序..........</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF"> </span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">欢迎使用达梦数据库安装程序</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>3）验证 key 文件（<font color=red><strong>需要提前申请好key，并把key放到自己需要放到的目录</strong></font>）</p>
<p>可以选择是否输入 Key 文件路径。不输入则进入下一步安装，输入 Key 文件路径，安装程序将显示 Key 文件的详细信息，如果是合法的 Key， 文件且在有效期内，可以继续安装。如下所示：</p>
<div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34"><pre v-pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">是否输入</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> Key</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> 文件路径?</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF"> (Y/y:是 </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379">N/n:否</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">) [Y/y]：Y</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">请输入</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> Key</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> 文件的路径地址</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF"> [dm.key]：/opt/dmsetup/dm.key</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">有效日期:</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> 2020-12-25</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">服务器颁布类型:</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> 企业版</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">发布类型:</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> 试用版</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">用户名称:</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> 测试授权临时版</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">授权用户数:</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> 无限制</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">并发连接数:</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> 无限制</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>4）输入时区</p>
<p>可以选择的时区信息。</p>
<div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34"><pre v-pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">是否设置时区?</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF"> (Y/y:是 </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379">N/n:否</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">) [Y/y]：Y</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">设置时区:</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">[ 1]: </span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75">GTM-12</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2">=</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379">日界线西</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">[ 2]: </span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75">GTM-11</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2">=</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379">萨摩亚群岛</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">[ 3]: </span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75">GTM-10</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2">=</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379">夏威夷</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">[ 4]: </span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75">GTM-09</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2">=</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379">阿拉斯加</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">[ 5]: </span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75">GTM-08</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2">=</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379">太平洋时间（美国和加拿大）</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">[ 6]: </span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75">GTM-07</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2">=</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379">亚利桑那</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">[ 7]: </span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75">GTM-06</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2">=</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379">中部时间（美国和加拿大）</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">[ 8]: </span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75">GTM-05</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2">=</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379">东部部时间（美国和加拿大）</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">[ 9]: </span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75">GTM-04</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2">=</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379">大西洋时间（美国和加拿大）</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">[10]: </span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75">GTM-03</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2">=</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379">巴西利亚</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">[11]: </span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75">GTM-02</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2">=</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379">中大西洋</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">[12]: </span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75">GTM-01</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2">=</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379">亚速尔群岛</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">[13]: </span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75">GTM</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2">=</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379">格林威治标准时间</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">[14]: GTM+</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75">01</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2">=</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379">萨拉热窝</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">[15]: GTM+</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75">02</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2">=</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379">开罗</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">[16]: GTM+</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75">03</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2">=</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379">莫斯科</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">[17]: GTM+</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75">04</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2">=</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379">阿布扎比</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">[18]: GTM+</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75">05</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2">=</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379">伊斯兰堡</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">[19]: GTM+</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75">06</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2">=</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379">达卡</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">[20]: GTM+</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75">07</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2">=</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379">曼谷，河内</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">[21]: GTM+</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75">08</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2">=</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379">中国标准时间</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">[22]: GTM+</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75">09</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2">=</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379">汉城</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">[23]: GTM+</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75">10</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2">=</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379">关岛</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">[24]: GTM+</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75">11</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2">=</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379">所罗门群岛</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">[25]: GTM+</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75">12</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2">=</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379">斐济</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">[26]: GTM+</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75">13</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2">=</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379">努库阿勒法</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">[27]: GTM+</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75">14</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2">=</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379">基里巴斯</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">请选择设置时区</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF"> [21]：21</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>5）选择安装类型</p>
<p>数据库软件安装程序提供四种安装方式：“典型安装”、“服务器安装”、“客户端安装”和“自定义安装”，用户可根据实际情况灵活地选择。如下图所示：</p>
<p>  典型安装包括：服务器、客户端、驱动、用户手册、数据库服务。</p>
<p>  服务器安装包括：服务器、驱动、用户手册、数据库服务。</p>
<p>  客户端安装包括：客户端、驱动、用户手册。</p>
<p>  自定义安装包括：用户根据需求勾选组件，可以是服务器、客户端、驱动、用户手册、数据库服务中的任意组合。</p>
<p>  生产环境可以根据实际需求选择，一般情况下选择&quot;典型安装&quot;即可。</p>
<div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34"><pre v-pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">安装类型:</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">1</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> 典型安装</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">2</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> 服务器</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">3</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> 客户端</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">4</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> 自定义</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">请选择安装类型的数字序号</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF"> [1 </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379">典型安装]：1</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">所需空间:</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> 1010M</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>6）选择安装路径</p>
<p>输入数据库软件的安装路径 ，不输入则使用默认路径，默认值为$HOME/dmdbms(如果安装用户为 root，则默认安装目录为<code v-pre>/opt/dmdbms</code>，但不建议使用 root 系统用户来安装)。没有这个目录需要提前创建一个<code v-pre>mkdir -p /opt/dmdbms</code>；</p>
<div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34"><pre v-pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">请选择安装目录</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF"> [/home/dmdba/dmdbms]：/opt/dmdbms</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">可用空间:</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> 11G</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div></div></div><p>  注意：安装路径里的目录名由英文字母、数字和下划线等组成，不建议使用包含空格和中文字符的路径等。</p>
<p>7）安装小结</p>
<p>安装程序将打印用户之前输入的部分安装信息。如下所示：</p>
<div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34"><pre v-pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">是否确认安装路径(/opt/dmdbms</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">)? (</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">Y/y:是</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> N/n:否</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">) [Y/y]：Y</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">安装前小结</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">安装位置:</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> /opt/dmdbms</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">所需空间:</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> 1010M</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">可用空间:</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> 11G</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">版本信息:</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> 企业版</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">有效日期:</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> 2020-12-25</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">安装类型:</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> 典型安装</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>8）安装</p>
<div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34"><pre v-pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">是否确认安装?</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF"> (Y/y:是 </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379">N/n:否</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">)：Y</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">2020-12-24</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> 21:52:38</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">[INFO] 安装达梦数据库...</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">2020-12-24</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> 21:52:39</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">[INFO] 安装 基础 模块...</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">2020-12-24</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> 21:52:48</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">[INFO] 安装 服务器 模块...</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">2020-12-24</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> 21:52:48</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">[INFO] 安装 客户端 模块...</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">2020-12-24</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> 21:52:56</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">[INFO] 安装 驱动 模块...</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">2020-12-24</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> 21:52:58</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">[INFO] 安装 手册 模块...</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">2020-12-24</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> 21:53:00</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">[INFO] 安装 服务 模块...</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">2020-12-24</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> 21:53:02</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">[INFO] 移动 ant 日志文件。</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">2020-12-24</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> 21:53:03</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">[INFO] 安装达梦数据库完成。</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">请以root系统用户执行命令:</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">/opt/dmdbms/script/root/root_installer.sh</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">安装结束</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><font color=red>提示：请以 root 系统用户执行命令:</font><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34"><pre v-pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">/opt/dmdbms/script/root/root_installer.sh</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div></div></div><p>执行等待，安装完成</p>
<p>9）注册数据库服务</p>
<p>当安装进度完成时将会弹出对话框，提示使用 root 系统用户执行相关命令。用户可根据对话框的说明完成相关操作，之后可关闭此对话框，点击“完成”按钮结束安装。如下所示：</p>
<div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34"><pre v-pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">[dmdba@~]# su - root</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">密码：</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">&#x3C;输入密码></span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">[root@~]# /opt/dmdbms/script/root/root_installer.sh</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">移动</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> /opt/dmdbms/bin/dm_svc.conf</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> 到/etc</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> 目录</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">修改服务器权限</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">创建</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> DmAPService</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> 服务</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">Created</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> symlink</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> from</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">/etc/systemd/system/multiuser.target.wants/DmAPService.service</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> to</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">/usr/lib/systemd/system/DmAPService.service</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">创建服务(DmAPService</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">)完成</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">启动</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> DmAPService</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> 服务</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="三、初始化数据库实例" tabindex="-1"><a class="header-anchor" href="#三、初始化数据库实例"><span>三、初始化数据库实例</span></a></h2>
<h3 id="_3-1-初始化过程" tabindex="-1"><a class="header-anchor" href="#_3-1-初始化过程"><span>3.1 初始化过程</span></a></h3>
<p>初始化实例的示例如下：设置页大小（PAGE_SIZE）为 32，日志大小（LOG_SIZE）为 2048，大小写（CASE_SENSITIVE）为敏感，字符集（CHARSET）为 GB18030。</p>
<p>其它参数默认，如需更改其它参数，请参考《dminit 使用手册》</p>
<div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34"><pre v-pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic"># 先切换到普通用户</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">su</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> dmdba</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">[dmdba@~]# /opt/dmdbms/bin/dminit </span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75">PATH</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2">=</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379">/opt/dmdbms/data</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75"> PAGE_SIZE</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2">=</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379">32</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75">LOG_SIZE</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2">=</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379">2048</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75"> CHARSET</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2">=</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379">0</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75"> CASE_SENSITIVE</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2">=</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379">Y</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">initdb</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> V8</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">db</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> version:</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66"> 0x7000a</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">License</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> will</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> expire</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> in</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66"> 1</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> day</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">(</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">s</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">) </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379">on</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> 2020-12-25</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">log</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> file</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> path:</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> /opt/dmdbms/data/DAMENG/DAMENG01.log</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">log</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> file</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> path:</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> /opt/dmdbms/data/DAMENG/DAMENG02.log</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">write</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> to</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> dir</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF"> [/opt/dmdbms/data/DAMENG].</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">create</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> dm</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> database</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> success.</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> 2020-12-24</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> 22:05:38</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><figure><img src="https://lcy-blog.oss-cn-beijing.aliyuncs.com/blog/202412301443191.png" alt="image-20240529170026112" tabindex="0" loading="lazy"><figcaption>image-20240529170026112</figcaption></figure>
<p>注意：实际环境中，簇大小建议选择 32，页大小选择 32K，日志大小选择 2048，字符集和大小写敏感需要和应用厂商对接后，再进行选择。</p>
<hr>
<p>遇到报错：</p>
<div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34"><pre v-pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">/opt/dmdbms/bin/dminit</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> PATH=/opt/dmdbms/data</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> PAGE_SIZE=</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66">32</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">/opt/dmdbms/bin/dminit:</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> error</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> while</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> loading</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> shared</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> libraries:</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> libdmnsort.so:</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> cannot</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> open</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> shared</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> object</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> file:</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> No</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> such</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> file</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> or</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> directory</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div></div></div><p>解决方法（配置环境变量）：</p>
<div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34"><pre v-pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">vim</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> /etc/profile</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic"># 达梦数据库</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD">export</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75"> DM_HOME</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2">=</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">/</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75">opt</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">/</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75">dmdbms</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD">export</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75"> LD_LIBRARY_PATH</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2">=</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75">$LD_LIBRARY_PATH</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">:</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75">$DM_HOME</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">/</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75">bin</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic"># 使其生效</span></span>
<span class="line"><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2">source</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> /etc/profile</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>切换dmdba用户重新初始化</p>
<hr>
<h3 id="_3-2-创建实例服务" tabindex="-1"><a class="header-anchor" href="#_3-2-创建实例服务"><span>3.2 创建实例服务</span></a></h3>
<div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34"><pre v-pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">[dmdba@~]# su - root</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">密码：</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">&#x3C;输入密码></span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">[root@~]# /opt/dmdbms/script/root/dm_service_installer.sh -t dmserver -dm_ini /opt/dmdbms/data/DAMENG/dm.ini -p DMSERVER</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">Created</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> symlink</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> from</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">/etc/systemd/system/multi-user.target.wants/DmServiceDMSERVER.service</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> to</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">/usr/lib/systemd/system/DmServiceDMSERVER.service.</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> 创建服务</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">(</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">DmServiceDMSERVER</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">)</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379">完成</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><figure><img src="https://lcy-blog.oss-cn-beijing.aliyuncs.com/blog/202412301443571.png" alt="image-20240529170127531" tabindex="0" loading="lazy"><figcaption>image-20240529170127531</figcaption></figure>
<h3 id="_3-3-启动实例服务" tabindex="-1"><a class="header-anchor" href="#_3-3-启动实例服务"><span>3.3 启动实例服务</span></a></h3>
<div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34"><pre v-pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic"># 使用普通用户启动实例</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">su</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> dmdba</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">[dmdba@~]# /opt/dmdbms/bin/DmServiceDMSERVER start</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">Starting</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> DmServiceDMSERVER：[</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> OK</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> ]</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="四、进入数据库" tabindex="-1"><a class="header-anchor" href="#四、进入数据库"><span>四、进入数据库</span></a></h2>
<div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34"><pre v-pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic"># 进入数据库（SYSDBA是默认的管理员）</span></span>
<span class="line"><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2">cd</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> /opt/dmdbms/bin</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF"> &#x26;&#x26; </span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">./disql</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> SYSDBA/SYSDBA@localhost:5236</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="五、查看数据库授权时间" tabindex="-1"><a class="header-anchor" href="#五、查看数据库授权时间"><span>五、查看数据库授权时间</span></a></h2>
<div class="language-sql line-numbers-mode" data-highlighter="shiki" data-ext="sql" data-title="sql" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34"><pre v-pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF"># 查看授权时间</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD">select</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF"> * </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD">from</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF"> v$license;</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD">select</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF"> EXPIRED_DATE </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD">from</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF"> v$license;</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="六、创建用户并授权权限" tabindex="-1"><a class="header-anchor" href="#六、创建用户并授权权限"><span>六、创建用户并授权权限</span></a></h2>
<div class="language-sql line-numbers-mode" data-highlighter="shiki" data-ext="sql" data-title="sql" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34"><pre v-pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF"># 创建用户</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD">create</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD"> user</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF"> 名字</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF"> IDENTIFIED </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD">BY</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> "密码"</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">;</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF"># 授权给某个用户</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD">grant</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD"> resource</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">,PUBLIC,vti,soi </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD">to</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF"> 名字;</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="七、登录创建的用户" tabindex="-1"><a class="header-anchor" href="#七、登录创建的用户"><span>七、登录创建的用户</span></a></h2>
<div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34"><pre v-pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2">cd</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> /opt/dmdbms/bin</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF"> &#x26;&#x26; </span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">./disql</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> 名字/密码@localhost:5236</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div></div></div><h2 id="八、创建表" tabindex="-1"><a class="header-anchor" href="#八、创建表"><span>八、创建表</span></a></h2>
<div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34"><pre v-pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">CREATE</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> TABLE</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> "MOULD"."AUTHUSER"</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">(</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">"USERKEY"</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> VARCHAR</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">(</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">255</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">) </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379">NOT</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> NULL,</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">"USERNAME"</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> VARCHAR</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">(</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">255</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">) </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379">NOT</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> NULL,</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">"USERTIME"</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> DATE</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> NOT</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> NULL,</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">"USERID"</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> INT</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> IDENTITY</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">(</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">10,</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66"> 1</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">) </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379">NOT</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> NULL,</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">NOT</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> CLUSTER</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> PRIMARY</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> KEY</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">(</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">"USERID"</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">)) </span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">STORAGE(ON</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> "MAIN",</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> CLUSTERBTR</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">) ;</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="九、删除表" tabindex="-1"><a class="header-anchor" href="#九、删除表"><span>九、删除表</span></a></h2>
<div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34"><pre v-pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">DROP</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> TABLE</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> "MOULD"."TEMPLATES"</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">;</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div></div></div><h2 id="十、查看当前用户所有的表" tabindex="-1"><a class="header-anchor" href="#十、查看当前用户所有的表"><span>十、查看当前用户所有的表</span></a></h2>
<div class="language-sql line-numbers-mode" data-highlighter="shiki" data-ext="sql" data-title="sql" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34"><pre v-pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD">SELECT</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF"> table_name </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD">FROM</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF"> user_tables;</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div></div></div><figure><img src="https://lcy-blog.oss-cn-beijing.aliyuncs.com/blog/202412301443798.png" alt="image-20240726161909094" tabindex="0" loading="lazy"><figcaption>image-20240726161909094</figcaption></figure>
<h2 id="十一、查看表结构" tabindex="-1"><a class="header-anchor" href="#十一、查看表结构"><span>十一、查看表结构</span></a></h2>
<div class="language-sql line-numbers-mode" data-highlighter="shiki" data-ext="sql" data-title="sql" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34"><pre v-pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD">desc</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF"> TEMPLATES;</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div></div></div><figure><img src="https://lcy-blog.oss-cn-beijing.aliyuncs.com/blog/202407291030882.png" alt="image-20240729103024531" tabindex="0" loading="lazy"><figcaption>image-20240729103024531</figcaption></figure>
<h2 id="十二、查看数据库版本" tabindex="-1"><a class="header-anchor" href="#十二、查看数据库版本"><span>十二、查看数据库版本</span></a></h2>
<div class="language-sql line-numbers-mode" data-highlighter="shiki" data-ext="sql" data-title="sql" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34"><pre v-pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD">select</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF"> * </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD">from</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF"> v$</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD">version</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">;</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div></div></div><figure><img src="https://lcy-blog.oss-cn-beijing.aliyuncs.com/blog/202412301443913.png" alt="image-20240729103103260" tabindex="0" loading="lazy"><figcaption>image-20240729103103260</figcaption></figure>
</div></template>


