<template><div><h2 id="前言" tabindex="-1"><a class="header-anchor" href="#前言"><span>前言</span></a></h2>
<blockquote>
<p>Docker容器应用的开发和运行离不开可靠的镜像管理，虽然Docker官方也提供了公共的镜像仓库，但是从安全和效率等方面考虑，部署我们私有环境内的Registry也是非常必要的。</p>
</blockquote>
<h2 id="harbor仓库介绍" tabindex="-1"><a class="header-anchor" href="#harbor仓库介绍"><span>Harbor仓库介绍</span></a></h2>
<p>我们在日常Docker容器使用和管理过程中，渐渐发现部署企业私有仓库往往是很有必要的, 它可以帮助你管理企业的一些敏感镜像, 同时由于Docker Hub的下载速度和GFW的原因, 往往需要将一些无法直接下载的镜像导入本地私有仓库. 而Harbor就是部署企业私有仓库的一个不二之选。Harbor是由VMware公司开源的企业级的Docker Registry管理项目，Harbor主要提供Dcoker Registry管理UI，提供的功能包括：基于角色访问的控制权限管理(RBAC)、AD/LDAP集成、日志审核、管理界面、自我注册、镜像复制和中文支持等。Harbor的目标是帮助用户迅速搭建一个企业级的Docker registry服务。它以Docker公司开源的registry为基础，额外提供了如下功能:<br>
-&gt;  基于角色的访问控制(Role Based Access Control)<br>
-&gt;  基于策略的镜像复制(Policy based image replication)<br>
-&gt;  镜像的漏洞扫描(Vulnerability Scanning)<br>
-&gt;  AD/LDAP集成(LDAP/AD support)<br>
-&gt;  镜像的删除和空间清理(Image deletion &amp; garbage collection)<br>
-&gt;  友好的管理UI(Graphical user portal)<br>
-&gt;  审计日志(Audit logging)<br>
-&gt;  RESTful API<br>
-&gt;  部署简单(Easy deployment)</p>
<p>Harbor的所有组件都在Dcoker中部署，所以Harbor可使用Docker Compose快速部署。需要特别注意：<strong><font color=red>由于Harbor是基于Docker Registry V2版本，所以docker必须大于等于1.10.0版本，docker-compose必须要大于1.6.0版本！</font></strong></p>
<h2 id="harbor仓库结构" tabindex="-1"><a class="header-anchor" href="#harbor仓库结构"><span>Harbor仓库结构</span></a></h2>
<p>Harbor的每个组件都是以Docker容器的形式构建的，可以使用Docker Compose来进行部署。如果环境中使用了kubernetes，Harbor也提供了kubernetes的配置文件。Harbor大概需要以下几个容器组成：ui(Harbor的核心服务)、log(运行着rsyslog的容器，进行日志收集)、mysql(由官方mysql镜像构成的数据库容器)、Nginx(使用Nginx做反向代理)、registry(官方的Docker registry)、adminserver(Harbor的配置数据管理器)、jobservice(Harbor的任务管理服务)、redis(用于存储session)。</p>
<p>Harbor是一个用于存储和分发Docker镜像的企业级Registry服务器，整体架构还是很清晰的。下面借用了网上的架构图:<br>
<img src="https://lcy-blog.oss-cn-beijing.aliyuncs.com/blog/202412161455489.png" alt="" loading="lazy"></p>
<hr>
<hr>
<figure><img src="https://lcy-blog.oss-cn-beijing.aliyuncs.com/blog/202412161455105.png" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure>
<h2 id="安装docker" tabindex="-1"><a class="header-anchor" href="#安装docker"><span>安装docker</span></a></h2>
<p>首先要想部署harbor镜像仓库，我们就必须要docker服务，所以说先安装docker，安装步骤详情可以查看一下的安装步骤；<br>
<a href="https://blog.csdn.net/liu_chen_yang/article/details/123842609" target="_blank" rel="noopener noreferrer">linux（centos）中部署docker（步骤超全，含带一些发展史和一些概念）</a></p>
<h2 id="启动docker和设置开机自启" tabindex="-1"><a class="header-anchor" href="#启动docker和设置开机自启"><span>启动docker和设置开机自启</span></a></h2>
<p>安装完成之后加载并启动docker和设置开机自启</p>
<div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34"><pre v-pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic">#重新加载</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">systemctl</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> daemon-reload</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic">#启动docker</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">systemctl</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> start</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> docker</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic">#设置开机自启</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">systemctl</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> enable</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> docker</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><figure><img src="https://lcy-blog.oss-cn-beijing.aliyuncs.com/blog/202412161455330.gif" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure>
<h2 id="安装docker-compose" tabindex="-1"><a class="header-anchor" href="#安装docker-compose"><span>安装docker-compose</span></a></h2>
<p>具体docker-compose的安装可以查看：<a href="https://blog.csdn.net/liu_chen_yang/article/details/124688952" target="_blank" rel="noopener noreferrer">Linux中安装/部署docker-compose</a></p>
<h2 id="搭建harbor镜像仓库" tabindex="-1"><a class="header-anchor" href="#搭建harbor镜像仓库"><span>搭建harbor镜像仓库</span></a></h2>
<h3 id="_1、下载harbor的安装包" tabindex="-1"><a class="header-anchor" href="#_1、下载harbor的安装包"><span>1、下载harbor的安装包</span></a></h3>
<blockquote>
<p>harbor版本 github地址：<a href="https://github.com/goharbor/harbor/releases/" target="_blank" rel="noopener noreferrer">https://github.com/goharbor/harbor/releases/</a></p>
</blockquote>
<figure><img src="https://lcy-blog.oss-cn-beijing.aliyuncs.com/blog/202412161455932.png" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure>
<p>拉到最后可以看到安装包，我们可以右键复制链接地址在服务器上使用<code v-pre>wget</code>下载，也可以直接点击下载；<br>
需要指定版本的话，可以在链接上直接指定想要的版本，我这个就是找不到旧的了，随便点进去一个，指定了一下版本，然后下载2.4.2的即可。</p>
<figure><img src="https://lcy-blog.oss-cn-beijing.aliyuncs.com/blog/202412161455433.png" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure>
<figure><img src="https://lcy-blog.oss-cn-beijing.aliyuncs.com/blog/202412161455526.png" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure>
<p>这里我们使用<code v-pre>wget</code>下载；<br>
执行两次，第一次是加载，第二次是下载；</p>
<div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34"><pre v-pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">wget</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> https://github.com/goharbor/harbor/releases/download/v2.4.2/harbor-offline-installer-v2.4.2.tgz</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div></div></div><p>若下载慢或者连不上，可以使用如下命令下载</p>
<div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34"><pre v-pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">wget</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> https://mirror.ghproxy.com/https://github.com/goharbor/harbor/releases/download/v2.4.2/harbor-offline-installer-v2.4.2.tgz</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div></div></div><h3 id="_2、下载完进行解压" tabindex="-1"><a class="header-anchor" href="#_2、下载完进行解压"><span>2、下载完进行解压</span></a></h3>
<div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34"><pre v-pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">tar</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66"> -xvf</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> harbor-offline-installer-v2.4.2.tgz</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div></div></div><h3 id="_3、编辑配置文件" tabindex="-1"><a class="header-anchor" href="#_3、编辑配置文件"><span>3、编辑配置文件</span></a></h3>
<div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34"><pre v-pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic">#进入harbor目录</span></span>
<span class="line"><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2">cd</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> harbor</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic">#复制一份harbor的配置文件并改名harbor.yml</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">cp</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66"> -ar</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> harbor.yml.tmpl</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> harbor.yml</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic">#vim进入配置文件</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">vim</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> harbor.yml</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>修改以下内容：</p>
<div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34"><pre v-pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">hostname:</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66"> 192.168.2.22</span><span style="--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic">  #这里配置的监听地址，也可以是域名</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF"> </span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">port:</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66"> 10010</span><span style="--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic"> #这里配置监听端口</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">harbor_admin_password:</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66"> 123456</span><span style="--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic">  # 配置admin用户的密码</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF"> </span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">data_volume:</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> /data/harbor</span><span style="--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic">  #配置数据仓库</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF"> </span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic"># 注释https，在13行开始</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><figure><img src="https://lcy-blog.oss-cn-beijing.aliyuncs.com/blog/202412161455302.png" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure>
<h3 id="_4、安装harbor" tabindex="-1"><a class="header-anchor" href="#_4、安装harbor"><span>4、安装harbor</span></a></h3>
<p>编辑完配置我们来安装harbor；</p>
<div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34"><pre v-pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic"># Harbor安装环境预处理</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">./prepare</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic"># 安装并启动Harbor</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">./install.sh</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic"># 检查是否安装成功（应该是启动9个容器）要在harbor目录下操作，否则docker-compose会又问题；</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">docker-compose</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> ps</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="安装过程-可省略不看" tabindex="-1"><a class="header-anchor" href="#安装过程-可省略不看"><span>安装过程（可省略不看）</span></a></h4>
<div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34"><pre v-pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic"># Harbor安装环境预处理</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">[root@localhost harbor]# ./prepare </span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">prepare</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> base</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> dir</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> is</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> set</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> to</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> /usr/local/harbor</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">WARNING:root:WARNING:</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> HTTP</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> protocol</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> is</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> insecure.</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> Harbor</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> will</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> deprecate</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> http</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> protocol</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> in</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> the</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> future.</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> Please</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> make</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> sure</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> to</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> upgrade</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> to</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> https</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">Generated</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> configuration</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> file:</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> /config/portal/nginx.conf</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">Generated</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> configuration</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> file:</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> /config/log/logrotate.conf</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">Generated</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> configuration</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> file:</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> /config/log/rsyslog_docker.conf</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">Generated</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> configuration</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> file:</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> /config/nginx/nginx.conf</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">Generated</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> configuration</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> file:</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> /config/core/env</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">Generated</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> configuration</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> file:</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> /config/core/app.conf</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">Generated</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> configuration</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> file:</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> /config/registry/config.yml</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">Generated</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> configuration</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> file:</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> /config/registryctl/env</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">Generated</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> configuration</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> file:</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> /config/registryctl/config.yml</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">Generated</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> configuration</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> file:</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> /config/db/env</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">Generated</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> configuration</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> file:</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> /config/jobservice/env</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">Generated</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> configuration</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> file:</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> /config/jobservice/config.yml</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">Generated</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> and</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> saved</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> secret</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> to</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> file:</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> /data/secret/keys/secretkey</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">Successfully</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> called</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> func:</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> create_root_cert</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">Generated</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> configuration</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> file:</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> /compose_location/docker-compose.yml</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">Clean</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> up</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> the</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> input</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> dir</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic"># 安装并启动Harbor</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">[root@localhost harbor]# ./install.sh </span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">[Step 0]: checking </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD">if</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF"> docker</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> is</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> installed</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> ...</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">Note:</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> docker</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> version:</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66"> 19.03.6</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">[Step 1]: checking docker-compose is installed ...</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">Note:</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> docker-compose</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> version:</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66"> 1.29.2</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">[Step 2]: loading Harbor images ...</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">0e1c91c1a3dc:</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> Loading</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> layer</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF"> [==================================================>]  41.07MB/41.07MB</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">7abced50bfd2:</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> Loading</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> layer</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF"> [==================================================>]  5.296MB/5.296MB</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">43ad630c07b8:</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> Loading</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> layer</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF"> [==================================================>]  5.928MB/5.928MB</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">3457e72d7725:</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> Loading</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> layer</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF"> [==================================================>]  14.47MB/14.47MB</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">4a079b4b377a:</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> Loading</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> layer</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF"> [==================================================>]  29.29MB/29.29MB</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">7b180b7bf3b4:</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> Loading</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> layer</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF"> [==================================================>]  22.02kB/22.02kB</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">7b678649a1be:</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> Loading</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> layer</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF"> [==================================================>]  14.47MB/14.47MB</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">Loaded</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> image:</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> goharbor/notary-signer-photon:v2.4.2</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">4f650960b0dc:</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> Loading</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> layer</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF"> [==================================================>]  5.832MB/5.832MB</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">967788659fd5:</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> Loading</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> layer</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF"> [==================================================>]  4.096kB/4.096kB</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">30cc19bdf2d6:</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> Loading</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> layer</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF"> [==================================================>]  3.072kB/3.072kB</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">9ccede1a4324:</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> Loading</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> layer</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF"> [==================================================>]  47.85MB/47.85MB</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">86f4685faff0:</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> Loading</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> layer</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF"> [==================================================>]  12.38MB/12.38MB</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">25af1cf9c44e:</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> Loading</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> layer</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF"> [==================================================>]  61.02MB/61.02MB</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">Loaded</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> image:</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> goharbor/trivy-adapter-photon:v2.4.2</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">0c68eb0d6bac:</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> Loading</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> layer</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF"> [==================================================>]    166MB/166MB</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">9df9445e80b3:</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> Loading</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> layer</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF"> [==================================================>]  67.71MB/67.71MB</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">3017f66ba184:</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> Loading</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> layer</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF"> [==================================================>]   2.56kB/2.56kB</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">9dc332519067:</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> Loading</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> layer</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF"> [==================================================>]  1.536kB/1.536kB</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">d1baaa0c2bb4:</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> Loading</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> layer</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF"> [==================================================>]  12.29kB/12.29kB</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">e911a97738e0:</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> Loading</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> layer</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF"> [==================================================>]   2.62MB/2.62MB</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">6fbfaf19de14:</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> Loading</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> layer</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF"> [==================================================>]  326.1kB/326.1kB</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">Loaded</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> image:</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> goharbor/prepare:v2.4.2</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">323ed00cae7e:</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> Loading</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> layer</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF"> [==================================================>]  8.447MB/8.447MB</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">c3f8c4668352:</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> Loading</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> layer</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF"> [==================================================>]  3.584kB/3.584kB</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">94b71cd07106:</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> Loading</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> layer</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF"> [==================================================>]   2.56kB/2.56kB</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">5d5638decfe4:</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> Loading</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> layer</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF"> [==================================================>]   75.6MB/75.6MB</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">48426521f41c:</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> Loading</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> layer</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF"> [==================================================>]  5.632kB/5.632kB</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">bb977315930e:</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> Loading</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> layer</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF"> [==================================================>]  97.28kB/97.28kB</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">2a80a5f64ee7:</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> Loading</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> layer</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF"> [==================================================>]  11.78kB/11.78kB</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">0a5146355ed0:</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> Loading</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> layer</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF"> [==================================================>]   76.5MB/76.5MB</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">7d5eac57d5fa:</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> Loading</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> layer</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF"> [==================================================>]   2.56kB/2.56kB</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">Loaded</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> image:</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> goharbor/harbor-core:v2.4.2</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">f7cedf07c50c:</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> Loading</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> layer</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF"> [==================================================>]  8.447MB/8.447MB</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">b2a916599ac7:</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> Loading</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> layer</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF"> [==================================================>]  3.584kB/3.584kB</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">3bc2556f46f8:</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> Loading</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> layer</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF"> [==================================================>]   2.56kB/2.56kB</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">a9cc192089ec:</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> Loading</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> layer</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF"> [==================================================>]  86.96MB/86.96MB</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">9e9c53c1bd85:</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> Loading</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> layer</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF"> [==================================================>]  87.75MB/87.75MB</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">Loaded</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> image:</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> goharbor/harbor-jobservice:v2.4.2</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">6111e09009c2:</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> Loading</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> layer</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF"> [==================================================>]  7.222MB/7.222MB</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">Loaded</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> image:</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> goharbor/nginx-photon:v2.4.2</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">f4658d2c3aa3:</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> Loading</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> layer</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF"> [==================================================>]  8.447MB/8.447MB</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">4b7bdcad271f:</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> Loading</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> layer</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF"> [==================================================>]  18.13MB/18.13MB</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">cbb8c130a490:</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> Loading</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> layer</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF"> [==================================================>]  4.608kB/4.608kB</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">f1367013643c:</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> Loading</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> layer</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF"> [==================================================>]  18.93MB/18.93MB</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">Loaded</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> image:</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> goharbor/harbor-exporter:v2.4.2</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">a1b12e0ab8ea:</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> Loading</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> layer</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF"> [==================================================>]  5.296MB/5.296MB</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">df6629a5ee28:</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> Loading</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> layer</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF"> [==================================================>]  5.928MB/5.928MB</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">944fcde3a84b:</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> Loading</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> layer</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF"> [==================================================>]  15.88MB/15.88MB</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">300e181c27cf:</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> Loading</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> layer</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF"> [==================================================>]  29.29MB/29.29MB</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">87f01e78dde1:</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> Loading</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> layer</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF"> [==================================================>]  22.02kB/22.02kB</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">8306283aa89d:</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> Loading</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> layer</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF"> [==================================================>]  15.88MB/15.88MB</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">Loaded</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> image:</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> goharbor/notary-server-photon:v2.4.2</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">c635aace513a:</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> Loading</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> layer</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF"> [==================================================>]    5.3MB/5.3MB</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">8deb84525956:</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> Loading</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> layer</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF"> [==================================================>]   64.5MB/64.5MB</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">5d1431f9963f:</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> Loading</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> layer</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF"> [==================================================>]  3.072kB/3.072kB</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">faeb0aac7135:</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> Loading</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> layer</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF"> [==================================================>]  4.096kB/4.096kB</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">7ade25e3acdb:</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> Loading</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> layer</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF"> [==================================================>]  65.29MB/65.29MB</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">Loaded</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> image:</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> goharbor/chartmuseum-photon:v2.4.2</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">27495e3181af:</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> Loading</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> layer</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF"> [==================================================>]  7.222MB/7.222MB</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">88649dba6134:</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> Loading</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> layer</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF"> [==================================================>]  7.356MB/7.356MB</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">875f964b6f85:</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> Loading</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> layer</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF"> [==================================================>]  1.754MB/1.754MB</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">Loaded</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> image:</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> goharbor/harbor-portal:v2.4.2</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">c724cc796747:</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> Loading</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> layer</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF"> [==================================================>]  124.3MB/124.3MB</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">b6c853c6dc0d:</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> Loading</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> layer</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF"> [==================================================>]  3.584kB/3.584kB</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">0c5772798040:</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> Loading</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> layer</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF"> [==================================================>]  3.072kB/3.072kB</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">c5f3bfcfa62d:</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> Loading</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> layer</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF"> [==================================================>]   2.56kB/2.56kB</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">2602a8530e9d:</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> Loading</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> layer</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF"> [==================================================>]  3.072kB/3.072kB</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">ba9b43b5ffb1:</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> Loading</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> layer</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF"> [==================================================>]  3.584kB/3.584kB</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">cf92b578ba00:</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> Loading</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> layer</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF"> [==================================================>]  20.48kB/20.48kB</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">Loaded</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> image:</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> goharbor/harbor-log:v2.4.2</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">fc1f8cdaf1ce:</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> Loading</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> layer</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF"> [==================================================>]  1.096MB/1.096MB</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">eb68e72cbb03:</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> Loading</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> layer</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF"> [==================================================>]  5.888MB/5.888MB</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">53a31c9e9836:</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> Loading</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> layer</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF"> [==================================================>]  166.2MB/166.2MB</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">bed7172f8681:</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> Loading</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> layer</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF"> [==================================================>]  17.75MB/17.75MB</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">c8fcd33ae148:</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> Loading</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> layer</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF"> [==================================================>]  4.096kB/4.096kB</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">0c8d734a07ee:</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> Loading</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> layer</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF"> [==================================================>]  6.144kB/6.144kB</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">c01db4825573:</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> Loading</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> layer</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF"> [==================================================>]  3.072kB/3.072kB</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">4802d0abc8ba:</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> Loading</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> layer</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF"> [==================================================>]  2.048kB/2.048kB</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">70bafeb87c65:</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> Loading</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> layer</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF"> [==================================================>]   2.56kB/2.56kB</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">376ced88e40e:</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> Loading</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> layer</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF"> [==================================================>]   2.56kB/2.56kB</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">0ba55f221469:</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> Loading</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> layer</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF"> [==================================================>]   2.56kB/2.56kB</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">55cac263100c:</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> Loading</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> layer</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF"> [==================================================>]  8.704kB/8.704kB</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">Loaded</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> image:</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> goharbor/harbor-db:v2.4.2</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">30ed654bbb0e:</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> Loading</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> layer</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF"> [==================================================>]  5.301MB/5.301MB</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">51a81f0bf9ea:</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> Loading</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> layer</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF"> [==================================================>]  4.096kB/4.096kB</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">12992ea6b45e:</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> Loading</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> layer</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF"> [==================================================>]  3.072kB/3.072kB</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">91b97bcaa9d7:</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> Loading</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> layer</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF"> [==================================================>]  17.32MB/17.32MB</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">1a992360f6fa:</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> Loading</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> layer</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF"> [==================================================>]  18.12MB/18.12MB</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">Loaded</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> image:</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> goharbor/registry-photon:v2.4.2</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">d7224235291f:</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> Loading</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> layer</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF"> [==================================================>]  5.301MB/5.301MB</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">dd26d9070a7b:</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> Loading</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> layer</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF"> [==================================================>]  4.096kB/4.096kB</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">4022ecee5f13:</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> Loading</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> layer</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF"> [==================================================>]  17.32MB/17.32MB</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">93d727d0accc:</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> Loading</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> layer</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF"> [==================================================>]  3.072kB/3.072kB</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">8a56be8f0b84:</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> Loading</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> layer</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF"> [==================================================>]  28.69MB/28.69MB</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">629472303402:</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> Loading</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> layer</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF"> [==================================================>]  46.81MB/46.81MB</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">Loaded</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> image:</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> goharbor/harbor-registryctl:v2.4.2</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">bf4dfb7b7a70:</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> Loading</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> layer</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF"> [==================================================>]  120.1MB/120.1MB</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">a0b0ce804b6b:</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> Loading</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> layer</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF"> [==================================================>]  3.072kB/3.072kB</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">f088aae660dd:</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> Loading</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> layer</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF"> [==================================================>]   59.9kB/59.9kB</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">2c15508db9bd:</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> Loading</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> layer</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF"> [==================================================>]  61.95kB/61.95kB</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">Loaded</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> image:</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> goharbor/redis-photon:v2.4.2</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">[Step 3]: preparing environment ...</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">[Step 4]: preparing harbor configs ...</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">prepare</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> base</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> dir</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> is</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> set</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> to</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> /usr/local/harbor</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">WARNING:root:WARNING:</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> HTTP</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> protocol</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> is</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> insecure.</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> Harbor</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> will</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> deprecate</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> http</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> protocol</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> in</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> the</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> future.</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> Please</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> make</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> sure</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> to</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> upgrade</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> to</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> https</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">Clearing</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> the</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> configuration</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> file:</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> /config/portal/nginx.conf</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">Clearing</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> the</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> configuration</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> file:</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> /config/log/logrotate.conf</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">Clearing</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> the</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> configuration</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> file:</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> /config/log/rsyslog_docker.conf</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">Clearing</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> the</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> configuration</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> file:</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> /config/nginx/nginx.conf</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">Clearing</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> the</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> configuration</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> file:</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> /config/core/env</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">Clearing</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> the</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> configuration</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> file:</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> /config/core/app.conf</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">Clearing</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> the</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> configuration</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> file:</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> /config/registry/passwd</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">Clearing</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> the</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> configuration</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> file:</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> /config/registry/config.yml</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">Clearing</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> the</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> configuration</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> file:</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> /config/registryctl/env</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">Clearing</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> the</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> configuration</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> file:</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> /config/registryctl/config.yml</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">Clearing</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> the</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> configuration</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> file:</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> /config/db/env</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">Clearing</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> the</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> configuration</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> file:</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> /config/jobservice/env</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">Clearing</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> the</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> configuration</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> file:</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> /config/jobservice/config.yml</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">Generated</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> configuration</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> file:</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> /config/portal/nginx.conf</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">Generated</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> configuration</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> file:</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> /config/log/logrotate.conf</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">Generated</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> configuration</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> file:</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> /config/log/rsyslog_docker.conf</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">Generated</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> configuration</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> file:</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> /config/nginx/nginx.conf</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">Generated</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> configuration</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> file:</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> /config/core/env</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">Generated</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> configuration</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> file:</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> /config/core/app.conf</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">Generated</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> configuration</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> file:</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> /config/registry/config.yml</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">Generated</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> configuration</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> file:</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> /config/registryctl/env</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">Generated</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> configuration</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> file:</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> /config/registryctl/config.yml</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">Generated</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> configuration</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> file:</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> /config/db/env</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">Generated</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> configuration</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> file:</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> /config/jobservice/env</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">Generated</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> configuration</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> file:</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> /config/jobservice/config.yml</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">loaded</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> secret</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> from</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> file:</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> /data/secret/keys/secretkey</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">Generated</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> configuration</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> file:</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> /compose_location/docker-compose.yml</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">Clean</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> up</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> the</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> input</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> dir</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">Note:</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> stopping</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> existing</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> Harbor</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> instance</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> ...</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">Stopping</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> registryctl</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379">   ...</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> done</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">Stopping</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> harbor-db</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379">     ...</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> done</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">Stopping</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> harbor-portal</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> ...</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> done</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">Stopping</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> redis</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379">         ...</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> done</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">Stopping</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> harbor-log</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379">    ...</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> done</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">Removing</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> registryctl</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379">   ...</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> done</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">Removing</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> harbor-db</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379">     ...</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> done</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">Removing</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> harbor-portal</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> ...</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> done</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">Removing</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> redis</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379">         ...</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> done</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">Removing</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> harbor-log</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379">    ...</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> done</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">Removing</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> network</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> harbor_harbor</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">[Step 5]: starting Harbor ...</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">Creating</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> network</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> "harbor_harbor"</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> with</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> the</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> default</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> driver</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">Creating</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> harbor-log</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> ...</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> done</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">Creating</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> harbor-db</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379">     ...</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> done</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">Creating</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> redis</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379">         ...</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> done</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">Creating</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> registryctl</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379">   ...</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> done</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">Creating</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> harbor-portal</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> ...</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> done</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">Creating</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> registry</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379">      ...</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> done</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">Creating</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> harbor-core</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379">   ...</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> done</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">Creating</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> nginx</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379">             ...</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> done</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">Creating</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> harbor-jobservice</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> ...</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> done</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">✔</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66"> ----Harbor</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> has</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> been</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> installed</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> and</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> started</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> successfully.----</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic"># 检查是否安装成功（应该是启动9个容器）</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">[root@localhost harbor]# docker-compose ps -a</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">      Name</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379">                     Command</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379">                  State</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379">                 Ports</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">          </span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">---------------------------------------------------------------------------------------------</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">harbor-core</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379">         /harbor/entrypoint.sh</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379">            Up</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF"> (healthy)                            </span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">harbor-db</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379">           /docker-entrypoint.sh</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66"> 96</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66"> 13</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379">      Up</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF"> (healthy)                            </span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">harbor-jobservice</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379">   /harbor/entrypoint.sh</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379">            Up</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF"> (healthy)                            </span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">harbor-log</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379">          /bin/sh</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66"> -c</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> /usr/local/bin/</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> ...</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379">   Up</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF"> (healthy)   127.0.0.1:1514->10514/tcp</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">harbor-portal</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379">       nginx</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66"> -g</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> daemon</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> off</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">;             </span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">Up</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF"> (healthy)                            </span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">nginx</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379">               nginx</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66"> -g</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> daemon</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> off</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">;             </span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">Up</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF"> (healthy)   0.0.0.0:10010->8080/tcp  </span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">redis</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379">               redis-server</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> /etc/redis.conf</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379">     Up</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF"> (healthy)                            </span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">registry</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379">            /home/harbor/entrypoint.sh</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379">       Up</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF"> (healthy)                            </span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">registryctl</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379">         /home/harbor/start.sh</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379">            Up</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF"> (healthy)</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_5、修改docker配置" tabindex="-1"><a class="header-anchor" href="#_5、修改docker配置"><span>5、修改docker配置</span></a></h3>
<div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34"><pre v-pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic"># 由于docker默认不允许使用非https方式推送镜像,所以在需要pull镜像的服务器配置访问地址</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">vim</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> /etc/docker/daemon.json</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic">#添加如下内容(客户端访问的网址)：</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">{</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">	"registry-mirrors"</span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2">:</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379">[</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">     	   "https://njrds9qc.mirror.aliyuncs.com"</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">   	  ],</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">	"insecure-registries"</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> :[</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">    	   "192.168.2.22:10010"</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">    ]</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">}</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic">#或者，具体看自己的版本，版本不一样，写的格式就不一样。</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">{</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">"insecure-registries"</span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2">:</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF"> [</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379">"192.168.2.22:10010"</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">]</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">}</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">​</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic"># 重启docker和harbor容器；要在harbor目录下操作，否则docker-compose会又问题；</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">systemctl</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> daemon-reload</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">systemctl</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> restart</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> docker</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">docker-compose</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> stop</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">docker-compose</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> up</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66"> -d</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic"># docker登录方式</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">docker</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> login</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> 192.168.2.22:10010</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic">#或者 </span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">docker</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> login</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66"> -uadmin</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66"> -p123456</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> 192.168.2.22:10010</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_6、访问harbor页面" tabindex="-1"><a class="header-anchor" href="#_6、访问harbor页面"><span>6、访问harbor页面</span></a></h3>
<p>访问地址：（ip:端口）192.168.2.22:10010<br>
用户名：admin		密码：123456<br>
登录进入；<br>
<img src="https://lcy-blog.oss-cn-beijing.aliyuncs.com/blog/202412161454046.png" alt="" loading="lazy"></p>
<h3 id="_7、上传镜像" tabindex="-1"><a class="header-anchor" href="#_7、上传镜像"><span>7、上传镜像</span></a></h3>
<h4 id="_1、查看所有镜像" tabindex="-1"><a class="header-anchor" href="#_1、查看所有镜像"><span>①、查看所有镜像</span></a></h4>
<p>找到你要上传的镜像。</p>
<div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34"><pre v-pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">[root@localhost ~]# docker images</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">REPOSITORY</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379">                                  TAG</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379">                 IMAGE</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> ID</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379">            CREATED</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379">             SIZE</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">busybox</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379">                                     latest</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379">              beae173ccac6</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66">        4</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> months</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> ago</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379">        1.24MB</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="_2、给要上传的镜像tag打个标签-修改镜像名" tabindex="-1"><a class="header-anchor" href="#_2、给要上传的镜像tag打个标签-修改镜像名"><span>②、给要上传的镜像tag打个标签(修改镜像名)</span></a></h4>
<p>注意：<strong><font color=red>一定要加上项目名称</font></strong></p>
<font color=teal>格式：</font><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34"><pre v-pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">docker</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> tag</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> 镜像名:版本</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> your-ip:端口/项目名称/新的镜像名:版本</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div></div></div><font color=teal>实例：</font><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34"><pre v-pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">docker</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> tag</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> busybox:latest</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> 192.168.2.22:10010/library/busybox:v1</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div></div></div><p>查看打好标签的镜像：</p>
<div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34"><pre v-pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">[root@localhost ~]# docker images</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">REPOSITORY</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379">                                  TAG</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379">                 IMAGE</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> ID</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379">            CREATED</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379">             SIZE</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">busybox</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379">                                     latest</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379">              beae173ccac6</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66">        4</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> months</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> ago</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379">        1.24MB</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">192.168.2.22:10010/library/busybox</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379">          v1</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379">                  beae173ccac6</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66">        4</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> months</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> ago</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379">        1.24MB</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="_3、推送镜像到harbor仓库" tabindex="-1"><a class="header-anchor" href="#_3、推送镜像到harbor仓库"><span>③、推送镜像到harbor仓库</span></a></h4>
<font color=teal>格式：</font><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34"><pre v-pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">docker</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> push</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> 修改的镜像名</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div></div></div><font color=teal>实例：</font><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34"><pre v-pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">[root@localhost ~]# docker push 192.168.2.22:10010/library/busybox:v1</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">The</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> push</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> refers</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> to</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> repository</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF"> [192.168.2.22:10010/library/busybox]</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">01fd6df81c8e:</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> Layer</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> already</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> exists</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF"> </span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">v1:</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> digest:</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> sha256:62ffc2ed7554e4c6d360bce40bbcf196573dd27c4ce080641a2c59867e732dee</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> size:</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66"> 527</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="_4、web页面查看" tabindex="-1"><a class="header-anchor" href="#_4、web页面查看"><span>④、web页面查看</span></a></h4>
<p>然后我们去web页面看，登录页面192.168.2.22:10010，然后去查看。<br>
<img src="https://lcy-blog.oss-cn-beijing.aliyuncs.com/blog/202412161454993.png" alt="" loading="lazy"><br>
这个就是我们的项目名称了，我们点进去就可以看到我们上传的镜像了。<br>
<img src="https://lcy-blog.oss-cn-beijing.aliyuncs.com/blog/202412161454517.png" alt="" loading="lazy"><br>
然后再次点击进去就可以看到更详细的了；<br>
<img src="https://lcy-blog.oss-cn-beijing.aliyuncs.com/blog/202412161454270.png" alt="" loading="lazy"><br>
这里我们的上传镜像就完成了。</p>
<h3 id="_8、拉取镜像" tabindex="-1"><a class="header-anchor" href="#_8、拉取镜像"><span>8、拉取镜像</span></a></h3>
<h4 id="_1、拉取方法一" tabindex="-1"><a class="header-anchor" href="#_1、拉取方法一"><span>①、拉取方法一</span></a></h4>
<p>拉取镜像的话，我们可以点击这个小按钮，然后直接粘贴到linux中等待拉取就可以了；<br>
<img src="https://lcy-blog.oss-cn-beijing.aliyuncs.com/blog/202412161454115.png" alt="" loading="lazy"></p>
<h4 id="_2、拉取方法二" tabindex="-1"><a class="header-anchor" href="#_2、拉取方法二"><span>②、拉取方法二</span></a></h4>
<font color=teal>格式：</font><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34"><pre v-pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">docker</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> pull</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> 上传时修改的镜像名</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div></div></div><font color=teal>实例：</font><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34"><pre v-pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">[root@localhost ~]# docker pull 192.168.2.22:10010/library/busybox:v1</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">v1:</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> Pulling</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> from</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> library/busybox</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">Digest:</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> sha256:62ffc2ed7554e4c6d360bce40bbcf196573dd27c4ce080641a2c59867e732dee</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">Status:</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> Downloaded</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> newer</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> image</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> for</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> 192.168.2.22:10010/library/busybox:v1</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">192.168.2.22:10010/library/busybox:v1</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="_3、查看拉过来的镜像" tabindex="-1"><a class="header-anchor" href="#_3、查看拉过来的镜像"><span>③、查看拉过来的镜像：</span></a></h4>
<div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34"><pre v-pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF">[root@localhost ~]# docker images</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">REPOSITORY</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379">                                  TAG</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379">                 IMAGE</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> ID</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379">            CREATED</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379">             SIZE</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF">192.168.2.22:10010/library/busybox</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379">          v1</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379">                  beae173ccac6</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66">        4</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> months</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379"> ago</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379">        1.24MB</span></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>要是想要原来的镜像名，我们可以tag来修改镜像镜像名和版本。</p>
<h3 id="_9、删除harbor镜像库中的镜像" tabindex="-1"><a class="header-anchor" href="#_9、删除harbor镜像库中的镜像"><span>9、删除harbor镜像库中的镜像</span></a></h3>
<p>删除镜像就是直接在web页面操作的；</p>
<h4 id="_1、访问harbor并登录" tabindex="-1"><a class="header-anchor" href="#_1、访问harbor并登录"><span>①、访问harbor并登录</span></a></h4>
<p>192.168.2.22:10010</p>
<figure><img src="https://lcy-blog.oss-cn-beijing.aliyuncs.com/blog/202412161454353.png" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure>
<h4 id="_2、查看镜像详情" tabindex="-1"><a class="header-anchor" href="#_2、查看镜像详情"><span>②、查看镜像详情</span></a></h4>
<p>点击项目——点击项目名称<br>
<img src="https://lcy-blog.oss-cn-beijing.aliyuncs.com/blog/202412161454647.png" alt="" loading="lazy"></p>
<h4 id="_3、删除harbor镜像库中的镜像" tabindex="-1"><a class="header-anchor" href="#_3、删除harbor镜像库中的镜像"><span>③、删除harbor镜像库中的镜像</span></a></h4>
<p>找到要删除的镜像，选中前面的空白框；<br>
<img src="https://lcy-blog.oss-cn-beijing.aliyuncs.com/blog/202412161454551.png" alt="" loading="lazy"><br>
选中要删除的镜像——点击删除——确认删除<br>
<img src="https://lcy-blog.oss-cn-beijing.aliyuncs.com/blog/202412161454916.png" alt="" loading="lazy"><br>
这样就删除成功了。<br>
<img src="https://lcy-blog.oss-cn-beijing.aliyuncs.com/blog/202412161454452.png" alt="" loading="lazy"><br>
好了，今天所有的到此结束了，感谢大家的阅读。</p>
<h2 id="总结" tabindex="-1"><a class="header-anchor" href="#总结"><span>总结</span></a></h2>
<p><strong>相关文章：</strong></p>
<blockquote>
<p>①、<a href="https://blog.csdn.net/liu_chen_yang/article/details/124665726?spm=1001.2014.3001.5502" target="_blank" rel="noopener noreferrer">Docker——denied: requested access to the resource is denied问题以及解决方法</a><br>
②、<a href="https://blog.csdn.net/liu_chen_yang/article/details/124705622" target="_blank" rel="noopener noreferrer">Docker搭建harbor私有镜像仓库（命令行模式）</a><br>
③、<a href="https://blog.csdn.net/liu_chen_yang/article/details/124688952" target="_blank" rel="noopener noreferrer">Linux中安装/部署docker-compose</a><br>
④、<a href="https://blog.csdn.net/liu_chen_yang/article/details/124670946?spm=1001.2014.3001.5502" target="_blank" rel="noopener noreferrer">Docker发布/上传镜像到dockerhub&amp;&amp;下载/拉取镜像&amp;&amp;删除dockerhub镜像</a></p>
</blockquote>
</div></template>


