<template><div><blockquote>
<p>ğŸ<strong>åšä¸»ç®€ä»‹</strong></p>
<p>â€ƒâ€ƒğŸ…<a href="https://blog.csdn.net/liu_chen_yang?type=blog" target="_blank" rel="noopener noreferrer">äº‘è®¡ç®—é¢†åŸŸä¼˜è´¨åˆ›ä½œè€…<ExternalLinkIcon/></a><br>
â€ƒâ€ƒğŸ…<a href="https://bbs.huaweicloud.com/community/myblog" target="_blank" rel="noopener noreferrer">åä¸ºäº‘å¼€å‘è€…ç¤¾åŒºä¸“å®¶åšä¸»<ExternalLinkIcon/></a><br>
â€ƒâ€ƒğŸ…<a href="https://developer.aliyun.com/my?spm=a2c6h.13148508.setting.3.21fc4f0eCmz1v3#/article?_k=zooqoz" target="_blank" rel="noopener noreferrer">é˜¿é‡Œäº‘å¼€å‘è€…ç¤¾åŒºä¸“å®¶åšä¸»<ExternalLinkIcon/></a><br>
ğŸ’Š<strong>äº¤æµç¤¾åŒºï¼š</strong><a href="https://bbs.csdn.net/forums/lcy" target="_blank" rel="noopener noreferrer">è¿ç»´äº¤æµç¤¾åŒº<ExternalLinkIcon/></a> æ¬¢è¿å¤§å®¶çš„åŠ å…¥ï¼</p>
</blockquote>
<p>@[toc]</p>
<h1 id="å…·ä½“æŠ¥é”™ä¿¡æ¯" tabindex="-1"><a class="header-anchor" href="#å…·ä½“æŠ¥é”™ä¿¡æ¯" aria-hidden="true">#</a> å…·ä½“æŠ¥é”™ä¿¡æ¯ï¼š</h1>
<div class="language-bash line-numbers-mode" data-ext="sh"><pre v-pre class="language-bash"><code><span class="token punctuation">[</span>root@k8d mysql<span class="token punctuation">]</span><span class="token comment"># docker pull mysql:5.7.38</span>
Trying to pull repository docker.io/library/mysql <span class="token punctuation">..</span>. 
Get https://registry-1.docker.io/v2/: x509: certificate has expired or is not yet valid
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>å‘ç°æŠ¥é”™</p>
<blockquote>
<font color=red>x509: certificate has expired or is not yet valid</font> ç¿»è¯‘è¿‡æ¥å°±æ˜¯ <font color=green>x509ï¼šè¯ä¹¦å·²è¿‡æœŸæˆ–å°šæœªç”Ÿæ•ˆ</font></blockquote>
<h1 id="é—®é¢˜æ’æŸ¥" tabindex="-1"><a class="header-anchor" href="#é—®é¢˜æ’æŸ¥" aria-hidden="true">#</a> é—®é¢˜æ’æŸ¥ï¼š</h1>
<h2 id="æ—¶é—´é—®é¢˜æ’æŸ¥" tabindex="-1"><a class="header-anchor" href="#æ—¶é—´é—®é¢˜æ’æŸ¥" aria-hidden="true">#</a> æ—¶é—´é—®é¢˜æ’æŸ¥</h2>
<p>é¦–å…ˆæˆ‘ä»¬å…ˆçœ‹æ—¶é—´é—®é¢˜ï¼›<br>
åœ¨dockeræ‹‰å–é•œåƒæ—¶å‡ºç° x509 æŠ¥é”™,ä¸€èˆ¬éƒ½æ˜¯è¯ä¹¦é—®é¢˜æˆ–è€…ç³»ç»Ÿæ—¶é—´é—®é¢˜å¯¼è‡´ï¼Œå¯ä»¥å…ˆæ‰§è¡Œ â€‹â€‹dateâ€‹â€‹ çœ‹ä¸€ä¸‹ç³»ç»Ÿæ—¶é—´å¯¹ä¸å¯¹,å¦‚æœæœåŠ¡å™¨ç³»ç»Ÿæ—¶é—´è·Ÿç°å®å®é™…æ—¶é—´å¯¹ä¸ä¸Šçš„è¯ï¼Œä¸€èˆ¬å°±æ˜¯ç³»ç»Ÿæ—¶é—´é—®é¢˜ï¼ŒåŒæ­¥æ—¶é—´å³å¯ã€‚</p>
<h3 id="_1-æŸ¥çœ‹æ—¶é—´" tabindex="-1"><a class="header-anchor" href="#_1-æŸ¥çœ‹æ—¶é—´" aria-hidden="true">#</a> 1 æŸ¥çœ‹æ—¶é—´</h3>
<div class="language-bash line-numbers-mode" data-ext="sh"><pre v-pre class="language-bash"><code><span class="token punctuation">[</span>root@k8d mysql<span class="token punctuation">]</span><span class="token comment"># date</span>
<span class="token number">2023</span>å¹´ 02æœˆ <span class="token number">17</span>æ—¥ æ˜ŸæœŸäº” 06:09:59 CST
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><p>ç¡®å®šç³»ç»Ÿæ—¶é—´ä¸ç°åœ¨çš„æ—¶é—´å¯¹ä¸ä¸Šï¼Œä¼°è®¡å°±æ˜¯è¿™ä¸ªé—®é¢˜äº†ï¼Œæˆ‘ä»¬æ¥åŒæ­¥ä¸€ä¸‹æ—¶é—´ã€‚</p>
<h3 id="_2-å®‰è£…åŒæ­¥æ—¶é—´å·¥å…·-ntpdate" tabindex="-1"><a class="header-anchor" href="#_2-å®‰è£…åŒæ­¥æ—¶é—´å·¥å…·-ntpdate" aria-hidden="true">#</a> 2 å®‰è£…åŒæ­¥æ—¶é—´å·¥å…· ntpdate</h3>
<div class="language-bash line-numbers-mode" data-ext="sh"><pre v-pre class="language-bash"><code>yum <span class="token parameter variable">-y</span> <span class="token function">install</span> ntpdate
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h3 id="_3-åŒæ­¥æ—¶é—´" tabindex="-1"><a class="header-anchor" href="#_3-åŒæ­¥æ—¶é—´" aria-hidden="true">#</a> 3 åŒæ­¥æ—¶é—´</h3>
<p>å®‰è£…å®Œå‘½ä»¤ä¹‹ååŒæ­¥æ—¶é—´ï¼›</p>
<div class="language-bash line-numbers-mode" data-ext="sh"><pre v-pre class="language-bash"><code><span class="token punctuation">[</span>root@k8d mysql<span class="token punctuation">]</span><span class="token comment"># ntpdate cn.pool.ntp.org</span>
 <span class="token number">7</span> Mar <span class="token number">10</span>:40:40 ntpdate<span class="token punctuation">[</span><span class="token number">6276</span><span class="token punctuation">]</span>: step <span class="token function">time</span> server <span class="token number">120.25</span>.115.20 offset <span class="token number">1571423.500135</span> sec
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><p>åŒæ­¥å®Œæˆä¹‹åå†æ¬¡æŸ¥çœ‹ä¸€ä¸‹æ—¶é—´</p>
<h3 id="_4-å†æ¬¡æŸ¥çœ‹å½“å‰ç³»ç»Ÿæ—¶é—´" tabindex="-1"><a class="header-anchor" href="#_4-å†æ¬¡æŸ¥çœ‹å½“å‰ç³»ç»Ÿæ—¶é—´" aria-hidden="true">#</a> 4 å†æ¬¡æŸ¥çœ‹å½“å‰ç³»ç»Ÿæ—¶é—´</h3>
<div class="language-bash line-numbers-mode" data-ext="sh"><pre v-pre class="language-bash"><code><span class="token punctuation">[</span>root@k8d mysql<span class="token punctuation">]</span><span class="token comment"># date</span>
<span class="token number">2023</span>å¹´ 03æœˆ 07æ—¥ æ˜ŸæœŸäºŒ <span class="token number">10</span>:40:43 CST
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><p>åŒæ­¥æˆåŠŸï¼Œå†æ¬¡æ‹‰å–é•œåƒè¯•ä¸€ä¸‹</p>
<h3 id="_5-å†æ¬¡æ‹‰å–é•œåƒ" tabindex="-1"><a class="header-anchor" href="#_5-å†æ¬¡æ‹‰å–é•œåƒ" aria-hidden="true">#</a> 5 å†æ¬¡æ‹‰å–é•œåƒ</h3>
<div class="language-bash line-numbers-mode" data-ext="sh"><pre v-pre class="language-bash"><code><span class="token punctuation">[</span>root@k8d mysql<span class="token punctuation">]</span><span class="token comment"># docker pull mysql:5.7.38</span>
Trying to pull repository docker.io/library/mysql <span class="token punctuation">..</span>. 
<span class="token number">5.7</span>.38: Pulling from docker.io/library/mysql
66fb34780033: Pull complete 
ef4ccd63cdb4: Pull complete 
d6f28a94c51f: Pull complete 
7feea2a503b5: Pull complete 
71dd5852ecd9: Pull complete 
3da2c95cac2f: Pull complete 
af7913db289c: Pull complete 
77f552f93c12: Pull complete 
3ed53edb61ab: Pull complete 
67e1c6839f08: Pull complete 
abcdaaf08d0f: Pull complete 
Digest: sha256:bbe0e2b0a33ef5c3a983e490dcb3c1a42d623db1d5679e82f65cce3f32c8f254
Status: Downloaded newer image <span class="token keyword">for</span> docker.io/mysql:5.7.38
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>å‘ç°æ²¡æœ‰æŠ¥é”™ï¼Œæ‹‰å–æˆåŠŸï¼Œé—®é¢˜è§£å†³ã€‚</p>
<p>å¦‚æœè¿˜æ˜¯æœ‰æŠ¥é”™çœ‹ç¬¬äºŒç§æ–¹æ³•ï¼š</p>
<h2 id="è¯ä¹¦é—®é¢˜æ’æŸ¥" tabindex="-1"><a class="header-anchor" href="#è¯ä¹¦é—®é¢˜æ’æŸ¥" aria-hidden="true">#</a> è¯ä¹¦é—®é¢˜æ’æŸ¥</h2>
<p>è¯ä¹¦é—®é¢˜éœ€è¦ç¼–è¾‘ <font color=red>â€‹â€‹/etc/docker/daemon.json</font> æ–‡ä»¶ï¼Œåœ¨é…ç½®æ–‡ä»¶ä¸­æ·»åŠ  <font color=red>â€‹â€‹â€‹â€‹&quot;registry-mirrors&quot;:[&quot;<a href="https://docker.mirrors.ustc.edu.cn" target="_blank" rel="noopener noreferrer">https://docker.mirrors.ustc.edu.cn<ExternalLinkIcon/></a>&quot;]â€‹â€‹</font> é…ç½®ã€‚</p>
<h3 id="ç¼–è¾‘-etc-docker-daemon-jsonæ–‡ä»¶" tabindex="-1"><a class="header-anchor" href="#ç¼–è¾‘-etc-docker-daemon-jsonæ–‡ä»¶" aria-hidden="true">#</a> ç¼–è¾‘/etc/docker/daemon.jsonæ–‡ä»¶</h3>
<div class="language-bash line-numbers-mode" data-ext="sh"><pre v-pre class="language-bash"><code><span class="token punctuation">[</span>root@k8d mysql<span class="token punctuation">]</span><span class="token comment"># vim /etc/docker/daemon.json</span>
<span class="token punctuation">{</span>
<span class="token string">"registry-mirrors"</span>:<span class="token punctuation">[</span><span class="token string">"https://hx983jf6.mirror.aliyuncs.com"</span>,<span class="token string">"https://docker.mirrors.ustc.edu.cn"</span><span class="token punctuation">]</span>,  //ç¬¬ä¸€ä¸ªæ˜¯é•œåƒåŠ é€Ÿé…ç½®
<span class="token string">"graph"</span><span class="token builtin class-name">:</span><span class="token string">"/mnt/data"</span>    //ä¿®æ”¹Dockeré»˜è®¤å­˜å‚¨è·¯å¾„é…ç½®
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="æ›´æ–°docker-daemon-jsoné…ç½®" tabindex="-1"><a class="header-anchor" href="#æ›´æ–°docker-daemon-jsoné…ç½®" aria-hidden="true">#</a> æ›´æ–°docker/daemon.jsoné…ç½®</h3>
<div class="language-bash line-numbers-mode" data-ext="sh"><pre v-pre class="language-bash"><code>systemctl daemon-reload
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h3 id="é‡å¯dockeræœåŠ¡" tabindex="-1"><a class="header-anchor" href="#é‡å¯dockeræœåŠ¡" aria-hidden="true">#</a> é‡å¯dockeræœåŠ¡</h3>
<div class="language-bash line-numbers-mode" data-ext="sh"><pre v-pre class="language-bash"><code>systemctl restart <span class="token function">docker</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h3 id="å†æ¬¡æ‹‰å–é•œåƒ" tabindex="-1"><a class="header-anchor" href="#å†æ¬¡æ‹‰å–é•œåƒ" aria-hidden="true">#</a> å†æ¬¡æ‹‰å–é•œåƒ</h3>
<div class="language-bash line-numbers-mode" data-ext="sh"><pre v-pre class="language-bash"><code><span class="token punctuation">[</span>root@k8d mysql<span class="token punctuation">]</span><span class="token comment"># docker pull mysql:5.7.38</span>
Trying to pull repository docker.io/library/mysql <span class="token punctuation">..</span>. 
<span class="token number">5.7</span>.38: Pulling from docker.io/library/mysql
66fb34780033: Pull complete 
ef4ccd63cdb4: Pull complete 
d6f28a94c51f: Pull complete 
7feea2a503b5: Pull complete 
71dd5852ecd9: Pull complete 
3da2c95cac2f: Pull complete 
af7913db289c: Pull complete 
77f552f93c12: Pull complete 
3ed53edb61ab: Pull complete 
67e1c6839f08: Pull complete 
abcdaaf08d0f: Pull complete 
Digest: sha256:bbe0e2b0a33ef5c3a983e490dcb3c1a42d623db1d5679e82f65cce3f32c8f254
Status: Downloaded newer image <span class="token keyword">for</span> docker.io/mysql:5.7.38
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>å‘ç°æ²¡æœ‰æŠ¥é”™ï¼Œæ‹‰å–æˆåŠŸï¼Œé—®é¢˜è§£å†³ã€‚</p>
<h1 id="æˆåŠŸè§£å†³" tabindex="-1"><a class="header-anchor" href="#æˆåŠŸè§£å†³" aria-hidden="true">#</a> æˆåŠŸè§£å†³</h1>
</div></template>


