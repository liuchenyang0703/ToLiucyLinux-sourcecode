import{_ as l}from"./plugin-vue_export-helper-c27b6911.js";import{r as i,o,c as d,a as e,b as a,d as n,w as r,e as c}from"./app-6706a352.js";const b={},p=e("strong",null,"åšä¸»ç®€ä»‹",-1),m=e("br",null,null,-1),u={href:"https://blog.csdn.net/liu_chen_yang?type=blog",target:"_blank",rel:"noopener noreferrer"},_=e("br",null,null,-1),h={href:"https://bbs.huaweicloud.com/community/myblog",target:"_blank",rel:"noopener noreferrer"},v=e("br",null,null,-1),g={href:"https://developer.aliyun.com/my?spm=a2c6h.13148508.setting.3.21fc4f0eCmz1v3#/article?_k=zooqoz",target:"_blank",rel:"noopener noreferrer"},x=e("br",null,null,-1),k=e("strong",null,"äº¤æµç¤¾åŒºï¼š",-1),f={href:"https://bbs.csdn.net/forums/lcy",target:"_blank",rel:"noopener noreferrer"},z=e("br",null,null,-1),L=e("h2",{id:"_1ã€ä¿®æ”¹è‡ªå®šä¹‰è„šæœ¬æœªé‡å¯å®¢æˆ·ç«¯",tabindex:"-1"},[e("a",{class:"header-anchor",href:"#_1ã€ä¿®æ”¹è‡ªå®šä¹‰è„šæœ¬æœªé‡å¯å®¢æˆ·ç«¯","aria-hidden":"true"},"#"),a(" 1ã€ä¿®æ”¹è‡ªå®šä¹‰è„šæœ¬æœªé‡å¯å®¢æˆ·ç«¯")],-1),y=e("p",null,"æœ‰æ—¶å€™ä½¿ç”¨è‡ªå®šä¹‰è„šæœ¬ç›‘æ§ï¼Œè‡ªåŠ¨ä¿®æ”¹äº†zabix-agentd.confä¹‹åï¼Œå¹¶æ²¡æœ‰å°†å…¶é‡æ–°å¯åŠ¨ï¼Œä¼šæœ‰è¿™ä¸ªæŠ¥é”™ï¼›",-1),A=c(`<div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code>systemctl restart zabbix-agent.service
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h2 id="_2ã€æœªå¼€å¯zabbixçš„é€šä¿¡ç«¯å£" tabindex="-1"><a class="header-anchor" href="#_2ã€æœªå¼€å¯zabbixçš„é€šä¿¡ç«¯å£" aria-hidden="true">#</a> 2ã€æœªå¼€å¯zabbixçš„é€šä¿¡ç«¯å£</h2><p>ä½¿ç”¨zabbixç›‘æ§æœåŠ¡å™¨æ—¶ï¼Œç”±äºzabbix agentä¸zabbix serveré€šè¿‡10050ç«¯å£é€šä¿¡ã€‚serverç«¯ä¾¦å¬åœ¨10051ç«¯å£ï¼Œå®¢æˆ·ç«¯ä¾¦å¬åœ¨10050ç«¯å£ï¼Œæ‰€ä»¥æˆ‘ä»¬è¦å°†ç«¯å£æš´éœ²å‡ºæ¥ã€‚æœ‰æ—¶æœåŠ¡å™¨å¹¶æ²¡æœ‰å°†10050ç«¯å£å¼€å¯ï¼Œè¿›è€Œå¯¼è‡´æŠ¥é”™ã€‚<br> é¦–å…ˆæˆ‘ä»¬å¯ä»¥ä½¿ç”¨å‘½ä»¤iptables -nLæŸ¥çœ‹å…¶æ˜¯å¦å¼€å¯ï¼Œæ²¡æœ‰å¼€å¯ï¼Œå°†å…¶å¼€å¯å³å¯ã€‚<br> å¼€å¯å‘½ä»¤ï¼š</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code> <span class="token comment">#172.16.11.202æ˜¯ä½ çš„zabbix serverçš„ipåœ°å€</span>
iptables <span class="token parameter variable">-I</span> INPUT <span class="token parameter variable">-p</span> tcp <span class="token parameter variable">-s</span> <span class="token number">172.16</span>.11.202 <span class="token parameter variable">-m</span> tcp <span class="token parameter variable">--dport</span> <span class="token number">10050</span> <span class="token parameter variable">-m</span> comment <span class="token parameter variable">--comment</span> <span class="token string">&quot;zabbix_agentd listen 10050&quot;</span> <span class="token parameter variable">-j</span> ACCEPT
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="_3ã€itemçš„è¶…æ—¶æ—¶é—´" tabindex="-1"><a class="header-anchor" href="#_3ã€itemçš„è¶…æ—¶æ—¶é—´" aria-hidden="true">#</a> 3ã€Itemçš„è¶…æ—¶æ—¶é—´</h2><p>ä½¿ç”¨Zabbixçš„æ—¶å€™å¾€å¾€ä¼šè‡ªå®šä¹‰Itemã€‚ä½†æ˜¯ç»å¸¸ä¼šé‡åˆ°è‡ªå®šä¹‰çš„ItemåŠ¨ä¸åŠ¨å°±Not Supportedäº†ã€‚å…¶å®åŸå› å¾ˆç®€å•ã€‚Zabbix Agenté»˜è®¤çš„è¶…æ—¶æ—¶é—´æ˜¯3ç§’ã€‚å¾€å¾€æˆ‘ä»¬è‡ªå®šä¹‰çš„Itemç”±äºå„ç§åŸå› è¿”å›æ—¶é—´ä¼šæ¯”è¾ƒé•¿ã€‚æ‰€ä»¥å»ºè®®ç»Ÿä¸€ä¿®æ”¹ä¸€ä¸ªé€‚åˆè‡ªå·±å®é™…çš„å€¼ã€‚<br> ä¿®æ”¹æ“ä½œå¦‚ä¸‹ï¼š</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token function">vim</span> /etc/zabbix/zabbix_agent.conf

<span class="token comment">#Range: 1-30</span>
<span class="token assign-left variable">Timeout</span><span class="token operator">=</span><span class="token number">30</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>ä¿®æ”¹å®Œæ¯•åé‡å¯zabbix-agentå³å¯ï¼›</p><h2 id="_4ã€zabbix-agentdä¸item-keyç‰ˆæœ¬ä¸å…¼å®¹" tabindex="-1"><a class="header-anchor" href="#_4ã€zabbix-agentdä¸item-keyç‰ˆæœ¬ä¸å…¼å®¹" aria-hidden="true">#</a> 4ã€zabbix_agentdä¸item_keyç‰ˆæœ¬ä¸å…¼å®¹</h2><p>zabbix_agentdç‰ˆæœ¬å…¼å®¹æ€§å¯¼è‡´item_keyä¸æ”¯æŒçš„æ•…éšœï¼›<br> æœ‰å¯èƒ½æ˜¯è‡ªå·±å‡çº§äº†å®¢æˆ·ç«¯æˆ–è€…æœåŠ¡ç«¯å¯¼è‡´ä¸¤ä¸ªç«¯å£ç‰ˆæœ¬ä¸ä¸€è‡´ï¼Œè¿›è€Œäº§ç”Ÿé”™è¯¯ã€‚<br> è§£å†³ç‰ˆæœ¬;å‡çº§å®¢æˆ·ç«¯æˆ–è€…æœåŠ¡ç«¯åˆ°ç›¸åŒçš„ç‰ˆæœ¬ï¼›</p><h2 id="_5ã€æœªå¼€å¯è¿œç¨‹æ‰§è¡Œæ“ä½œå‘½ä»¤çš„é…ç½®" tabindex="-1"><a class="header-anchor" href="#_5ã€æœªå¼€å¯è¿œç¨‹æ‰§è¡Œæ“ä½œå‘½ä»¤çš„é…ç½®" aria-hidden="true">#</a> 5ã€æœªå¼€å¯è¿œç¨‹æ‰§è¡Œæ“ä½œå‘½ä»¤çš„é…ç½®</h2><p>é¦–å…ˆè¦å®ç°è¿œç¨‹æ‰§è¡Œå‘½ä»¤çš„è¯éœ€è¦å¼€å¯agentç«¯é…ç½®æ–‡ä»¶é‡Œçš„EnableRemoteCommands=1çš„å‚æ•°</p><p>å¦‚æœä¸æ”¹çš„è¯ å½“è§¦å‘æŠ¥è­¦åŒæ—¶ ä¼šå‘ç°æ‰§è¡Œå‘½ä»¤å¤±è´¥è€ŒæŠ¥è¿™Unsupported item key.é”™ï¼›</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token function">vim</span> /etc/zabbix/zabbix_agentd.conf

<span class="token comment">#å¯ç”¨è¿œç¨‹å‘½ä»¤</span>
<span class="token assign-left variable">EnableRemoteCommands</span><span class="token operator">=</span><span class="token number">1</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>å¼€å¯è¿œç¨‹å‘½ä»¤ï¼Œé‡å¯æœåŠ¡å†æ¬¡æµ‹è¯•å³å¯ï¼›</p><h2 id="é™„åŠ " tabindex="-1"><a class="header-anchor" href="#é™„åŠ " aria-hidden="true">#</a> é™„åŠ +</h2><p>å¦‚æœ‰é‡åˆ°æ‰§è¡Œå‘½ä»¤æŠ¥é”™Permission deniedè¡¨ç¤ºæ²¡æœ‰æƒé™æ‰§è¡Œå½“å‰å‘½ä»¤ï¼›<br> è¿™ä¸ªæ—¶å€™éœ€è¦ä½¿ç”¨visudo å»å¢åŠ zabbix ä½¿ç”¨sudo åˆ‡æ¢åˆ°rootç”¨æˆ·çš„æƒé™zabbix ALL=(ALL) NOPASSWD:ALL</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code>visudo

zabbix  <span class="token assign-left variable">ALL</span><span class="token operator">=</span><span class="token punctuation">(</span>ALL<span class="token punctuation">)</span>       NOPASSWD:ALL
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>æ›´æ”¹å®Œå†æ¬¡æµ‹è¯•å³å¯ï¼›</p>`,19);function I(N,C){const s=i("ExternalLinkIcon"),t=i("font");return o(),d("div",null,[e("blockquote",null,[e("p",null,[a("ğŸ"),p,m,a(" â€ƒâ€ƒğŸ…"),e("a",u,[a("äº‘è®¡ç®—é¢†åŸŸä¼˜è´¨åˆ›ä½œè€…"),n(s)]),_,a(" â€ƒâ€ƒğŸ…"),e("a",h,[a("åä¸ºäº‘å¼€å‘è€…ç¤¾åŒºä¸“å®¶åšä¸»"),n(s)]),v,a(" â€ƒâ€ƒğŸ…"),e("a",g,[a("é˜¿é‡Œäº‘å¼€å‘è€…ç¤¾åŒºä¸“å®¶åšä¸»"),n(s)]),x,a(" ğŸ’Š"),k,e("a",f,[a("è¿ç»´äº¤æµç¤¾åŒº"),n(s)]),a(" æ¬¢è¿å¤§å®¶çš„åŠ å…¥ï¼")])]),e("p",null,[a("ä½¿ç”¨zabbixç›‘æ§æ—¶ï¼Œæœ‰æ—¶éœ€è¦ç›´æ¥ç›‘æ§å¦‚æœå‘Šè­¦åˆ™æ‰§è¡ŒæŸä¸ªç¨‹åºï¼›"),z,a(" ä½†æ˜¯è¿œç¨‹å‘½ä»¤æ‰§è¡Œçš„æ—¶å€™å‡ºç°äº†æŠ¥é”™ï¼š"),n(t,{color:"red"},{default:r(()=>[a("Unsupported item key.")]),_:1}),a("ï¼›è¿™ç§æŠ¥é”™æœ‰ä»¥ä¸‹å‡ ä¸­æ•´ç†å‡ºæ¥çš„å¯èƒ½åŸå› ï¼›")]),L,y,n(t,{color:"teal"},{default:r(()=>[a("è§£å†³æ–¹æ³•ï¼šé‡å¯zabbix-agent")]),_:1}),A])}const P=l(b,[["render",I],["__file","ã€Linuxã€‘zabbixå‘Šè­¦æ‰§è¡Œè¿œç¨‹è„šæœ¬æŠ¥é”™Unsupported item key.é—®é¢˜æ±‡æ€»åŠè§£å†³æ–¹å¼.html.vue"]]);export{P as default};
