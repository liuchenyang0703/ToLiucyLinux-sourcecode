import{_ as c}from"./plugin-vue_export-helper-c27b6911.js";import{r as o,o as r,c as d,a as n,b as s,d as a,w as l,e as t}from"./app-6706a352.js";const p={},u=n("p",null,[s("ğŸ‘¨â€ğŸ“"),n("strong",null,"åšä¸»ç®€ä»‹")],-1),m={href:"https://blog.csdn.net/liu_chen_yang?type=blog",target:"_blank",rel:"noopener noreferrer"},g=n("br",null,null,-1),b={href:"https://bbs.huaweicloud.com/community/myblog",target:"_blank",rel:"noopener noreferrer"},v=n("br",null,null,-1),h={href:"https://developer.aliyun.com/my?spm=a2c6h.13148508.setting.3.21fc4f0eCmz1v3#/article?_k=zooqoz",target:"_blank",rel:"noopener noreferrer"},k=n("br",null,null,-1),y=n("strong",null,"äº¤æµç¤¾åŒºï¼š",-1),f={href:"https://bbs.csdn.net/forums/lcy",target:"_blank",rel:"noopener noreferrer"},_=n("br",null,null,-1),x=n("br",null,null,-1),z=t(`<figure><img src="https://lcy-blog.oss-cn-beijing.aliyuncs.com/blog/202412181607803.png" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><hr><h2 id="å¤‡ä»½ç½‘ç»œé…ç½®-å¸è½½æ—¶éœ€è¦ç”¨åˆ°" tabindex="-1"><a class="header-anchor" href="#å¤‡ä»½ç½‘ç»œé…ç½®-å¸è½½æ—¶éœ€è¦ç”¨åˆ°" aria-hidden="true">#</a> å¤‡ä»½ç½‘ç»œé…ç½®ï¼ˆå¸è½½æ—¶éœ€è¦ç”¨åˆ°ï¼‰</h2><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token comment">#è¿›å…¥ç½‘ç»œé…ç½®ç›®å½•</span>
<span class="token builtin class-name">cd</span> /etc/sysconfig/network-scripts/
<span class="token comment">#è¿›è¡Œå¤‡ä»½ï¼ˆå¤‡ä»½æ—¶ä¸è¦ç”¨åŸæ¥çš„åå­—åŠ bakè¿™ç§å¤‡ä»½ï¼Œè¿™ç§å¤‡ä»½ä¼šåœ¨åˆ›å»ºæ¡¥æ¥è®¾å¤‡æ—¶è¢«æ¸…é™¤ï¼‰</span>
<span class="token function">mkdir</span> backup
<span class="token function">cp</span> <span class="token parameter variable">-ar</span> ifcfg-ens33 backup/ens33-bak
<span class="token comment">#æˆ–è€…ç›´æ¥</span>
<span class="token function">cp</span> <span class="token parameter variable">-ar</span> ifcfg-ens33 ens33-bak
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="æ£€æµ‹æ˜¯å¦æ”¯æŒkvmè™šæ‹ŸåŒ–" tabindex="-1"><a class="header-anchor" href="#æ£€æµ‹æ˜¯å¦æ”¯æŒkvmè™šæ‹ŸåŒ–" aria-hidden="true">#</a> æ£€æµ‹æ˜¯å¦æ”¯æŒKVMè™šæ‹ŸåŒ–</h2><blockquote><p>â€ƒâ€ƒKVM æ˜¯åŸºäº x86 è™šæ‹ŸåŒ–æ‰©å±•(Intel VT æˆ–è€… AMD-V) æŠ€æœ¯çš„è™šæ‹Ÿæœºè½¯ä»¶ï¼Œæ‰€ä»¥æŸ¥çœ‹ CPU æ˜¯å¦æ”¯æŒ VT æŠ€æœ¯ï¼Œå°±å¯ä»¥åˆ¤æ–­æ˜¯å¦æ”¯æŒKVMã€‚æœ‰è¿”å›ç»“æœï¼Œå¦‚æœç»“æœä¸­æœ‰vmxï¼ˆIntelï¼‰æˆ–svm(AMD)å­—æ ·ï¼Œå°±è¯´æ˜CPUçš„æ”¯æŒçš„ã€‚</p></blockquote><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token function">cat</span> /proc/cpuinfo <span class="token operator">|</span> <span class="token function">egrep</span> <span class="token string">&#39;vmx|svm&#39;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p><img src="https://lcy-blog.oss-cn-beijing.aliyuncs.com/blog/202412181607556.png" alt="" loading="lazy"><br> ç”±æ­¤å¯çœ‹åˆ°ï¼Œæˆ‘è¿™è¾¹æ˜¯æ”¯æŒçš„ï¼›</p><p>æœ‰ä¸€ä¸ªè¦æ³¨æ„çš„å°±æ˜¯ï¼šè¦å…³é—­selinuxæ²™ç›’</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token comment">#è¿›å…¥selinuxä¸­é…ç½®</span>
<span class="token function">vim</span> /etc/sysconfig/selinux 

<span class="token comment">#å°†ç¬¬6è¡Œè®¾ç½®ä¸ºdisabled</span>
<span class="token assign-left variable">SELINUX</span><span class="token operator">=</span>disabled

<span class="token comment">#ä¿å­˜é€€å‡º;é‡å¯ç³»ç»Ÿç”Ÿæ•ˆ</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div>`,10),j=t(`<figure><img src="https://lcy-blog.oss-cn-beijing.aliyuncs.com/blog/202412181607168.png" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><h2 id="æŸ¥çœ‹æ˜¯å¦åŠ è½½ä¸Škvm" tabindex="-1"><a class="header-anchor" href="#æŸ¥çœ‹æ˜¯å¦åŠ è½½ä¸Škvm" aria-hidden="true">#</a> æŸ¥çœ‹æ˜¯å¦åŠ è½½ä¸ŠKVM</h2><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token punctuation">[</span>root@kvm ~<span class="token punctuation">]</span><span class="token comment"># lsmod | grep kvm</span>
kvm_intel             <span class="token number">188644</span>  <span class="token number">0</span> 
kvm                   <span class="token number">621480</span>  <span class="token number">1</span> kvm_intel
irqbypass              <span class="token number">13503</span>  <span class="token number">1</span> kvm
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>æœ‰ç»“æœåˆ™åŠ è½½ä¸Šäº†KVMï¼Œå¦‚æœæ²¡æœ‰çš„è¯å¯æ‰§è¡Œä»¥ä¸‹å‘½ä»¤ï¼Œå†æ¬¡æŸ¥çœ‹ï¼›</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token punctuation">[</span>root@kvm ~<span class="token punctuation">]</span><span class="token comment"># lsmod | grep kvm</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h2 id="å®‰è£…kvmç›¸å…³è½¯ä»¶åŒ…" tabindex="-1"><a class="header-anchor" href="#å®‰è£…kvmç›¸å…³è½¯ä»¶åŒ…" aria-hidden="true">#</a> å®‰è£…KVMç›¸å…³è½¯ä»¶åŒ…</h2><p>é€šè¿‡ yum å®‰è£… kvm åŸºç¡€åŒ…å’Œç®¡ç†å·¥å…·</p><p>kvmç›¸å…³å®‰è£…åŒ…åŠå…¶ä½œç”¨:</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code>qemu-kvm 			ä¸»è¦çš„KVMç¨‹åºåŒ…
python-virtinst	 	åˆ›å»ºè™šæ‹Ÿæœºæ‰€éœ€è¦çš„å‘½ä»¤è¡Œå·¥å…·å’Œç¨‹åºåº“
virt-manager 		GUIè™šæ‹Ÿæœºç®¡ç†å·¥å…·
virt-top 			è™šæ‹Ÿæœºç»Ÿè®¡å‘½ä»¤
virt-viewer 		GUIè¿æ¥ç¨‹åºï¼Œè¿æ¥åˆ°å·²é…ç½®å¥½çš„è™šæ‹Ÿæœº
libvirt 			Cè¯­è¨€å·¥å…·åŒ…ï¼Œæä¾›libvirtæœåŠ¡
libvirt-client 		ä¸ºè™šæ‹Ÿå®¢æˆ·æœºæä¾›çš„Cè¯­è¨€å·¥å…·åŒ…
virt-install 		åŸºäºlibvirtæœåŠ¡çš„è™šæ‹Ÿæœºåˆ›å»ºå‘½ä»¤
bridge-utils 		åˆ›å»ºå’Œç®¡ç†æ¡¥æ¥è®¾å¤‡çš„å·¥å…·
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>å®‰è£…KVMæ‰€éœ€çš„åŒ…</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code>yum <span class="token parameter variable">-y</span> <span class="token function">install</span> qemu-kvm python-virtinst libvirt libvirt-python virt-manager libguestfs-tools bridge-utils virt-install
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h2 id="å¼€å¯kvmæœåŠ¡libvirtå¹¶è®¾ç½®å¼€æœºè‡ªå¯" tabindex="-1"><a class="header-anchor" href="#å¼€å¯kvmæœåŠ¡libvirtå¹¶è®¾ç½®å¼€æœºè‡ªå¯" aria-hidden="true">#</a> å¼€å¯KVMæœåŠ¡libvirtå¹¶è®¾ç½®å¼€æœºè‡ªå¯</h2><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token punctuation">[</span>root@kvm ~<span class="token punctuation">]</span><span class="token comment"># systemctl start libvirtd</span>
<span class="token punctuation">[</span>root@kvm ~<span class="token punctuation">]</span><span class="token comment"># systemctl enable libvirtd</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><p>æŸ¥çœ‹libvirtå½“å‰çš„çŠ¶æ€</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token punctuation">[</span>root@kvm ~<span class="token punctuation">]</span><span class="token comment"># systemctl status libvirtd</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>è¿™æ ·å°±æ˜¯æ­£åœ¨è¿è¡Œæ—¶ï¼ˆç»¿è‰²çš„runningï¼‰</p><figure><img src="https://lcy-blog.oss-cn-beijing.aliyuncs.com/blog/202412181607656.png" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><h2 id="è®¾ç½®æœºå™¨çš„å­˜å‚¨" tabindex="-1"><a class="header-anchor" href="#è®¾ç½®æœºå™¨çš„å­˜å‚¨" aria-hidden="true">#</a> è®¾ç½®æœºå™¨çš„å­˜å‚¨</h2><p>é¦–å…ˆå°±æ˜¯çœ‹é‚£å—æœ‰ç©ºé—´</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token function">df</span> <span class="token parameter variable">-Th</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><figure><img src="https://lcy-blog.oss-cn-beijing.aliyuncs.com/blog/202412181607698.png" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><p>å¯ä»¥çœ‹åˆ°/homeç›®å½•ä¸‹æ˜¯æœ‰ç©ºé—´çš„ï¼Œé‚£ä¹ˆæˆ‘ä»¬å°±å°†æ•°æ®æ”¾åˆ°/homeä¸‹ï¼š</p><p><strong>åœ¨/homeç›®å½•ä¸‹åˆ›å»ºä¸¤ä¸ªç›®å½•ï¼Œä¸€ä¸ªå­˜æ”¾ç³»ç»Ÿé•œåƒï¼Œä¸€ä¸ªåšè™šæ‹Ÿæœºçš„å­˜å‚¨ç›˜</strong></p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token punctuation">[</span>root@kvm ~<span class="token punctuation">]</span><span class="token comment"># mkdir -p /home/kvm/iso</span>
<span class="token punctuation">[</span>root@kvm ~<span class="token punctuation">]</span><span class="token comment"># mkdir -p /home/kvm/images</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><p>å‡†å¤‡é•œåƒ</p><blockquote><p>å¯ä»¥è‡ªå·±ä¸‹è½½ä¸€ä¸ªä¼ åˆ°æœåŠ¡å™¨ä¸­ï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨wgetä¸‹è½½ä¸€ä¸ª</p></blockquote><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token function">wget</span> https://mirrors.aliyun.com/centos/7/isos/x86_64/CentOS-7-x86_64-Minimal-2009.iso
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>ä¸Šä¼ é•œåƒå¹¶å°†é•œåƒæ”¾åˆ°/home/isoç›®å½•ä¸‹</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token function">mv</span> CentOS-7-x86_64-Minimal-2009.iso /home/iso/
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h2 id="åˆ›å»ºç‰©ç†æ¡¥æ¥è®¾å¤‡" tabindex="-1"><a class="header-anchor" href="#åˆ›å»ºç‰©ç†æ¡¥æ¥è®¾å¤‡" aria-hidden="true">#</a> åˆ›å»ºç‰©ç†æ¡¥æ¥è®¾å¤‡</h2><p>1.æŸ¥çœ‹ç½‘å¡ä¿¡æ¯</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token function">ifconfig</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p><img src="https://lcy-blog.oss-cn-beijing.aliyuncs.com/blog/202412181607013.png" alt="" loading="lazy"><br> 2.å…³é—­NetworkManageræœåŠ¡</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token punctuation">[</span>root@kvm ~<span class="token punctuation">]</span><span class="token comment"># chkconfig NetworkManager off</span>
<span class="token punctuation">[</span>root@kvm ~<span class="token punctuation">]</span><span class="token comment"># service NetworkManager stop</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><figure><img src="https://lcy-blog.oss-cn-beijing.aliyuncs.com/blog/202412181607392.png" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><p>3.æ¡¥æ¥è®¾å¤‡å…³è”ç½‘å¡</p><p>è®¾å¤‡ç½‘å¡è¦çœ‹è‡ªå·±çš„ç½‘å¡åç§°ï¼Œæˆ‘è¿™è¾¹æ˜¯ens33ï¼Œç”¨ifconfigæŸ¥çœ‹ï¼›ç¬¬ä¸€æ­¥å·²ç»è¯´äº†ï¼›</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token punctuation">[</span>root@kvm ~<span class="token punctuation">]</span><span class="token comment"># virsh iface-bridge ens33 br0</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><figure><img src="https://lcy-blog.oss-cn-beijing.aliyuncs.com/blog/202412181607745.png" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><p>4.æŸ¥çœ‹æ˜¯å¦æˆåŠŸ</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token punctuation">[</span>root@kvm ~<span class="token punctuation">]</span><span class="token comment"># brctl show</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><figure><img src="https://lcy-blog.oss-cn-beijing.aliyuncs.com/blog/202412181607146.png" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><p>å¤šäº†ä¸€ä¸ªbr0ï¼Œå°±å¯ä»¥çœ‹åˆ°å·²ç»æˆåŠŸäº†ï¼›</p><h2 id="è¿›å…¥å›¾å½¢åŒ–ç•Œé¢" tabindex="-1"><a class="header-anchor" href="#è¿›å…¥å›¾å½¢åŒ–ç•Œé¢" aria-hidden="true">#</a> è¿›å…¥å›¾å½¢åŒ–ç•Œé¢</h2>`,44),M=n("strong",null,"Xmanagerï¼ˆè™šæ‹ŸåŒ–ç•Œé¢å·¥å…·ï¼‰",-1),V=n("br",null,null,-1),K=t(`<div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code>init <span class="token number">5</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>å¦‚æœå‘ç°è™šæ‹Ÿæœºæ²¡æœ‰ååº”ï¼Œé‚£å°±æ˜¯å®‰è£…çš„æ—¶å€™é€‰æ‹©çš„æœ€å°å®‰è£…ï¼Œæ²¡æœ‰å®‰è£…æ¡Œé¢ç¯å¢ƒï¼›<br> æˆ‘ä»¬å…ˆæ¥å®‰è£…ä¸€ä¸‹GNOME æ¡Œé¢ç¯å¢ƒ</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code>yum groupinstall <span class="token parameter variable">-y</span> <span class="token string">&quot;GNOME Desktop&quot;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><figure><img src="https://lcy-blog.oss-cn-beijing.aliyuncs.com/blog/202412181606768.png" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><p>å®‰è£…å®Œæˆä¹‹åï¼Œinit 5 è¿›å…¥GNOMEæ¡Œé¢ç¯å¢ƒï¼šåˆ°è™šæ‹Ÿæœºï¼ˆvmvareï¼‰é‡Œæ“ä½œï¼›</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code>init <span class="token number">5</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>è¿›å…¥GNOMEæ¡Œé¢ç¯å¢ƒä¹‹åæŒ‰ç…§ä¸‹é¢ä¸€æ­¥æ­¥èµ°å°±å¯ä»¥äº†ï¼›</p><p><img src="https://lcy-blog.oss-cn-beijing.aliyuncs.com/blog/202412181606198.png" alt="" loading="lazy"><br><img src="https://lcy-blog.oss-cn-beijing.aliyuncs.com/blog/202412181606751.png" alt="" loading="lazy"><br><img src="https://lcy-blog.oss-cn-beijing.aliyuncs.com/blog/202412181606986.png" alt="" loading="lazy"></p><p>æ—¶åŒºè®¾ç½®ä¸ºä¸Šæµ·</p><p><img src="https://lcy-blog.oss-cn-beijing.aliyuncs.com/blog/202412181606750.png" alt="" loading="lazy"><br><img src="https://lcy-blog.oss-cn-beijing.aliyuncs.com/blog/202412181606760.png" alt="" loading="lazy"><br><img src="https://lcy-blog.oss-cn-beijing.aliyuncs.com/blog/202412181606213.png" alt="" loading="lazy"><br><img src="https://lcy-blog.oss-cn-beijing.aliyuncs.com/blog/202412181606218.png" alt="" loading="lazy"></p><p>å¼€å§‹ä½¿ç”¨å°±å¥½äº†</p><figure><img src="https://lcy-blog.oss-cn-beijing.aliyuncs.com/blog/202412181606336.png" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><h2 id="å¼€å§‹ä½¿ç”¨kvm" tabindex="-1"><a class="header-anchor" href="#å¼€å§‹ä½¿ç”¨kvm" aria-hidden="true">#</a> å¼€å§‹ä½¿ç”¨KVM</h2><p>è¿›å…¥GNOMEæ¡Œé¢ç¯å¢ƒä¹‹åæˆ‘ä»¬æ‰“å¼€ç»ˆç«¯ï¼›</p><p><img src="https://lcy-blog.oss-cn-beijing.aliyuncs.com/blog/202412181606467.png" alt="" loading="lazy"><br><img src="https://lcy-blog.oss-cn-beijing.aliyuncs.com/blog/202412181606673.png" alt="" loading="lazy"></p><h3 id="åœ¨è™šæ‹Ÿæœºä¸­åˆ›å»ºæ–°çš„è™šæ‹Ÿæœº" tabindex="-1"><a class="header-anchor" href="#åœ¨è™šæ‹Ÿæœºä¸­åˆ›å»ºæ–°çš„è™šæ‹Ÿæœº" aria-hidden="true">#</a> åœ¨è™šæ‹Ÿæœºä¸­åˆ›å»ºæ–°çš„è™šæ‹Ÿæœº</h3><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token comment">#ä½¿ç”¨virt-managerå‘½ä»¤æ‰“å¼€è™šæ‹Ÿæœºç®¡ç†å™¨</span>
virt-manager
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><figure><img src="https://lcy-blog.oss-cn-beijing.aliyuncs.com/blog/202412181606314.png" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><p>æ‰“å¼€è™šæ‹Ÿç³»ç»Ÿç®¡ç†å™¨</p><blockquote><p>å‰é¢å·²ç»è®©ä¸Šä¼ äº†ä¸€ä¸ªisoæ˜ åƒäº†ï¼Œæˆ‘ä»¬å°±ç”¨å‰é¢ä¸Šä¼ çš„å§ï¼Œå¦‚æœæ²¡ä¸Šä¼ åˆ›å»ºè™šæ‹Ÿæœºä¼šæ‰¾ä¸åˆ°isoæ˜ åƒçš„ã€‚</p></blockquote><p><img src="https://lcy-blog.oss-cn-beijing.aliyuncs.com/blog/202412181606631.png" alt="" loading="lazy"><br><img src="https://lcy-blog.oss-cn-beijing.aliyuncs.com/blog/202412181606305.png" alt="" loading="lazy"><br><img src="https://lcy-blog.oss-cn-beijing.aliyuncs.com/blog/202412181606211.png" alt="" loading="lazy"></p><p><img src="https://lcy-blog.oss-cn-beijing.aliyuncs.com/blog/202412181605548.png" alt="" loading="lazy"><br><img src="https://lcy-blog.oss-cn-beijing.aliyuncs.com/blog/202412181605768.png" alt="" loading="lazy"><br><img src="https://lcy-blog.oss-cn-beijing.aliyuncs.com/blog/202412181605030.png" alt="" loading="lazy"><img src="https://img-blog.csdnimg.cn/de1a1d91ec6d4faa8634b59120047c10.png" alt="" loading="lazy"><img src="https://lcy-blog.oss-cn-beijing.aliyuncs.com/blog/202412181605933.png" alt="" loading="lazy"></p><p>å¦‚æœè¦ç»™å¤§ä¸€ç‚¹çš„è¯å¯ä»¥æŸ¥çœ‹è‡ªå·±çš„ç£ç›˜ç©ºé—´ï¼Œå“ªä¸ªç›®å½•å¤§ï¼Œå°±æŠŠisoæ”¾åˆ°å“ªä¸ªç›®å½•ï¼Œè¿™æ ·å°±å¯ä»¥é€‰æ‹©æ›´å¤§çš„ç©ºé—´äº†ï¼›</p><p><img src="https://lcy-blog.oss-cn-beijing.aliyuncs.com/blog/202412181605835.png" alt="" loading="lazy"><br><img src="https://lcy-blog.oss-cn-beijing.aliyuncs.com/blog/202412181605051.png" alt="" loading="lazy"></p><p>ç‚¹å‡»å®Œæˆå°±å¼€å§‹åˆ›å»º</p><p><img src="https://lcy-blog.oss-cn-beijing.aliyuncs.com/blog/202412181605040.png" alt="" loading="lazy"><img src="https://lcy-blog.oss-cn-beijing.aliyuncs.com/blog/202412181605152.png" alt="" loading="lazy"><br><img src="https://lcy-blog.oss-cn-beijing.aliyuncs.com/blog/202412181605219.png" alt="" loading="lazy"><br><img src="https://lcy-blog.oss-cn-beijing.aliyuncs.com/blog/202412181605546.png" alt="" loading="lazy"><br><img src="https://lcy-blog.oss-cn-beijing.aliyuncs.com/blog/202412181605797.png" alt="" loading="lazy"><br><img src="https://lcy-blog.oss-cn-beijing.aliyuncs.com/blog/202412181605287.png" alt="" loading="lazy"><br><img src="https://lcy-blog.oss-cn-beijing.aliyuncs.com/blog/202412181605771.png" alt="" loading="lazy"><img src="https://lcy-blog.oss-cn-beijing.aliyuncs.com/blog/202412181605099.png" alt="" loading="lazy"><br><img src="https://lcy-blog.oss-cn-beijing.aliyuncs.com/blog/202412181605822.png" alt="" loading="lazy"></p><p>ç™»å½•è´¦å·å¯†ç ï¼Œè´¦å·å°±æ˜¯rootï¼Œå¯†ç å°±æ˜¯åˆšåˆšè®¾ç½®çš„rootå¯†ç ï¼›</p><figure><img src="https://lcy-blog.oss-cn-beijing.aliyuncs.com/blog/202412181605959.png" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><h3 id="æ–°çš„è™šæ‹Ÿæœºåˆ›å»ºå®Œæˆ" tabindex="-1"><a class="header-anchor" href="#æ–°çš„è™šæ‹Ÿæœºåˆ›å»ºå®Œæˆ" aria-hidden="true">#</a> æ–°çš„è™šæ‹Ÿæœºåˆ›å»ºå®Œæˆ</h3><p>è¿™æ ·å°±å¯ä»¥åœ¨è™šæ‹Ÿæœºä¸­åˆ›å»ºä¸€ä¸ªè™šæ‹Ÿæœºäº†ï¼Œä¹Ÿå°±æ˜¯KVMäº†ã€‚</p><br><h3 id="ã€é™„åŠ ã€‘virshå¸¸ç”¨å‘½ä»¤" tabindex="-1"><a class="header-anchor" href="#ã€é™„åŠ ã€‘virshå¸¸ç”¨å‘½ä»¤" aria-hidden="true">#</a> ã€é™„åŠ ã€‘virshå¸¸ç”¨å‘½ä»¤</h3><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token punctuation">[</span>root@kvm ~<span class="token punctuation">]</span><span class="token comment"># virsh --help                                     #æŸ¥çœ‹å‘½ä»¤å¸®å¿™</span>
 
<span class="token punctuation">[</span>root@kvm ~<span class="token punctuation">]</span><span class="token comment"># virsh list                                       #æ˜¾ç¤ºæ­£åœ¨è¿è¡Œçš„è™šæ‹Ÿæœº</span>
 
<span class="token punctuation">[</span>root@kvm ~<span class="token punctuation">]</span><span class="token comment"># virsh list --all                                 #æ˜¾ç¤ºæ‰€æœ‰çš„è™šæ‹Ÿæœº</span>
 
<span class="token punctuation">[</span>root@kvm ~<span class="token punctuation">]</span><span class="token comment"># virsh start vm-node1                             #å¯åŠ¨vm-node1è™šæ‹Ÿæœº</span>
 
<span class="token punctuation">[</span>root@kvm ~<span class="token punctuation">]</span><span class="token comment"># virsh shutdown vm-node1                          #å…³é—­vm-node1è™šæ‹Ÿæœº</span>
 
<span class="token punctuation">[</span>root@kvm ~<span class="token punctuation">]</span><span class="token comment"># virsh destroy vm-node1                           #è™šæ‹Ÿæœºvm-node1å¼ºåˆ¶æ–­ç”µ</span>
 
<span class="token punctuation">[</span>root@kvm ~<span class="token punctuation">]</span><span class="token comment"># virsh suspend vm-node1                           #æŒ‚èµ·vm-node1è™šæ‹Ÿæœº</span>
 
<span class="token punctuation">[</span>root@kvm ~<span class="token punctuation">]</span><span class="token comment"># virsh resume vm-node1                            #æ¢å¤æŒ‚èµ·çš„è™šæ‹Ÿæœº</span>
 
<span class="token punctuation">[</span>root@kvm ~<span class="token punctuation">]</span><span class="token comment"># virsh undefine vm-node1                          #åˆ é™¤è™šæ‹Ÿæœºï¼Œæ…ç”¨</span>
  
<span class="token punctuation">[</span>root@kvm ~<span class="token punctuation">]</span><span class="token comment"># virsh edit vm-node1                              #ä¿®æ”¹vm-node1çš„xmlé…ç½®æ–‡ä»¶ï¼ˆå†…å­˜ã€ç£ç›˜ç©ºé—´....ï¼‰éƒ½å¯ä»¥ä¿®æ”¹</span>

<span class="token punctuation">[</span>root@kvm ~<span class="token punctuation">]</span><span class="token comment"># virsh dominfo vm-node1                           #æŸ¥çœ‹è™šæ‹Ÿæœºçš„é…ç½®ä¿¡æ¯</span>
 
<span class="token punctuation">[</span>root@kvm ~<span class="token punctuation">]</span><span class="token comment"># virsh domiflist vm-node1                         #æŸ¥çœ‹ç½‘å¡é…ç½®ä¿¡æ¯</span>
 
<span class="token punctuation">[</span>root@kvm ~<span class="token punctuation">]</span><span class="token comment"># virsh domblklist vm-node1                        #æŸ¥çœ‹è¯¥è™šæ‹Ÿæœºçš„ç£ç›˜ä½ç½®</span>
 
<span class="token punctuation">[</span>root@kvm ~<span class="token punctuation">]</span><span class="token comment"># virsh dumpxml vm-node1                           #æŸ¥çœ‹KVMè™šæ‹Ÿæœºå½“å‰é…ç½®</span>
 
<span class="token punctuation">[</span>root@kvm ~<span class="token punctuation">]</span><span class="token comment"># virsh dumpxml vm-node1 &gt; vm-node1.bak.xml        #å¤‡ä»½vm-node1è™šæ‹Ÿæœºçš„xmlæ–‡ä»¶ï¼ŒåŸæ–‡ä»¶é»˜è®¤è·¯å¾„/etc/libvirt/qemu/vm-node1.xml</span>
 
<span class="token punctuation">[</span>root@kvm ~<span class="token punctuation">]</span><span class="token comment"># virsh autostart vm-node1                         #KVMç‰©ç†æœºå¼€æœºè‡ªå¯åŠ¨è™šæ‹Ÿæœºï¼Œé…ç½®åä¼šåœ¨æ­¤ç›®å½•ç”Ÿæˆé…ç½®æ–‡ä»¶/etc/libvirt/qemu/autostart/vm-node1.xml</span>
 
<span class="token punctuation">[</span>root@kvm ~<span class="token punctuation">]</span><span class="token comment"># virsh autostart --disable vm-node1               #å–æ¶ˆå¼€æœºè‡ªå¯åŠ¨</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>KVMè™šæ‹Ÿæœºå¿«ç…§ç›¸å…³å‘½ä»¤</li></ul><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token punctuation">[</span>root@kvm ~<span class="token punctuation">]</span><span class="token comment"># virsh snapshot-create test						#åˆ›å»ºå¿«ç…§</span>

<span class="token punctuation">[</span>root@kvm ~<span class="token punctuation">]</span><span class="token comment"># virsh snapshot-current test   					#æŸ¥çœ‹å¿«ç…§ç‰ˆæœ¬ä¿¡æ¯</span>

<span class="token punctuation">[</span>root@kvm ~<span class="token punctuation">]</span><span class="token comment"># virsh snapshot-list test     						#æŸ¥çœ‹å¿«ç…§ä¿¡æ¯</span>

<span class="token punctuation">[</span>root@kvm ~<span class="token punctuation">]</span><span class="token comment"># virsh snapshot-revert test åˆå§‹åŒ–ç¯å¢ƒï¼ˆå¿«ç…§åç§°ï¼‰  	#æ¢å¤è™šæ‹Ÿæœºè‡³1620616838</span>

<span class="token punctuation">[</span>root@kvm ~<span class="token punctuation">]</span><span class="token comment"># virsh snapshot-delete test åˆšå®‰è£…çš„vimï¼ˆå¿«ç…§åç§°ï¼‰	#åˆ é™¤å¿«ç…§</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>å¿«ç…§æ–‡ä»¶ä½ç½®</li></ul><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code>/var/lib/libvirt/qemu/snapshot/
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><figure><img src="https://lcy-blog.oss-cn-beijing.aliyuncs.com/blog/202412181605352.gif" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><h2 id="ç›¸å…³æ–‡ç« " tabindex="-1"><a class="header-anchor" href="#ç›¸å…³æ–‡ç« " aria-hidden="true">#</a> ç›¸å…³æ–‡ç« </h2>`,39),q=n("thead",null,[n("tr",null,[n("th",null,"æ–‡ç« æ ‡é¢˜"),n("th",null,"æ–‡ç« åœ°å€")])],-1),C={href:"https://liucy.blog.csdn.net/article/details/126303077",target:"_blank",rel:"noopener noreferrer"},N={href:"https://liucy.blog.csdn.net/article/details/126303077",target:"_blank",rel:"noopener noreferrer"},w={href:"https://liucy.blog.csdn.net/article/details/132076894",target:"_blank",rel:"noopener noreferrer"},E={href:"https://liucy.blog.csdn.net/article/details/132076894",target:"_blank",rel:"noopener noreferrer"};function G(I,L){const e=o("ExternalLinkIcon"),i=o("font");return r(),d("div",null,[n("blockquote",null,[u,n("p",null,[s("â€ƒâ€ƒğŸ…"),n("a",m,[s("äº‘è®¡ç®—é¢†åŸŸä¼˜è´¨åˆ›ä½œè€…"),a(e)]),g,s(" â€ƒâ€ƒğŸ…"),n("a",b,[s("åä¸ºäº‘å¼€å‘è€…ç¤¾åŒºä¸“å®¶åšä¸»"),a(e)]),v,s(" â€ƒâ€ƒğŸ…"),n("a",h,[s("é˜¿é‡Œäº‘å¼€å‘è€…ç¤¾åŒºä¸“å®¶åšä¸»"),a(e)]),k,s(" ğŸ’Š"),y,n("a",f,[s("è¿ç»´äº¤æµç¤¾åŒº"),a(e)]),s(" æ¬¢è¿å¤§å®¶çš„åŠ å…¥ï¼"),_,s(" ğŸ‹ å¸Œæœ›å¤§å®¶å¤šå¤šæ”¯æŒï¼Œæˆ‘ä»¬ä¸€èµ·è¿›æ­¥ï¼ğŸ˜„"),x,s(" ğŸ‰å¦‚æœæ–‡ç« å¯¹ä½ æœ‰å¸®åŠ©çš„è¯ï¼Œæ¬¢è¿ ç‚¹èµ ğŸ‘ğŸ» è¯„è®º ğŸ’¬ æ”¶è— â­ï¸ åŠ å…³æ³¨+ğŸ’—")])]),z,a(i,{color:"red"},{default:l(()=>[s("å¦‚æœæ˜¯è™šæ‹Ÿæœºçš„è¯ï¼Œè®°å¾—åœ¨è™šæ‹Ÿæœºè®¾ç½®ä¸­å¼€å¯è™šæ‹ŸåŒ–")]),_:1}),j,n("p",null,[s("å¦‚æœè™šæ‹Ÿæœºä¸æ˜¯åœ¨æœ¬åœ°çš„è¯ï¼Œå°±éœ€è¦è£…ä¸€ä¸ª"),a(i,{color:"red"},{default:l(()=>[M]),_:1}),s(",å¯è‡ªè¡Œç™¾åº¦ä¸‹è½½ï¼›")]),n("p",null,[n("strong",null,[a(i,{color:"gree"},{default:l(()=>[s("è™šæ‹Ÿæœºä¸­ï¼š")]),_:1})]),V,s(" è¿›å…¥å›¾å½¢åŒ–ç•Œé¢ï¼š")]),K,n("table",null,[q,n("tbody",null,[n("tr",null,[n("td",null,[n("a",C,[s("ã€Linuxã€‘ä¹‹Centos7å®‰è£…KVMè™šæ‹ŸåŒ–åŠç›¸å…³å‘½ä»¤"),a(e)])]),n("td",null,[n("a",N,[s("https://liucy.blog.csdn.net/article/details/126303077"),a(e)])])]),n("tr",null,[n("td",null,[n("a",w,[s("ã€Linuxã€‘ä¹‹Centos7å¸è½½KVMè™šæ‹ŸåŒ–æœåŠ¡"),a(e)])]),n("td",null,[n("a",E,[s("https://liucy.blog.csdn.net/article/details/132076894"),a(e)])])])])])])}const S=c(p,[["render",G],["__file","ã€Linuxã€‘ä¹‹Centos7å®‰è£…KVMè™šæ‹ŸåŒ–åŠç›¸å…³å‘½ä»¤.html.vue"]]);export{S as default};
