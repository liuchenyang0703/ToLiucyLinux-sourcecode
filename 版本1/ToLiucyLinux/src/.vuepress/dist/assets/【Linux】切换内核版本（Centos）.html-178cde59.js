import{_ as i}from"./plugin-vue_export-helper-c27b6911.js";import{r as l,o as t,c as o,a as e,b as a,d as s,e as r}from"./app-6706a352.js";const c={},d=e("p",null,[a("👨‍🎓"),e("strong",null,"博主简介")],-1),p={href:"https://blog.csdn.net/liu_chen_yang?type=blog",target:"_blank",rel:"noopener noreferrer"},u=e("br",null,null,-1),b={href:"https://bbs.huaweicloud.com/community/myblog",target:"_blank",rel:"noopener noreferrer"},g=e("br",null,null,-1),h={href:"https://developer.aliyun.com/my?spm=a2c6h.13148508.setting.3.21fc4f0eCmz1v3#/article?_k=zooqoz",target:"_blank",rel:"noopener noreferrer"},_=e("br",null,null,-1),m=e("strong",null,"交流社区：",-1),v={href:"https://bbs.csdn.net/forums/lcy",target:"_blank",rel:"noopener noreferrer"},f=e("br",null,null,-1),k=e("br",null,null,-1),x=r(`<hr><figure><img src="https://lcy-blog.oss-cn-beijing.aliyuncs.com/blog/202412181357950.png" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><h2 id="_1-查看服务器已安装的所有内核版本" tabindex="-1"><a class="header-anchor" href="#_1-查看服务器已安装的所有内核版本" aria-hidden="true">#</a> 1.查看服务器已安装的所有内核版本</h2><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token function">awk</span> -F<span class="token punctuation">\\</span>&#39; <span class="token string">&#39;$1==&quot;menuentry &quot; {print i++ &quot; : &quot; $2}&#39;</span> /etc/grub2.cfg
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><blockquote><p>0 : CentOS Linux (3.10.0-1160.83.1.el7.x86_64) 7 (Core)<br> 1 : CentOS Linux (3.10.0-1160.80.1.el7.x86_64) 7 (Core)<br> 2 : CentOS Linux (3.10.0-1127.el7.x86_64) 7 (Core)<br> 3 : CentOS Linux (3.10.0-1160.83.1.el7.x86_64.debug) 7 (Core)<br> 4 : CentOS Linux (3.10.0-1160.80.1.el7.x86_64.debug) 7 (Core)<br> 5 : CentOS Linux (0-rescue-0e5781d77781441b97290d7bad5663e2) 7 (Core)</p></blockquote><h2 id="_2-修改版本配置" tabindex="-1"><a class="header-anchor" href="#_2-修改版本配置" aria-hidden="true">#</a> 2.修改版本配置</h2><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token function">vi</span> /etc/default/grub
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token assign-left variable">GRUB_TIMEOUT</span><span class="token operator">=</span><span class="token number">5</span>
<span class="token assign-left variable">GRUB_DISTRIBUTOR</span><span class="token operator">=</span><span class="token string">&quot;<span class="token variable"><span class="token variable">$(</span><span class="token function">sed</span> <span class="token string">&#39;s, release .*$,,g&#39;</span> /etc/system-release<span class="token variable">)</span></span>&quot;</span>
<span class="token assign-left variable">GRUB_DEFAULT</span><span class="token operator">=</span><span class="token number">3</span>
<span class="token assign-left variable">GRUB_DISABLE_SUBMENU</span><span class="token operator">=</span>true
<span class="token assign-left variable">GRUB_TERMINAL_OUTPUT</span><span class="token operator">=</span><span class="token string">&quot;console&quot;</span>
<span class="token assign-left variable">GRUB_CMDLINE_LINUX</span><span class="token operator">=</span><span class="token string">&quot;crashkernel=auto rhgb quiet intel_iommu=on iommu=pt&quot;</span>
<span class="token assign-left variable">GRUB_DISABLE_RECOVERY</span><span class="token operator">=</span><span class="token string">&quot;true&quot;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>将配置文件中的<code>GRUB_DEFAULT</code>的值改为上面查看的对应值ID，根据自己的所需修改；我这里要改为<code>CentOS Linux (3.10.0-1160.80.1.el7.x86_64) 7 (Core)</code>则修改为：</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token assign-left variable">GRUB_DEFAULT</span><span class="token operator">=</span><span class="token number">1</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><figure><img src="https://lcy-blog.oss-cn-beijing.aliyuncs.com/blog/202412181357876.png" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><h2 id="_3-编译配置" tabindex="-1"><a class="header-anchor" href="#_3-编译配置" aria-hidden="true">#</a> 3.编译配置</h2><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code>grub2-mkconfig <span class="token parameter variable">-o</span> /boot/grub2/grub.cfg
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h2 id="_4-重启系统" tabindex="-1"><a class="header-anchor" href="#_4-重启系统" aria-hidden="true">#</a> 4.重启系统</h2><p>编译完成之后需要重新系统方则生效</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token function">reboot</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h2 id="_5-重启后查看内核版本" tabindex="-1"><a class="header-anchor" href="#_5-重启后查看内核版本" aria-hidden="true">#</a> 5.重启后查看内核版本</h2><p>等待重启完成命令查看当前内核版本</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token function">uname</span> <span class="token parameter variable">-a</span>
<span class="token function">uname</span> <span class="token parameter variable">-r</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><figure><img src="https://lcy-blog.oss-cn-beijing.aliyuncs.com/blog/202412181356462.png" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><p>完成版本切换。</p><figure><img src="https://lcy-blog.oss-cn-beijing.aliyuncs.com/blog/202412181356922.jpeg" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure>`,22);function y(C,L){const n=l("ExternalLinkIcon");return t(),o("div",null,[e("blockquote",null,[d,e("p",null,[a("  🏅"),e("a",p,[a("云计算领域优质创作者"),s(n)]),u,a("   🏅"),e("a",b,[a("华为云开发者社区专家博主"),s(n)]),g,a("   🏅"),e("a",h,[a("阿里云开发者社区专家博主"),s(n)]),_,a(" 💊"),m,e("a",v,[a("运维交流社区"),s(n)]),a(" 欢迎大家的加入！"),f,a(" 🐋 希望大家多多支持，我们一起进步！😄"),k,a(" 🎉如果文章对你有帮助的话，欢迎 点赞 👍🏻 评论 💬 收藏 ⭐️ 加关注+💗")])]),x])}const B=i(c,[["render",y],["__file","【Linux】切换内核版本（Centos）.html.vue"]]);export{B as default};
